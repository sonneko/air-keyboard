(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();var Ui=typeof self<"u"?self:{};function hi(){throw Error("Invalid UTF8")}function il(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}let os,Lo;const zf=typeof TextDecoder<"u";let Vf;const Uf=typeof TextEncoder<"u";function jh(t){if(Uf)t=(Vf||=new TextEncoder).encode(t);else{let i=0;const n=new Uint8Array(3*t.length);for(let s=0;s<t.length;s++){var e=t.charCodeAt(s);if(e<128)n[i++]=e;else{if(e<2048)n[i++]=e>>6|192;else{if(e>=55296&&e<=57343){if(e<=56319&&s<t.length){const o=t.charCodeAt(++s);if(o>=56320&&o<=57343){e=1024*(e-55296)+o-56320+65536,n[i++]=e>>18|240,n[i++]=e>>12&63|128,n[i++]=e>>6&63|128,n[i++]=63&e|128;continue}s--}e=65533}n[i++]=e>>12|224,n[i++]=e>>6&63|128}n[i++]=63&e|128}}t=i===n.length?n:n.subarray(0,i)}return t}var Nr,Os;t:{for(var nl=["CLOSURE_FLAGS"],Do=Ui,Oo=0;Oo<nl.length;Oo++)if((Do=Do[nl[Oo]])==null){Os=null;break t}Os=Do}var Nn,sl=Os&&Os[610401301];Nr=sl!=null&&sl;const ol=Ui.navigator;function or(t){return!!Nr&&!!Nn&&Nn.brands.some((({brand:e})=>e&&e.indexOf(t)!=-1))}function ie(t){var e;return(e=Ui.navigator)&&(e=e.userAgent)||(e=""),e.indexOf(t)!=-1}function je(){return!!Nr&&!!Nn&&Nn.brands.length>0}function Ro(){return je()?or("Chromium"):(ie("Chrome")||ie("CriOS"))&&!(!je()&&ie("Edge"))||ie("Silk")}function Ys(t){return Ys[" "](t),t}Nn=ol&&ol.userAgentData||null,Ys[" "]=function(){};var jf=!je()&&(ie("Trident")||ie("MSIE"));!ie("Android")||Ro(),Ro(),ie("Safari")&&(Ro()||!je()&&ie("Coast")||!je()&&ie("Opera")||!je()&&ie("Edge")||(je()?or("Microsoft Edge"):ie("Edg/"))||je()&&or("Opera"));var Wh={},Sn=null;function Wf(t){const e=t.length;let i=3*e/4;i%3?i=Math.floor(i):"=.".indexOf(t[e-1])!=-1&&(i="=.".indexOf(t[e-2])!=-1?i-2:i-1);const n=new Uint8Array(i);let s=0;return(function(o,r){function a(c){for(;l<o.length;){const h=o.charAt(l++),u=Sn[h];if(u!=null)return u;if(!/^[\s\xa0]*$/.test(h))throw Error("Unknown base64 encoding at char: "+h)}return c}Hh();let l=0;for(;;){const c=a(-1),h=a(0),u=a(64),d=a(64);if(d===64&&c===-1)break;r(c<<2|h>>4),u!=64&&(r(h<<4&240|u>>2),d!=64&&r(u<<6&192|d))}})(t,(function(o){n[s++]=o})),s!==i?n.subarray(0,s):n}function Hh(){if(!Sn){Sn={};var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"];for(let i=0;i<5;i++){const n=t.concat(e[i].split(""));Wh[i]=n;for(let s=0;s<n.length;s++){const o=n[s];Sn[o]===void 0&&(Sn[o]=s)}}}}var Gh=typeof Uint8Array<"u",Xh=!jf&&typeof btoa=="function";function rl(t){if(!Xh){var e;e===void 0&&(e=0),Hh(),e=Wh[e];var i=Array(Math.floor(t.length/3)),n=e[64]||"";let l=0,c=0;for(;l<t.length-2;l+=3){var s=t[l],o=t[l+1],r=t[l+2],a=e[s>>2];s=e[(3&s)<<4|o>>4],o=e[(15&o)<<2|r>>6],r=e[63&r],i[c++]=a+s+o+r}switch(a=0,r=n,t.length-l){case 2:r=e[(15&(a=t[l+1]))<<2]||n;case 1:t=t[l],i[c]=e[t>>2]+e[(3&t)<<4|a>>4]+r+n}return i.join("")}for(e="",i=0,n=t.length-10240;i<n;)e+=String.fromCharCode.apply(null,t.subarray(i,i+=10240));return e+=String.fromCharCode.apply(null,i?t.subarray(i):t),btoa(e)}const al=/[-_.]/g,Hf={"-":"+",_:"/",".":"="};function Gf(t){return Hf[t]||""}function Yh(t){if(!Xh)return Wf(t);al.test(t)&&(t=t.replace(al,Gf)),t=atob(t);const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}function ki(t){return Gh&&t!=null&&t instanceof Uint8Array}var ji={};function Si(){return Xf||=new Fe(null,ji)}function zr(t){$h(ji);var e=t.g;return(e=e==null||ki(e)?e:typeof e=="string"?Yh(e):null)==null?e:t.g=e}var Fe=class{h(){return new Uint8Array(zr(this)||0)}constructor(t,e){if($h(e),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}};let Xf,Yf;function $h(t){if(t!==ji)throw Error("illegal external caller")}function Kh(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function rr(t){return Kh(t=Error(t),"warning"),t}function Vr(t){if(t!=null){var e=Yf??={},i=e[t]||0;i>=5||(e[t]=i+1,Kh(t=Error(),"incident"),(function(n){Ui.setTimeout((()=>{throw n}),0)})(t))}}var $s=typeof Symbol=="function"&&typeof Symbol()=="symbol";function en(t,e,i=!1){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?i&&Symbol.for&&t?Symbol.for(t):t!=null?Symbol(t):Symbol():e}var $f=en("jas",void 0,!0),ll=en(void 0,"0di"),gn=en(void 0,"1oa"),Wi=en(void 0,Symbol()),Kf=en(void 0,"0actk"),qh=en(void 0,"8utk");const P=$s?$f:"Ea",Jh={Ea:{value:0,configurable:!0,writable:!0,enumerable:!1}},Zh=Object.defineProperties;function Ks(t,e){$s||P in t||Zh(t,Jh),t[P]|=e}function gt(t,e){$s||P in t||Zh(t,Jh),t[P]=e}function nn(t){return Ks(t,34),t}function qf(t,e){gt(e,-15615&(0|t))}function ar(t,e){gt(e,-15581&(34|t))}function qs(){return typeof BigInt=="function"}function Nt(t){return Array.prototype.slice.call(t)}var Ur,Zn={};function Js(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function jr(t,e){if(t!=null){if(typeof t=="string")t=t?new Fe(t,ji):Si();else if(t.constructor!==Fe)if(ki(t))t=t.length?new Fe(new Uint8Array(t),ji):Si();else{if(!e)throw Error();t=void 0}}return t}const cl=[];function ni(t){if(2&t)throw Error()}gt(cl,55),Ur=Object.freeze(cl);class hl{constructor(e,i,n){this.g=e,this.h=i,this.l=n}next(){const e=this.g.next();return e.done||(e.value=this.h.call(this.l,e.value)),e}[Symbol.iterator](){return this}}function Wr(t){return Wi?t[Wi]:void 0}var Jf=Object.freeze({});function Zs(t){return t.Na=!0,t}var Zf=Zs((t=>typeof t=="number")),ul=Zs((t=>typeof t=="string")),Qf=Zs((t=>typeof t=="boolean")),Qs=typeof Ui.BigInt=="function"&&typeof Ui.BigInt(0)=="bigint";function Ye(t){var e=t;if(ul(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(Zf(e)&&!Number.isSafeInteger(e))throw Error(String(e));return Qs?BigInt(t):t=Qf(t)?t?"1":"0":ul(t)?t.trim()||"0":String(t)}var lr=Zs((t=>Qs?t>=eg&&t<=ng:t[0]==="-"?dl(t,tg):dl(t,ig)));const tg=Number.MIN_SAFE_INTEGER.toString(),eg=Qs?BigInt(Number.MIN_SAFE_INTEGER):void 0,ig=Number.MAX_SAFE_INTEGER.toString(),ng=Qs?BigInt(Number.MAX_SAFE_INTEGER):void 0;function dl(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let i=0;i<t.length;i++){const n=t[i],s=e[i];if(n>s)return!1;if(n<s)return!0}}const sg=typeof Uint8Array.prototype.slice=="function";let Qh,Y=0,at=0;function fl(t){const e=t>>>0;Y=e,at=(t-e)/4294967296>>>0}function Mi(t){if(t<0){fl(-t);const[e,i]=Yr(Y,at);Y=e>>>0,at=i>>>0}else fl(t)}function Hr(t){const e=Qh||=new DataView(new ArrayBuffer(8));e.setFloat32(0,+t,!0),at=0,Y=e.getUint32(0,!0)}function Gr(t,e){const i=4294967296*e+(t>>>0);return Number.isSafeInteger(i)?i:zn(t,e)}function Xr(t,e){const i=2147483648&e;return i&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),typeof(t=Gr(t,e))=="number"?i?-t:t:i?"-"+t:t}function zn(t,e){if(t>>>=0,(e>>>=0)<=2097151)var i=""+(4294967296*e+t);else qs()?i=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(i=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),i+=8147497*e,e*=2,t>=1e7&&(i+=t/1e7>>>0,t%=1e7),i>=1e7&&(e+=i/1e7>>>0,i%=1e7),i=e+gl(i)+gl(t));return i}function gl(t){return t=String(t),"0000000".slice(t.length)+t}function tu(){var t=Y,e=at;if(2147483648&e)if(qs())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{const[i,n]=Yr(t,e);t="-"+zn(i,n)}else t=zn(t,e);return t}function to(t){if(t.length<16)Mi(Number(t));else if(qs())t=BigInt(t),Y=Number(t&BigInt(4294967295))>>>0,at=Number(t>>BigInt(32)&BigInt(4294967295));else{const e=+(t[0]==="-");at=Y=0;const i=t.length;for(let n=e,s=(i-e)%6+e;s<=i;n=s,s+=6){const o=Number(t.slice(n,s));at*=1e6,Y=1e6*Y+o,Y>=4294967296&&(at+=Math.trunc(Y/4294967296),at>>>=0,Y>>>=0)}if(e){const[n,s]=Yr(Y,at);Y=n,at=s}}}function Yr(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}const Vn=typeof BigInt=="function"?BigInt.asIntN:void 0,og=typeof BigInt=="function"?BigInt.asUintN:void 0,$e=Number.isSafeInteger,eo=Number.isFinite,Hi=Math.trunc,rg=Ye(0);function si(t){return t==null||typeof t=="number"?t:t==="NaN"||t==="Infinity"||t==="-Infinity"?Number(t):void 0}function eu(t){return t==null||typeof t=="boolean"?t:typeof t=="number"?!!t:void 0}const ag=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function Un(t){switch(typeof t){case"bigint":return!0;case"number":return eo(t);case"string":return ag.test(t);default:return!1}}function sn(t){if(t==null)return t;if(typeof t=="string"&&t)t=+t;else if(typeof t!="number")return;return eo(t)?0|t:void 0}function iu(t){if(t==null)return t;if(typeof t=="string"&&t)t=+t;else if(typeof t!="number")return;return eo(t)?t>>>0:void 0}function pl(t){if(t[0]==="-")return!1;const e=t.length;return e<20||e===20&&Number(t.substring(0,6))<184467}function nu(t){const e=t.length;return t[0]==="-"?e<20||e===20&&Number(t.substring(0,7))>-922337:e<19||e===19&&Number(t.substring(0,6))<922337}function su(t){return nu(t)?t:(to(t),tu())}function $r(t){return t=Hi(t),$e(t)||(Mi(t),t=Xr(Y,at)),t}function ou(t){var e=Hi(Number(t));return $e(e)?String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),su(t))}function ml(t){var e=Hi(Number(t));return $e(e)?Ye(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),qs()?Ye(Vn(64,BigInt(t))):Ye(su(t)))}function bl(t){if($e(t))t=Ye($r(t));else{if(t=Hi(t),$e(t))t=String(t);else{const e=String(t);nu(e)?t=e:(Mi(t),t=tu())}t=Ye(t)}return t}function cr(t){return t==null?t:typeof t=="bigint"?(lr(t)?t=Number(t):(t=Vn(64,t),t=lr(t)?Number(t):String(t)),t):Un(t)?typeof t=="number"?$r(t):ou(t):void 0}function lg(t){if(t==null)return t;var e=typeof t;if(e==="bigint")return String(og(64,t));if(Un(t)){if(e==="string")return e=Hi(Number(t)),$e(e)&&e>=0?t=String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),pl(t)||(to(t),t=zn(Y,at))),t;if(e==="number")return(t=Hi(t))>=0&&$e(t)?t:(function(i){if(i<0){Mi(i);var n=zn(Y,at);return i=Number(n),$e(i)?i:n}return pl(n=String(i))?n:(Mi(i),Gr(Y,at))})(t)}}function ru(t){if(typeof t!="string")throw Error();return t}function on(t){if(t!=null&&typeof t!="string")throw Error();return t}function Gi(t){return t==null||typeof t=="string"?t:void 0}function Kr(t,e,i,n){if(t!=null&&typeof t=="object"&&t.W===Zn)return t;if(!Array.isArray(t))return i?2&n?((t=e[ll])||(nn((t=new e).u),t=e[ll]=t),e=t):e=new e:e=void 0,e;let s=i=0|t[P];return s===0&&(s|=32&n),s|=2&n,s!==i&&gt(t,s),new e(t)}function cg(t,e,i){if(e)t:{if(!Un(e=t))throw rr("int64");switch(typeof e){case"string":e=ml(e);break t;case"bigint":e=Ye(Vn(64,e));break t;default:e=bl(e)}}else t=typeof(e=t),e=e==null?e:t==="bigint"?Ye(Vn(64,e)):Un(e)?t==="string"?ml(e):bl(e):void 0;return(t=e)==null?i?rg:void 0:t}function hg(t){return t}const ug={};let dg=(function(){try{return Ys(new class extends Map{constructor(){super()}}),!1}catch{return!0}})();class Fo{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,i){return this.g.set(e,i),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,i){return this.g.forEach(e,i)}[Symbol.iterator](){return this.entries()}}const fg=dg?(Object.setPrototypeOf(Fo.prototype,Map.prototype),Object.defineProperties(Fo.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),Fo):class extends Map{constructor(){super()}};function _l(t){return t}function Io(t){if(2&t.M)throw Error("Cannot mutate an immutable Map")}var xe=class extends fg{constructor(t,e,i=_l,n=_l){super();let s=0|t[P];s|=64,gt(t,s),this.M=s,this.I=e,this.S=i,this.X=this.I?gg:n;for(let o=0;o<t.length;o++){const r=t[o],a=i(r[0],!1,!0);let l=r[1];e?l===void 0&&(l=null):l=n(r[1],!1,!0,void 0,void 0,s),super.set(a,l)}}La(){var t=yg;if(this.size!==0)return Array.from(super.entries(),(e=>(e[0]=t(e[0]),e[1]=t(e[1]),e)))}da(t=pg){const e=[],i=super.entries();for(var n;!(n=i.next()).done;)(n=n.value)[0]=t(n[0]),n[1]=t(n[1]),e.push(n);return e}clear(){Io(this),super.clear()}delete(t){return Io(this),super.delete(this.S(t,!0,!1))}entries(){if(this.I){var t=super.keys();t=new hl(t,mg,this)}else t=super.entries();return t}values(){if(this.I){var t=super.keys();t=new hl(t,xe.prototype.get,this)}else t=super.values();return t}forEach(t,e){this.I?super.forEach(((i,n,s)=>{t.call(e,s.get(n),n,s)})):super.forEach(t,e)}set(t,e){return Io(this),(t=this.S(t,!0,!1))==null?this:e==null?(super.delete(t),this):super.set(t,this.X(e,!0,!0,this.I,!1,this.M))}Ja(t){const e=this.S(t[0],!1,!0);t=t[1],t=this.I?t===void 0?null:t:this.X(t,!1,!0,void 0,!1,this.M),super.set(e,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);const e=super.get(t);if(e!==void 0){var i=this.I;return i?((i=this.X(e,!1,!0,i,this.pa,this.M))!==e&&super.set(t,i),i):e}}[Symbol.iterator](){return this.entries()}};function gg(t,e,i,n,s,o){return t=Kr(t,n,i,o),s&&(t=so(t)),t}function pg(t){return t}function mg(t){return[t,this.get(t)]}let bg,au,lu,_g;function yl(){return bg||=new xe(nn([]),void 0,void 0,void 0,ug)}function hr(t,e,i,n,s){if(t!=null){if(Array.isArray(t)){const o=0|t[P];return t.length===0&&1&o?void 0:s&&2&o?t:io(t,e,i,n!==void 0,s)}return e(t,n)}}function io(t,e,i,n,s){const o=n||i?0|t[P]:0,r=n?!!(32&o):void 0;let a=0;const l=(n=Nt(t)).length;for(let g=0;g<l;g++){var c=n[g];if(g===l-1&&Js(c)){var h=e,u=i,d=r,f=s;let p;for(let m in c){const b=hr(c[m],h,u,d,f);b!=null&&((p??={})[m]=b)}c=p}else c=hr(n[g],e,i,r,s);n[g]=c,c!=null&&(a=g+1)}return a<l&&(n.length=a),i&&((t=Wr(t))&&(n[Wi]=Nt(t)),i(o,n)),n}function yg(t){return hr(t,qr,void 0,void 0,!1)}function qr(t){switch(typeof t){case"number":return Number.isFinite(t)?t:""+t;case"bigint":return lr(t)?Number(t):""+t;case"boolean":return t?1:0;case"object":if(ki(t))return ki(t)&&Vr(qh),rl(t);if(t.W===Zn)return cu(t);if(t instanceof Fe){const e=t.g;return e==null?"":typeof e=="string"?e:t.g=rl(e)}return t instanceof xe?t.La():void 0}return t}function cu(t){var e=t.u;t=io(e,qr,void 0,void 0,!1);var i=0|e[P];if((e=t.length)&&!(512&i)){var n=t[e-1],s=!1;Js(n)?(e--,s=!0):n=void 0;var o=e-(i=512&i?0:-1),r=(au??hg)(o,i,t,n);if(n&&(t[e]=void 0),o<r&&n){for(var a in o=!0,n){const l=+a;l<=r?(t[s=l+i]=n[a],e=Math.max(s+1,e),s=!1,delete n[a]):o=!1}o&&(n=void 0)}for(o=e-1;e>0;o=e-1)if((a=t[o])==null)e--,s=!0;else{if(!((o-=i)>=r))break;(n??={})[o]=a,e--,s=!0}s&&(t.length=e),n&&t.push(n)}return t}function Ke(t,e,i){return t=hu(t,e[0],e[1],i?1:2),e!==lu&&i&&Ks(t,8192),t}function hu(t,e,i,n){if(t==null){var s=96;i?(t=[i],s|=512):t=[],e&&(s=-16760833&s|(1023&e)<<14)}else{if(!Array.isArray(t))throw Error("narr");if(8192&(s=0|t[P])||!(64&s)||2&s||Vr(Kf),1024&s)throw Error("farr");if(64&s)return t;if(n===1||n===2||(s|=64),i&&(s|=512,i!==t[0]))throw Error("mid");t:{var o=(i=t).length;if(o){var r=o-1;if(Js(n=i[r])){if((r-=e=512&(s|=256)?0:-1)>=1024)throw Error("pvtlmt");for(var a in n)(o=+a)<r&&(i[o+e]=n[a],delete n[a]);s=-16760833&s|(1023&r)<<14;break t}}if(e){if((a=Math.max(e,o-(512&s?0:-1)))>1024)throw Error("spvt");s=-16760833&s|(1023&a)<<14}}}return gt(t,s),t}function ur(t,e,i=ar){if(t!=null){if(Gh&&t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var n=0|t[P];return 2&n?t:(e&&=n===0||!!(32&n)&&!(64&n||!(16&n)),e?(gt(t,34|n),4&n&&Object.freeze(t),t):io(t,ur,4&n?ar:i,!0,!0))}return t.W===Zn?t=2&(n=0|(i=t.u)[P])?t:new t.constructor(no(i,n,!0)):t instanceof xe&&!(2&t.M)&&(i=nn(t.da(ur)),t=new xe(i,t.I,t.S,t.X)),t}}function no(t,e,i){const n=i||2&e?ar:qf,s=!!(32&e);return t=(function(o,r,a){const l=Nt(o);var c=l.length;const h=256&r?l[c-1]:void 0;for(c+=h?-1:0,r=512&r?1:0;r<c;r++)l[r]=a(l[r]);if(h){r=l[r]={};for(const u in h)r[u]=a(h[u])}return(o=Wr(o))&&(l[Wi]=Nt(o)),l})(t,e,(o=>ur(o,s,n))),Ks(t,32|(i?2:0)),t}function so(t){const e=t.u,i=0|e[P];return 2&i?new t.constructor(no(e,i,!1)):t}function Xi(t,e){return ze(t=t.u,0|t[P],e)}function ze(t,e,i){if(i===-1)return null;const n=i+(512&e?0:-1),s=t.length-1;return n>=s&&256&e?t[s][i]:n<=s?t[n]:void 0}function K(t,e,i){const n=t.u;let s=0|n[P];return ni(s),ot(n,s,e,i),t}function ot(t,e,i,n){const s=512&e?0:-1,o=i+s;var r=t.length-1;return o>=r&&256&e?(t[r][i]=n,e):o<=r?(t[o]=n,e):(n!==void 0&&(i>=(r=e>>14&1023||536870912)?n!=null&&(t[r+s]={[i]:n},gt(t,e|=256)):t[o]=n),e)}function Ms(t,e){let i=0|(t=t.u)[P];const n=ze(t,i,e),s=si(n);return s!=null&&s!==n&&ot(t,i,e,s),s}function uu(t){let e=0|(t=t.u)[P];const i=ze(t,e,1),n=jr(i,!0);return n!=null&&n!==i&&ot(t,e,1,n),n}function _i(){return Jf===void 0?2:4}function yi(t,e,i,n,s){const o=t.u,r=2&(t=0|o[P])?1:n;s=!!s;let a=0|(n=Jr(o,t,e))[P];if(!(4&a)){4&a&&(n=Nt(n),a=Ie(a,t),t=ot(o,t,e,n));let l=0,c=0;for(;l<n.length;l++){const h=i(n[l]);h!=null&&(n[c++]=h)}c<l&&(n.length=c),a=Zr(a,t),i=-2049&(20|a),a=i&=-4097,gt(n,a),2&a&&Object.freeze(n)}return r===1||r===4&&32&a?Le(a)||(s=a,a|=2,a!==s&&gt(n,a),Object.freeze(n)):(r===2&&Le(a)&&(n=Nt(n),a=Ie(a,t),a=qe(a,t,s),gt(n,a),t=ot(o,t,e,n)),Le(a)||(e=a,a=qe(a,t,s),a!==e&&gt(n,a))),n}function Jr(t,e,i){return t=ze(t,e,i),Array.isArray(t)?t:Ur}function Zr(t,e){return t===0&&(t=Ie(t,e)),1|t}function Le(t){return!!(2&t)&&!!(4&t)||!!(1024&t)}function du(t){t=Nt(t);for(let e=0;e<t.length;e++){const i=t[e]=Nt(t[e]);Array.isArray(i[1])&&(i[1]=nn(i[1]))}return t}function dr(t,e,i,n){let s=0|(t=t.u)[P];ni(s),ot(t,s,e,(n==="0"?Number(i)===0:i===n)?void 0:i)}function rn(t,e,i,n){ni(e);let s=Jr(t,e,i);const o=s!==Ur;if(64&e||!(8192&e)||!o){const r=o?0|s[P]:0;let a=r;(!o||2&a||Le(a)||4&a&&!(32&a))&&(s=Nt(s),a=Ie(a,e),e=ot(t,e,i,s)),a=-13&Zr(a,e),a=qe(n?-17&a:16|a,e,!0),a!==r&&gt(s,a)}return s}function Bo(t,e){var i=td;return ta(Qr(t=t.u),t,0|t[P],i)===e?e:-1}function Qr(t){if($s)return t[gn]??(t[gn]=new Map);if(gn in t)return t[gn];const e=new Map;return Object.defineProperty(t,gn,{value:e}),e}function fu(t,e,i,n){const s=Qr(t),o=ta(s,t,e,i);return o!==n&&(o&&(e=ot(t,e,o)),s.set(i,n)),e}function ta(t,e,i,n){let s=t.get(n);if(s!=null)return s;s=0;for(let o=0;o<n.length;o++){const r=n[o];ze(e,i,r)!=null&&(s!==0&&(i=ot(e,i,s)),s=r)}return t.set(n,s),s}function ea(t,e,i){let n=0|t[P];const s=ze(t,n,i);let o;if(s!=null&&s.W===Zn)return(e=so(s))!==s&&ot(t,n,i,e),e.u;if(Array.isArray(s)){const r=0|s[P];o=2&r?Ke(no(s,r,!1),e,!0):64&r?s:Ke(o,e,!0)}else o=Ke(void 0,e,!0);return o!==s&&ot(t,n,i,o),o}function gu(t,e,i){let n=0|(t=t.u)[P];const s=ze(t,n,i);return(e=Kr(s,e,!1,n))!==s&&e!=null&&ot(t,n,i,e),e}function V(t,e,i){if((e=gu(t,e,i))==null)return e;let n=0|(t=t.u)[P];if(!(2&n)){const s=so(e);s!==e&&ot(t,n,i,e=s)}return e}function pu(t,e,i,n,s,o,r){t=t.u;var a=!!(2&e);const l=a?1:s;o=!!o,r&&=!a;var c=0|(s=Jr(t,e,n))[P];if(!(a=!!(4&c))){var h=s,u=e;const d=!!(2&(c=Zr(c,e)));d&&(u|=2);let f=!d,g=!0,p=0,m=0;for(;p<h.length;p++){const b=Kr(h[p],i,!1,u);if(b instanceof i){if(!d){const _=!!(2&(0|b.u[P]));f&&=!_,g&&=_}h[m++]=b}}m<p&&(h.length=m),c|=4,c=g?16|c:-17&c,gt(h,c=f?8|c:-9&c),d&&Object.freeze(h)}if(r&&!(8&c||!s.length&&(l===1||l===4&&32&c))){for(Le(c)&&(s=Nt(s),c=Ie(c,e),e=ot(t,e,n,s)),i=s,r=c,h=0;h<i.length;h++)(c=i[h])!==(u=so(c))&&(i[h]=u);r|=8,gt(i,r=i.length?-17&r:16|r),c=r}return l===1||l===4&&32&c?Le(c)||(e=c,(c|=!s.length||16&c&&(!a||32&c)?2:1024)!==e&&gt(s,c),Object.freeze(s)):(l===2&&Le(c)&&(gt(s=Nt(s),c=qe(c=Ie(c,e),e,o)),e=ot(t,e,n,s)),Le(c)||(n=c,(c=qe(c,e,o))!==n&&gt(s,c))),s}function Be(t,e,i){const n=0|t.u[P];return pu(t,n,e,i,_i(),!1,!(2&n))}function C(t,e,i,n){return n==null&&(n=void 0),K(t,i,n)}function Ln(t,e,i,n){n==null&&(n=void 0);t:{let s=0|(t=t.u)[P];if(ni(s),n==null){const o=Qr(t);if(ta(o,t,s,i)!==e)break t;o.set(i,0)}else s=fu(t,s,i,e);ot(t,s,e,n)}}function Ie(t,e){return-1025&(t=32|(2&e?2|t:-3&t))}function qe(t,e,i){return 32&e&&i||(t&=-33),t}function oo(t,e,i){ni(0|t.u[P]),yi(t,e,Gi,2,!0).push(ru(i))}function Rs(t,e,i,n){const s=0|t.u[P];ni(s),t=pu(t,s,i,e,2,!0),n=n??new i,t.push(n),t[P]=2&(0|n.u[P])?-9&t[P]:-17&t[P]}function ne(t,e){return sn(Xi(t,e))}function se(t,e){return Gi(Xi(t,e))}function ut(t,e){return Ms(t,e)??0}function jn(t,e,i){if(i!=null&&typeof i!="boolean")throw t=typeof i,Error(`Expected boolean but got ${t!="object"?t:i?Array.isArray(i)?"array":t:"null"}: ${i}`);K(t,e,i)}function ve(t,e,i){if(i!=null){if(typeof i!="number"||!eo(i))throw rr("int32");i|=0}K(t,e,i)}function T(t,e,i){if(i!=null&&typeof i!="number")throw Error(`Value of float/double field must be a number, found ${typeof i}: ${i}`);K(t,e,i)}function Fs(t,e,i){{const r=t.u;let a=0|r[P];if(ni(a),i==null)ot(r,a,e);else{var n=t=0|i[P],s=Le(t),o=s||Object.isFrozen(i);for(s||(t=0),o||(i=Nt(i),n=0,t=qe(t=Ie(t,a),a,!0),o=!1),t|=21,s=0;s<i.length;s++){const l=i[s],c=ru(l);Object.is(l,c)||(o&&(i=Nt(i),n=0,t=qe(t=Ie(t,a),a,!0),o=!1),i[s]=c)}t!==n&&(o&&(i=Nt(i),t=qe(t=Ie(t,a),a,!0)),gt(i,t)),ot(r,a,e,i)}}}function mu(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function ia(){return Error("Failed to read varint, encoding is invalid.")}function bu(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function na(t){if(typeof t=="string")return{buffer:Yh(t),O:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Uint8Array)return{buffer:t,O:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),O:!1};if(t.constructor===Fe)return{buffer:zr(t)||new Uint8Array(0),O:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function sa(t,e){let i,n=0,s=0,o=0;const r=t.h;let a=t.g;do i=r[a++],n|=(127&i)<<o,o+=7;while(o<32&&128&i);for(o>32&&(s|=(127&i)>>4),o=3;o<32&&128&i;o+=7)i=r[a++],s|=(127&i)<<o;if(xi(t,a),i<128)return e(n>>>0,s>>>0);throw ia()}function oa(t){let e=0,i=t.g;const n=i+10,s=t.h;for(;i<n;){const o=s[i++];if(e|=o,(128&o)==0)return xi(t,i),!!(127&e)}throw ia()}function Ze(t){const e=t.h;let i=t.g,n=e[i++],s=127&n;if(128&n&&(n=e[i++],s|=(127&n)<<7,128&n&&(n=e[i++],s|=(127&n)<<14,128&n&&(n=e[i++],s|=(127&n)<<21,128&n&&(n=e[i++],s|=n<<28,128&n&&128&e[i++]&&128&e[i++]&&128&e[i++]&&128&e[i++]&&128&e[i++])))))throw ia();return xi(t,i),s}function Ne(t){return Ze(t)>>>0}function fr(t){var e=t.h;const i=t.g,n=e[i],s=e[i+1],o=e[i+2];return e=e[i+3],xi(t,t.g+4),(n<<0|s<<8|o<<16|e<<24)>>>0}function gr(t){var e=fr(t);t=2*(e>>31)+1;const i=e>>>23&255;return e&=8388607,i==255?e?NaN:t*(1/0):i==0?1401298464324817e-60*t*e:t*Math.pow(2,i-150)*(e+8388608)}function xg(t){return Ze(t)}function No(t,e,{aa:i=!1}={}){t.aa=i,e&&(e=na(e),t.h=e.buffer,t.m=e.O,t.j=0,t.l=t.h.length,t.g=t.j)}function xi(t,e){if(t.g=e,e>t.l)throw bu(t.l,e)}function _u(t,e){if(e<0)throw Error(`Tried to read a negative byte length: ${e}`);const i=t.g,n=i+e;if(n>t.l)throw bu(e,t.l-i);return t.g=n,i}function yu(t,e){if(e==0)return Si();var i=_u(t,e);return t.aa&&t.m?i=t.h.subarray(i,i+e):(t=t.h,i=i===(e=i+e)?new Uint8Array(0):sg?t.slice(i,e):new Uint8Array(t.subarray(i,e))),i.length==0?Si():new Fe(i,ji)}xe.prototype.toJSON=void 0;var xl=[];function xu(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var i=Ne(t.g);if(e=i>>>3,!((i&=7)>=0&&i<=5))throw mu(i,t.l);if(e<1)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=i,!0}function As(t){switch(t.h){case 0:t.h!=0?As(t):oa(t.g);break;case 1:xi(t=t.g,t.g+8);break;case 2:if(t.h!=2)As(t);else{var e=Ne(t.g);xi(t=t.g,t.g+e)}break;case 5:xi(t=t.g,t.g+4);break;case 3:for(e=t.m;;){if(!xu(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.m!=e)throw Error("Unmatched end-group tag");break}As(t)}break;default:throw mu(t.h,t.l)}}function Qn(t,e,i){const n=t.g.l,s=Ne(t.g),o=t.g.g+s;let r=o-n;if(r<=0&&(t.g.l=o,i(e,t,void 0,void 0,void 0),r=o-t.g.g),r)throw Error(`Message parsing ended unexpectedly. Expected to read ${s} bytes, instead read ${s-r} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=o,t.g.l=n,e}function ra(t){var e=Ne(t.g),i=_u(t=t.g,e);if(t=t.h,zf){var n,s=t;(n=Lo)||(n=Lo=new TextDecoder("utf-8",{fatal:!0})),e=i+e,s=i===0&&e===s.length?s:s.subarray(i,e);try{var o=n.decode(s)}catch(a){if(os===void 0){try{n.decode(new Uint8Array([128]))}catch{}try{n.decode(new Uint8Array([97])),os=!0}catch{os=!1}}throw!os&&(Lo=void 0),a}}else{e=(o=i)+e,i=[];let a,l=null;for(;o<e;){var r=t[o++];r<128?i.push(r):r<224?o>=e?hi():(a=t[o++],r<194||(192&a)!=128?(o--,hi()):i.push((31&r)<<6|63&a)):r<240?o>=e-1?hi():(a=t[o++],(192&a)!=128||r===224&&a<160||r===237&&a>=160||(192&(n=t[o++]))!=128?(o--,hi()):i.push((15&r)<<12|(63&a)<<6|63&n)):r<=244?o>=e-2?hi():(a=t[o++],(192&a)!=128||a-144+(r<<28)>>30!=0||(192&(n=t[o++]))!=128||(192&(s=t[o++]))!=128?(o--,hi()):(r=(7&r)<<18|(63&a)<<12|(63&n)<<6|63&s,r-=65536,i.push(55296+(r>>10&1023),56320+(1023&r)))):hi(),i.length>=8192&&(l=il(l,i),i.length=0)}o=il(l,i)}return o}function vu(t){const e=Ne(t.g);return yu(t.g,e)}function ro(t,e,i){var n=Ne(t.g);for(n=t.g.g+n;t.g.g<n;)i.push(e(t.g))}var rs=[];function ce(t,e,i){e.g?e.m(t,e.g,e.h,i):e.m(t,e.h,i)}var A=class{constructor(t,e){this.u=hu(t,e)}toJSON(){try{var t=cu(this)}finally{au=void 0}return t}l(){var t=ip;return t.g?t.l(this,t.g,t.h):t.l(this,t.h,t.defaultValue)}clone(){const t=this.u;return new this.constructor(no(t,0|t[P],!1))}O(){return!!(2&(0|this.u[P]))}};function vl(t){return t?/^\d+$/.test(t)?(to(t),new pr(Y,at)):null:vg||=new pr(0,0)}A.prototype.W=Zn,A.prototype.toString=function(){return this.u.toString()};var pr=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let vg;function wl(t){return t?/^-?\d+$/.test(t)?(to(t),new mr(Y,at)):null:wg||=new mr(0,0)}var mr=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}};let wg;function Bi(t,e,i){for(;i>0||e>127;)t.g.push(127&e|128),e=(e>>>7|i<<25)>>>0,i>>>=7;t.g.push(e)}function an(t,e){for(;e>127;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function ao(t,e){if(e>=0)an(t,e);else{for(let i=0;i<9;i++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function Wn(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function Yi(t,e){e.length!==0&&(t.l.push(e),t.h+=e.length)}function Kt(t,e,i){an(t.g,8*e+i)}function aa(t,e){return Kt(t,e,2),e=t.g.end(),Yi(t,e),e.push(t.h),e}function la(t,e){var i=e.pop();for(i=t.h+t.g.length()-i;i>127;)e.push(127&i|128),i>>>=7,t.h++;e.push(i),t.h++}function lo(t,e,i){Kt(t,e,2),an(t.g,i.length),Yi(t,t.g.end()),Yi(t,i)}function Is(t,e,i,n){i!=null&&(e=aa(t,e),n(i,t),la(t,e))}function he(){const t=class{constructor(){throw Error()}};return Object.setPrototypeOf(t,t.prototype),t}var ca=he(),wu=he(),ha=he(),ua=he(),ku=he(),Su=he(),da=he(),Mu=he(),Au=he(),ln=class{constructor(t,e,i){this.g=t,this.h=e,t=ca,this.l=!!t&&i===t||!1}};function co(t,e){return new ln(t,e,ca)}function Tu(t,e,i,n,s){Is(t,i,Lu(e,n),s)}const kg=co((function(t,e,i,n,s){return t.h===2&&(Qn(t,ea(e,n,i),s),!0)}),Tu),Sg=co((function(t,e,i,n,s){return t.h===2&&(Qn(t,ea(e,n,i),s),!0)}),Tu);var ho=Symbol(),fa=Symbol(),kl=Symbol(),Sl=Symbol();let Eu,Pu;function Ei(t,e,i,n){var s=n[t];if(s)return s;(s={}).Ma=n,s.T=(function(u){switch(typeof u){case"boolean":return lu||=[0,void 0,!0];case"number":return u>0?void 0:u===0?_g||=[0,void 0]:[-u,void 0];case"string":return[0,u];case"object":return u}})(n[0]);var o=n[1];let r=1;o&&o.constructor===Object&&(s.ga=o,typeof(o=n[++r])=="function"&&(s.la=!0,Eu??=o,Pu??=n[r+1],o=n[r+=2]));const a={};for(;o&&Array.isArray(o)&&o.length&&typeof o[0]=="number"&&o[0]>0;){for(var l=0;l<o.length;l++)a[o[l]]=o;o=n[++r]}for(l=1;o!==void 0;){let u;typeof o=="number"&&(l+=o,o=n[++r]);var c=void 0;if(o instanceof ln?u=o:(u=kg,r--),u?.l){o=n[++r],c=n;var h=r;typeof o=="function"&&(o=o(),c[h]=o),c=o}for(h=l+1,typeof(o=n[++r])=="number"&&o<0&&(h-=o,o=n[++r]);l<h;l++){const d=a[l];c?i(s,l,u,c,d):e(s,l,u,d)}}return n[t]=s}function Cu(t){return Array.isArray(t)?t[0]instanceof ln?t:[Sg,t]:[t,void 0]}function Lu(t,e){return t instanceof A?t.u:Array.isArray(t)?Ke(t,e,!1):void 0}function ga(t,e,i,n){const s=i.g;t[e]=n?(o,r,a)=>s(o,r,a,n):s}function pa(t,e,i,n,s){const o=i.g;let r,a;t[e]=(l,c,h)=>o(l,c,h,a||=Ei(fa,ga,pa,n).T,r||=ma(n),s)}function ma(t){let e=t[kl];if(e!=null)return e;const i=Ei(fa,ga,pa,t);return e=i.la?(n,s)=>Eu(n,s,i):(n,s)=>{const o=0|n[P];for(;xu(s)&&s.h!=4;){var r=s.m,a=i[r];if(a==null){var l=i.ga;l&&(l=l[r])&&(l=Mg(l))!=null&&(a=i[r]=l)}a!=null&&a(s,n,r)||(r=(a=s).l,As(a),a.fa?a=void 0:(l=a.g.g-r,a.g.g=r,a=yu(a.g,l)),r=n,a&&((l=r[Wi])?l.push(a):r[Wi]=[a]))}return 8192&o&&nn(n),!0},t[kl]=e}function Mg(t){const e=(t=Cu(t))[0].g;if(t=t[1]){const i=ma(t),n=Ei(fa,ga,pa,t).T;return(s,o,r)=>e(s,o,r,n,i)}return e}function uo(t,e,i){t[e]=i.h}function fo(t,e,i,n){let s,o;const r=i.h;t[e]=(a,l,c)=>r(a,l,c,o||=Ei(ho,uo,fo,n).T,s||=Du(n))}function Du(t){let e=t[Sl];if(!e){const i=Ei(ho,uo,fo,t);e=(n,s)=>Ou(n,s,i),t[Sl]=e}return e}function Ou(t,e,i){(function(n,s,o){const r=512&s?0:-1,a=n.length,l=a+((s=64&s?256&s:!!a&&Js(n[a-1]))?-1:0);for(let c=0;c<l;c++)o(c-r,n[c]);if(s){n=n[a-1];for(const c in n)!isNaN(c)&&o(+c,n[c])}})(t,0|t[P]|(i.T[1]?512:0),((n,s)=>{if(s!=null){var o=(function(r,a){var l=r[a];if(l)return l;if((l=r.ga)&&(l=l[a])){var c=(l=Cu(l))[0].h;if(l=l[1]){const h=Du(l),u=Ei(ho,uo,fo,l).T;l=r.la?Pu(u,h):(d,f,g)=>c(d,f,g,u,h)}else l=c;return r[a]=l}})(i,n);o&&o(e,s,n)}})),(t=Wr(t))&&(function(n,s){Yi(n,n.g.end());for(let o=0;o<s.length;o++)Yi(n,zr(s[o])||new Uint8Array(0))})(e,t)}function cn(t,e){if(Array.isArray(e)){var i=0|e[P];if(4&i)return e;for(var n=0,s=0;n<e.length;n++){const o=t(e[n]);o!=null&&(e[s++]=o)}return s<n&&(e.length=s),gt(e,-6145&(5|i)),2&i&&Object.freeze(e),e}}function Ot(t,e,i){return new ln(t,e,i)}function hn(t,e,i){return new ln(t,e,i)}function Rt(t,e,i){ot(t,0|t[P],e,i)}var Ag=co((function(t,e,i,n,s){return t.h===2&&(t=Qn(t,Ke([void 0,void 0],n,!0),s),ni(n=0|e[P]),(s=ze(e,n,i))instanceof xe?(2&s.M)!=0?((s=s.da()).push(t),ot(e,n,i,s)):s.Ja(t):Array.isArray(s)?(2&(0|s[P])&&ot(e,n,i,s=du(s)),s.push(t)):ot(e,n,i,[t]),!0)}),(function(t,e,i,n,s){if(e instanceof xe)e.forEach(((o,r)=>{Is(t,i,Ke([r,o],n,!1),s)}));else if(Array.isArray(e))for(let o=0;o<e.length;o++){const r=e[o];Array.isArray(r)&&Is(t,i,Ke(r,n,!1),s)}}));function Ru(t,e,i){if(e=(function(n){if(n==null)return n;const s=typeof n;if(s==="bigint")return String(Vn(64,n));if(Un(n)){if(s==="string")return ou(n);if(s==="number")return $r(n)}})(e),e!=null&&(typeof e=="string"&&wl(e),e!=null))switch(Kt(t,i,0),typeof e){case"number":t=t.g,Mi(e),Bi(t,Y,at);break;case"bigint":i=BigInt.asUintN(64,e),i=new mr(Number(i&BigInt(4294967295)),Number(i>>BigInt(32))),Bi(t.g,i.h,i.g);break;default:i=wl(e),Bi(t.g,i.h,i.g)}}function Fu(t,e,i){(e=sn(e))!=null&&e!=null&&(Kt(t,i,0),ao(t.g,e))}function Iu(t,e,i){(e=eu(e))!=null&&(Kt(t,i,0),t.g.g.push(e?1:0))}function Bu(t,e,i){(e=Gi(e))!=null&&lo(t,i,jh(e))}function Nu(t,e,i,n,s){Is(t,i,Lu(e,n),s)}function zu(t,e,i){e==null||typeof e=="string"||e instanceof Fe||(ki(e)?ki(e)&&Vr(qh):e=void 0),e!=null&&lo(t,i,na(e).buffer)}function Vu(t,e,i){return(t.h===5||t.h===2)&&(e=rn(e,0|e[P],i,!1),t.h==2?ro(t,gr,e):e.push(gr(t.g)),!0)}var Te=Ot((function(t,e,i){if(t.h!==1)return!1;var n=t.g;t=fr(n);const s=fr(n);n=2*(s>>31)+1;const o=s>>>20&2047;return t=4294967296*(1048575&s)+t,Rt(e,i,o==2047?t?NaN:n*(1/0):o==0?5e-324*n*t:n*Math.pow(2,o-1075)*(t+4503599627370496)),!0}),(function(t,e,i){(e=si(e))!=null&&(Kt(t,i,1),t=t.g,(i=Qh||=new DataView(new ArrayBuffer(8))).setFloat64(0,+e,!0),Y=i.getUint32(0,!0),at=i.getUint32(4,!0),Wn(t,Y),Wn(t,at))}),he()),pt=Ot((function(t,e,i){return t.h===5&&(Rt(e,i,gr(t.g)),!0)}),(function(t,e,i){(e=si(e))!=null&&(Kt(t,i,5),t=t.g,Hr(e),Wn(t,Y))}),da),Tg=hn(Vu,(function(t,e,i){if((e=cn(si,e))!=null)for(let r=0;r<e.length;r++){var n=t,s=i,o=e[r];o!=null&&(Kt(n,s,5),n=n.g,Hr(o),Wn(n,Y))}}),da),ba=hn(Vu,(function(t,e,i){if((e=cn(si,e))!=null&&e.length){Kt(t,i,2),an(t.g,4*e.length);for(let n=0;n<e.length;n++)i=t.g,Hr(e[n]),Wn(i,Y)}}),da),Qe=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,sa(t.g,Xr)),!0)}),Ru,Su),zo=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,(t=sa(t.g,Xr))===0?void 0:t),!0)}),Ru,Su),Eg=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,sa(t.g,Gr)),!0)}),(function(t,e,i){if((e=lg(e))!=null&&(typeof e=="string"&&vl(e),e!=null))switch(Kt(t,i,0),typeof e){case"number":t=t.g,Mi(e),Bi(t,Y,at);break;case"bigint":i=BigInt.asUintN(64,e),i=new pr(Number(i&BigInt(4294967295)),Number(i>>BigInt(32))),Bi(t.g,i.h,i.g);break;default:i=vl(e),Bi(t.g,i.h,i.g)}}),he()),lt=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,Ze(t.g)),!0)}),Fu,ua),go=hn((function(t,e,i){return(t.h===0||t.h===2)&&(e=rn(e,0|e[P],i,!1),t.h==2?ro(t,Ze,e):e.push(Ze(t.g)),!0)}),(function(t,e,i){if((e=cn(sn,e))!=null&&e.length){i=aa(t,i);for(let n=0;n<e.length;n++)ao(t.g,e[n]);la(t,i)}}),ua),Ii=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,(t=Ze(t.g))===0?void 0:t),!0)}),Fu,ua),et=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,oa(t.g)),!0)}),Iu,wu),Ni=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,(t=oa(t.g))===!1?void 0:t),!0)}),Iu,wu),Mt=hn((function(t,e,i){return t.h===2&&(t=ra(t),rn(e,0|e[P],i,!1).push(t),!0)}),(function(t,e,i){if((e=cn(Gi,e))!=null)for(let r=0;r<e.length;r++){var n=t,s=i,o=e[r];o!=null&&lo(n,s,jh(o))}}),ha),We=Ot((function(t,e,i){return t.h===2&&(Rt(e,i,(t=ra(t))===""?void 0:t),!0)}),Bu,ha),H=Ot((function(t,e,i){return t.h===2&&(Rt(e,i,ra(t)),!0)}),Bu,ha),_t=(function(t,e,i=ca){return new ln(t,e,i)})((function(t,e,i,n,s){return t.h===2&&(n=Ke(void 0,n,!0),rn(e,0|e[P],i,!0).push(n),Qn(t,n,s),!0)}),(function(t,e,i,n,s){if(Array.isArray(e))for(let o=0;o<e.length;o++)Nu(t,e[o],i,n,s)})),W=co((function(t,e,i,n,s,o){return t.h===2&&(fu(e,0|e[P],o,i),Qn(t,e=ea(e,n,i),s),!0)}),Nu),Uu=Ot((function(t,e,i){return t.h===2&&(Rt(e,i,vu(t)),!0)}),zu,Mu),Pg=hn((function(t,e,i){return(t.h===0||t.h===2)&&(e=rn(e,0|e[P],i,!1),t.h==2?ro(t,Ne,e):e.push(Ne(t.g)),!0)}),(function(t,e,i){if((e=cn(iu,e))!=null)for(let r=0;r<e.length;r++){var n=t,s=i,o=e[r];o!=null&&(Kt(n,s,0),an(n.g,o))}}),ku),Cg=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,(t=Ne(t.g))===0?void 0:t),!0)}),(function(t,e,i){(e=iu(e))!=null&&e!=null&&(Kt(t,i,0),an(t.g,e))}),ku),Yt=Ot((function(t,e,i){return t.h===0&&(Rt(e,i,Ze(t.g)),!0)}),(function(t,e,i){(e=sn(e))!=null&&(e=parseInt(e,10),Kt(t,i,0),ao(t.g,e))}),Au);class Lg{constructor(e,i){this.h=e,this.g=i,this.l=V,this.m=C,this.defaultValue=void 0}register(){Ys(this)}}function ue(t,e){return new Lg(t,e)}function oi(t,e){return(i,n)=>{if(rs.length){const o=rs.pop();o.o(n),No(o.g,i,n),i=o}else i=new class{constructor(o,r){if(xl.length){const a=xl.pop();No(a,o,r),o=a}else o=new class{constructor(a,l){this.h=null,this.m=!1,this.g=this.l=this.j=0,No(this,a,l)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.aa=!1}}(o,r);this.g=o,this.l=this.g.g,this.h=this.m=-1,this.o(r)}o({fa:o=!1}={}){this.fa=o}}(i,n);try{const o=new t,r=o.u;ma(e)(r,i);var s=o}finally{i.g.clear(),i.m=-1,i.h=-1,rs.length<100&&rs.push(i)}return s}}function po(t){return function(){const e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const r=this.g;return this.g=[],r}}}};Ou(this.u,e,Ei(ho,uo,fo,t)),Yi(e,e.g.end());const i=new Uint8Array(e.h),n=e.l,s=n.length;let o=0;for(let r=0;r<s;r++){const a=n[r];i.set(a,o),o+=a.length}return e.l=[i],i}}var Ml=class extends A{constructor(t){super(t)}},Al=[0,We,Ot((function(t,e,i){return t.h===2&&(Rt(e,i,(t=vu(t))===Si()?void 0:t),!0)}),(function(t,e,i){if(e!=null){if(e instanceof A){const n=e.Oa;return void(n&&(e=n(e),e!=null&&lo(t,i,na(e).buffer)))}if(Array.isArray(e))return}zu(t,e,i)}),Mu)];let Vo,Tl=globalThis.trustedTypes;function El(t){Vo===void 0&&(Vo=(function(){let i=null;if(!Tl)return i;try{const n=s=>s;i=Tl.createPolicy("goog#html",{createHTML:n,createScript:n,createScriptURL:n})}catch{}return i})());var e=Vo;return new class{constructor(i){this.g=i}toString(){return this.g+""}}(e?e.createScriptURL(t):t)}function Dg(t,...e){if(e.length===0)return El(t[0]);let i=t[0];for(let n=0;n<e.length;n++)i+=encodeURIComponent(e[n])+t[n+1];return El(i)}var ju=[0,lt,Yt,et,-1,go,Yt,-1],Og=class extends A{constructor(t){super(t)}},Wu=[0,et,H,et,Yt,-1,hn((function(t,e,i){return(t.h===0||t.h===2)&&(e=rn(e,0|e[P],i,!1),t.h==2?ro(t,xg,e):e.push(Ze(t.g)),!0)}),(function(t,e,i){if((e=cn(sn,e))!=null&&e.length){i=aa(t,i);for(let n=0;n<e.length;n++)ao(t.g,e[n]);la(t,i)}}),Au),H,-1,[0,et,-1],Yt,et,-1],Hu=[0,H,-2],Pl=class extends A{constructor(t){super(t)}},Gu=[0],Xu=[0,lt,et,1,et,-3],$t=class extends A{constructor(t){super(t,2)}},mt={};mt[336783863]=[0,H,et,-1,lt,[0,[1,2,3,4,5,6,7,8,9],W,Gu,W,Wu,W,Hu,W,Xu,W,ju,W,[0,H,-2],W,[0,H,Yt],W,[0,Yt,H,-1],W,[0,Yt,-1]],[0,H],et,[0,[1,3],[2,4],W,[0,go],-1,W,[0,Mt],-1,_t,[0,H,-1]],H];var Cl=[0,zo,-1,Ni,-3,zo,go,We,Ii,zo,-1,Ni,Ii,Ni,-2,We];function qt(t,e){dr(t,2,on(e),"")}function q(t,e){oo(t,3,e)}function N(t,e){oo(t,4,e)}var Dt=class extends A{constructor(t){super(t,500)}o(t){return C(this,0,7,t)}},Dn=[-1,{}],Ll=[0,H,1,Dn],Dl=[0,H,Mt,Dn];function Jt(t,e){Rs(t,1,Dt,e)}function Z(t,e){oo(t,10,e)}function U(t,e){oo(t,15,e)}var Vt=class extends A{constructor(t){super(t,500)}o(t){return C(this,0,1001,t)}},Yu=[-500,_t,[-500,We,-1,Mt,-3,[-2,mt,et],_t,Al,Ii,-1,Ll,Dl,_t,[0,We,Ni],We,Cl,Ii,Mt,987,Mt],4,_t,[-500,H,-1,[-1,{}],998,H],_t,[-500,H,Mt,-1,[-2,{},et],997,Mt,-1],Ii,_t,[-500,H,Mt,Dn,998,Mt],Mt,Ii,Ll,Dl,_t,[0,We,-1,Dn],Mt,-2,Cl,We,-1,Ni,[0,Ni,Cg],978,Dn,_t,Al];Vt.prototype.g=po(Yu);var Rg=oi(Vt,Yu),Fg=class extends A{constructor(t){super(t)}},$u=class extends A{constructor(t){super(t)}g(){return Be(this,Fg,1)}},Ku=[0,_t,[0,lt,pt,H,-1]],mo=oi($u,Ku),Ig=class extends A{constructor(t){super(t)}},Bg=class extends A{constructor(t){super(t)}},Uo=class extends A{constructor(t){super(t)}h(){return V(this,Ig,2)}g(){return Be(this,Bg,5)}},qu=oi(class extends A{constructor(t){super(t)}},[0,Mt,go,ba,[0,Yt,[0,lt,-3],[0,pt,-3],[0,lt,-1,[0,_t,[0,lt,-2]]],_t,[0,pt,-1,H,pt]],H,-1,Qe,_t,[0,lt,pt],Mt,Qe]),Ju=class extends A{constructor(t){super(t)}},zi=oi(class extends A{constructor(t){super(t)}},[0,_t,[0,pt,-4]]),Zu=class extends A{constructor(t){super(t)}},ts=oi(class extends A{constructor(t){super(t)}},[0,_t,[0,pt,-4]]),Ng=class extends A{constructor(t){super(t)}},zg=[0,lt,-1,ba,Yt],Qu=class extends A{constructor(t){super(t)}};Qu.prototype.g=po([0,pt,-4,Qe]);var Vg=class extends A{constructor(t){super(t)}},Ug=oi(class extends A{constructor(t){super(t)}},[0,_t,[0,1,lt,H,Ku],Qe]),Ol=class extends A{constructor(t){super(t)}},jg=class extends A{constructor(t){super(t)}ma(){const t=uu(this);return t??Si()}},Wg=class extends A{constructor(t){super(t)}},td=[1,2],Hg=oi(class extends A{constructor(t){super(t)}},[0,_t,[0,td,W,[0,ba],W,[0,Uu],lt,H],Qe]),_a=class extends A{constructor(t){super(t)}},ed=[0,H,lt,pt,Mt,-1],Rl=class extends A{constructor(t){super(t)}},Gg=[0,et,-1],Fl=class extends A{constructor(t){super(t)}},Ts=[1,2,3,4,5],Bs=class extends A{constructor(t){super(t)}g(){return uu(this)!=null}h(){return se(this,2)!=null}},st=class extends A{constructor(t){super(t)}g(){return eu(Xi(this,2))??!1}},id=[0,Uu,H,[0,lt,Qe,-1],[0,Eg,Qe]],ft=[0,id,et,[0,Ts,W,Xu,W,Wu,W,ju,W,Gu,W,Hu],Yt],bo=class extends A{constructor(t){super(t)}},ya=[0,ft,pt,-1,lt],Xg=ue(502141897,bo);mt[502141897]=ya;var Yg=oi(class extends A{constructor(t){super(t)}},[0,[0,Yt,-1,Tg,Pg],zg]),nd=class extends A{constructor(t){super(t)}},sd=class extends A{constructor(t){super(t)}},xa=[0,ft,pt,[0,ft],et],od=[0,ft,ya,xa,pt,[0,[0,id]]],$g=ue(508968150,sd);mt[508968150]=od,mt[508968149]=xa;var rd=class extends A{constructor(t){super(t)}},Kg=ue(513916220,rd);mt[513916220]=[0,ft,od,lt];var Di=class extends A{constructor(t){super(t)}h(){return V(this,_a,2)}g(){K(this,2)}},ad=[0,ft,ed];mt[478825465]=ad;var qg=class extends A{constructor(t){super(t)}},ld=class extends A{constructor(t){super(t)}},va=class extends A{constructor(t){super(t)}},wa=class extends A{constructor(t){super(t)}},cd=class extends A{constructor(t){super(t)}},Il=[0,ft,[0,ft],ad,-1],hd=[0,ft,pt,lt],ka=[0,ft,pt],ud=[0,ft,hd,ka,pt],Jg=ue(479097054,cd);mt[479097054]=[0,ft,ud,Il],mt[463370452]=Il,mt[464864288]=hd;var Zg=ue(462713202,wa);mt[462713202]=ud,mt[474472470]=ka;var Qg=class extends A{constructor(t){super(t)}},dd=class extends A{constructor(t){super(t)}},fd=class extends A{constructor(t){super(t)}},gd=class extends A{constructor(t){super(t)}},Sa=[0,ft,pt,-1,lt],br=[0,ft,pt,et];gd.prototype.g=po([0,ft,ka,[0,ft],ya,xa,Sa,br]);var pd=class extends A{constructor(t){super(t)}},tp=ue(456383383,pd);mt[456383383]=[0,ft,ed];var md=class extends A{constructor(t){super(t)}},ep=ue(476348187,md);mt[476348187]=[0,ft,Gg];var bd=class extends A{constructor(t){super(t)}},Bl=class extends A{constructor(t){super(t)}},_d=[0,Yt,-1],ip=ue(458105876,class extends A{constructor(t){super(t)}g(){var t=this.u;const e=0|t[P],i=2&e;return t=(function(n,s,o){var r=Bl;const a=2&s;let l=!1;if(o==null){if(a)return yl();o=[]}else if(o.constructor===xe){if((2&o.M)==0||a)return o;o=o.da()}else Array.isArray(o)?l=!!(2&(0|o[P])):o=[];if(a){if(!o.length)return yl();l||(l=!0,nn(o))}else l&&(l=!1,o=du(o));return l||(64&(0|o[P])?o[P]&=-33:32&s&&Ks(o,32)),ot(n,s,2,r=new xe(o,r,cg,void 0)),r})(t,e,ze(t,e,2)),!i&&Bl&&(t.pa=!0),t}});mt[458105876]=[0,_d,Ag,[!0,Qe,[0,H,-1,Mt]]];var Ma=class extends A{constructor(t){super(t)}},yd=ue(458105758,Ma);mt[458105758]=[0,ft,H,_d];var xd=class extends A{constructor(t){super(t)}},np=ue(443442058,xd);mt[443442058]=[0,ft,H,lt,pt,Mt,-1,et,pt],mt[514774813]=Sa;var vd=class extends A{constructor(t){super(t)}},sp=ue(516587230,vd);function _r(t,e){return e=e?e.clone():new _a,t.displayNamesLocale!==void 0?K(e,1,on(t.displayNamesLocale)):t.displayNamesLocale===void 0&&K(e,1),t.maxResults!==void 0?ve(e,2,t.maxResults):"maxResults"in t&&K(e,2),t.scoreThreshold!==void 0?T(e,3,t.scoreThreshold):"scoreThreshold"in t&&K(e,3),t.categoryAllowlist!==void 0?Fs(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&K(e,4),t.categoryDenylist!==void 0?Fs(e,5,t.categoryDenylist):"categoryDenylist"in t&&K(e,5),e}function Aa(t,e=-1,i=""){return{categories:t.map((n=>({index:ne(n,1)??0??-1,score:ut(n,2)??0,categoryName:se(n,3)??""??"",displayName:se(n,4)??""??""}))),headIndex:e,headName:i}}function wd(t){var e=yi(t,3,si,_i()),i=yi(t,2,sn,_i()),n=yi(t,1,Gi,_i()),s=yi(t,9,Gi,_i());const o={categories:[],keypoints:[]};for(let r=0;r<e.length;r++)o.categories.push({score:e[r],index:i[r]??-1,categoryName:n[r]??"",displayName:s[r]??""});if((e=V(t,Uo,4)?.h())&&(o.boundingBox={originX:ne(e,1)??0,originY:ne(e,2)??0,width:ne(e,3)??0,height:ne(e,4)??0,angle:0}),V(t,Uo,4)?.g().length)for(const r of V(t,Uo,4).g())o.keypoints.push({x:Ms(r,1)??0,y:Ms(r,2)??0,score:Ms(r,4)??0,label:se(r,3)??""});return o}function _o(t){const e=[];for(const i of Be(t,Zu,1))e.push({x:ut(i,1)??0,y:ut(i,2)??0,z:ut(i,3)??0,visibility:ut(i,4)??0});return e}function On(t){const e=[];for(const i of Be(t,Ju,1))e.push({x:ut(i,1)??0,y:ut(i,2)??0,z:ut(i,3)??0,visibility:ut(i,4)??0});return e}function Nl(t){return Array.from(t,(e=>e>127?e-256:e))}function zl(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let i=0,n=0,s=0;for(let o=0;o<t.length;o++)i+=t[o]*e[o],n+=t[o]*t[o],s+=e[o]*e[o];if(n<=0||s<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return i/Math.sqrt(n*s)}let as;mt[516587230]=[0,ft,Sa,br,pt],mt[518928384]=br;const op=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function kd(){if(as===void 0)try{await WebAssembly.instantiate(op),as=!0}catch{as=!1}return as}async function pn(t,e=Dg``){const i=await kd()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${i}.js`,wasmBinaryPath:`${e}/${t}_${i}.wasm`}}var pi=class{};function Sd(){var t=navigator;return typeof OffscreenCanvas<"u"&&(!(function(e=navigator){return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")})(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&t.length>=1&&Number(t[1])>=17))}async function Vl(t){if(typeof importScripts!="function"){const e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise(((i,n)=>{e.addEventListener("load",(()=>{i()}),!1),e.addEventListener("error",(s=>{n(s)}),!1),document.body.appendChild(e)}))}importScripts(t.toString())}function Md(t){return t.videoWidth!==void 0?[t.videoWidth,t.videoHeight]:t.naturalWidth!==void 0?[t.naturalWidth,t.naturalHeight]:t.displayWidth!==void 0?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function E(t,e,i){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),i(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function Ul(t,e,i){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(i?t.i._bindTextureToStream(i):t.i._bindTextureToCanvas(),!(i=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1);const[n,s]=Md(e);return!t.l||n===t.i.canvas.width&&s===t.i.canvas.height||(t.i.canvas.width=n,t.i.canvas.height=s),[n,s]}function jl(t,e,i){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const n=new Uint32Array(e.length);for(let s=0;s<e.length;s++)n[s]=t.i.stringToNewUTF8(e[s]);e=t.i._malloc(4*n.length),t.i.HEAPU32.set(n,e>>2),i(e);for(const s of n)t.i._free(s);t.i._free(e)}function fe(t,e,i){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=i}function Ue(t,e,i){let n=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(s,o,r)=>{o?(i(n,r),n=[]):n.push(s)}}pi.forVisionTasks=function(t){return pn("vision",t)},pi.forTextTasks=function(t){return pn("text",t)},pi.forGenAiExperimentalTasks=function(t){return pn("genai_experimental",t)},pi.forGenAiTasks=function(t){return pn("genai",t)},pi.forAudioTasks=function(t){return pn("audio",t)},pi.isSimdSupported=function(){return kd()};async function rp(t,e,i,n){return t=await(async(s,o,r,a,l)=>{if(o&&await Vl(o),!self.ModuleFactory||r&&(await Vl(r),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&l&&((o=self.Module).locateFile=l.locateFile,l.mainScriptUrlOrBlob&&(o.mainScriptUrlOrBlob=l.mainScriptUrlOrBlob)),l=await self.ModuleFactory(self.Module||l),self.ModuleFactory=self.Module=void 0,new s(l,a)})(t,i.wasmLoaderPath,i.assetLoaderPath,e,{locateFile:s=>s.endsWith(".wasm")?i.wasmBinaryPath.toString():i.assetBinaryPath&&s.endsWith(".data")?i.assetBinaryPath.toString():s}),await t.o(n),t}function jo(t,e){const i=V(t.baseOptions,Bs,1)||new Bs;typeof e=="string"?(K(i,2,on(e)),K(i,1)):e instanceof Uint8Array&&(K(i,1,jr(e,!1)),K(i,2)),C(t.baseOptions,0,1,i)}function Wl(t){try{const e=t.G.length;if(e===1)throw Error(t.G[0].message);if(e>1)throw Error("Encountered multiple errors: "+t.G.map((i=>i.message)).join(", "))}finally{t.G=[]}}function M(t,e){t.B=Math.max(t.B,e)}function yo(t,e){t.A=new Dt,qt(t.A,"PassThroughCalculator"),q(t.A,"free_memory"),N(t.A,"free_memory_unused_out"),Z(e,"free_memory"),Jt(e,t.A)}function $i(t,e){q(t.A,e),N(t.A,e+"_unused_out")}function xo(t){t.g.addBoolToStream(!0,"free_memory",t.B)}var yr=class{constructor(t){this.g=t,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){if(e){const i=t.baseOptions||{};if(t.baseOptions?.modelAssetBuffer&&t.baseOptions?.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(V(this.baseOptions,Bs,1)?.g()||V(this.baseOptions,Bs,1)?.h()||t.baseOptions?.modelAssetBuffer||t.baseOptions?.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if((function(n,s){let o=V(n.baseOptions,Fl,3);if(!o){var r=o=new Fl,a=new Pl;Ln(r,4,Ts,a)}"delegate"in s&&(s.delegate==="GPU"?(s=o,r=new Og,Ln(s,2,Ts,r)):(s=o,r=new Pl,Ln(s,4,Ts,r))),C(n.baseOptions,0,3,o)})(this,i),i.modelAssetPath)return fetch(i.modelAssetPath.toString()).then((n=>{if(n.ok)return n.arrayBuffer();throw Error(`Failed to fetch model: ${i.modelAssetPath} (${n.status})`)})).then((n=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(n),!0,!1,!1),jo(this,"/model.dat"),this.m(),this.J()}));if(i.modelAssetBuffer instanceof Uint8Array)jo(this,i.modelAssetBuffer);else if(i.modelAssetBuffer)return(async function(n){const s=[];for(var o=0;;){const{done:r,value:a}=await n.read();if(r)break;s.push(a),o+=a.length}if(s.length===0)return new Uint8Array(0);if(s.length===1)return s[0];n=new Uint8Array(o),o=0;for(const r of s)n.set(r,o),o+=r.length;return n})(i.modelAssetBuffer).then((n=>{jo(this,n),this.m(),this.J()}))}return this.m(),this.J(),Promise.resolve()}J(){}ca(){let t;if(this.g.ca((e=>{t=Rg(e)})),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener(((i,n)=>{this.G.push(Error(n))})),this.g.Ha(),this.g.setGraph(t,e),this.A=void 0,Wl(this)}finishProcessing(){this.g.finishProcessing(),Wl(this)}close(){this.A=void 0,this.g.closeGraph()}};function Lt(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}yr.prototype.close=yr.prototype.close;class ap{constructor(e,i,n,s){this.g=e,this.h=i,this.m=n,this.l=s}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function Hl(t,e,i){const n=t.g;if(i=Lt(n.createShader(i),"Failed to create WebGL shader"),n.shaderSource(i,e),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${n.getShaderInfoLog(i)}`);return n.attachShader(t.h,i),i}function Gl(t,e){const i=t.g,n=Lt(i.createVertexArray(),"Failed to create vertex array");i.bindVertexArray(n);const s=Lt(i.createBuffer(),"Failed to create buffer");i.bindBuffer(i.ARRAY_BUFFER,s),i.enableVertexAttribArray(t.P),i.vertexAttribPointer(t.P,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),i.STATIC_DRAW);const o=Lt(i.createBuffer(),"Failed to create buffer");return i.bindBuffer(i.ARRAY_BUFFER,o),i.enableVertexAttribArray(t.J),i.vertexAttribPointer(t.J,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),i.STATIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),i.bindVertexArray(null),new ap(i,n,s,o)}function Ta(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function es(t,e,i,n){return Ta(t,e),t.h||(t.m(),t.C()),i?(t.s||(t.s=Gl(t,!0)),i=t.s):(t.v||(t.v=Gl(t,!1)),i=t.v),e.useProgram(t.h),i.bind(),t.l(),t=n(),i.g.bindVertexArray(null),t}function ti(t,e,i){return Ta(t,e),t=Lt(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i??e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i??e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function vo(t,e,i){Ta(t,e),t.A||(t.A=Lt(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.A),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0)}function Ea(t){t.g?.bindFramebuffer(t.g.FRAMEBUFFER,null)}var un=class{G(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const t=this.g;if(this.h=Lt(t.createProgram(),"Failed to create WebGL program"),this.Z=Hl(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,t.VERTEX_SHADER),this.Y=Hl(this,this.G(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.P=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const t=this.g;t.deleteProgram(this.h),t.deleteShader(this.Z),t.deleteShader(this.Y)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}},lp=class extends un{G(){return`
  precision mediump float;
  uniform sampler2D backgroundTexture;
  uniform sampler2D maskTexture;
  uniform sampler2D colorMappingTexture;
  varying vec2 vTex;
  void main() {
    vec4 backgroundColor = texture2D(backgroundTexture, vTex);
    float category = texture2D(maskTexture, vTex).r;
    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));
    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.B=ti(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=ti(this,t,t.NEAREST)}m(){super.m();const t=this.g;this.L=Lt(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.U=Lt(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.K=Lt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.K,0),t.uniform1i(this.L,1),t.uniform1i(this.U,2)}close(){this.B&&this.g.deleteTexture(this.B),this.j&&this.g.deleteTexture(this.j),super.close()}},cp=class extends un{G(){return`
  precision mediump float;
  uniform sampler2D maskTexture;
  uniform sampler2D defaultTexture;
  uniform sampler2D overlayTexture;
  varying vec2 vTex;
  void main() {
    float confidence = texture2D(maskTexture, vTex).r;
    vec4 defaultColor = texture2D(defaultTexture, vTex);
    vec4 overlayColor = texture2D(overlayTexture, vTex);
    // Apply the alpha from the overlay and merge in the default color
    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);
    gl_FragColor = mix(defaultColor, overlayColor, confidence);
  }
 `}C(){const t=this.g;t.activeTexture(t.TEXTURE1),this.j=ti(this,t),t.activeTexture(t.TEXTURE2),this.B=ti(this,t)}m(){super.m();const t=this.g;this.K=Lt(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.L=Lt(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.H=Lt(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();const t=this.g;t.uniform1i(this.H,0),t.uniform1i(this.K,1),t.uniform1i(this.L,2)}close(){this.j&&this.g.deleteTexture(this.j),this.B&&this.g.deleteTexture(this.B),super.close()}};function Pe(t,e){switch(e){case 0:return t.g.find((i=>i instanceof Uint8Array));case 1:return t.g.find((i=>i instanceof Float32Array));case 2:return t.g.find((i=>typeof WebGLTexture<"u"&&i instanceof WebGLTexture));default:throw Error(`Type is not supported: ${e}`)}}function xr(t){var e=Pe(t,1);if(!e){if(e=Pe(t,0))e=new Float32Array(e).map((n=>n/255));else{e=new Float32Array(t.width*t.height);const n=Ki(t);var i=Pa(t);if(vo(i,n,Ad(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){i=new Float32Array(t.width*t.height*4),n.readPixels(0,0,t.width,t.height,n.RGBA,n.FLOAT,i);for(let s=0,o=0;s<e.length;++s,o+=4)e[s]=i[o]}else n.readPixels(0,0,t.width,t.height,n.RED,n.FLOAT,e)}t.g.push(e)}return e}function Ad(t){let e=Pe(t,2);if(!e){const i=Ki(t);e=Ed(t);const n=xr(t),s=Td(t);i.texImage2D(i.TEXTURE_2D,0,s,t.width,t.height,0,i.RED,i.FLOAT,n),vr(t)}return e}function Ki(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Lt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function Td(t){if(t=Ki(t),!ls)if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))ls=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");ls=t.R16F}return ls}function Pa(t){return t.l||(t.l=new un),t.l}function Ed(t){const e=Ki(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let i=Pe(t,2);return i||(i=ti(Pa(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(i),t.j=!0),e.bindTexture(e.TEXTURE_2D,i),i}function vr(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var ls,bt=class{constructor(t,e,i,n,s,o,r){this.g=t,this.m=e,this.j=i,this.canvas=n,this.l=s,this.width=o,this.height=r,this.j&&--Xl===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Da(){return!!Pe(this,0)}ja(){return!!Pe(this,1)}R(){return!!Pe(this,2)}ia(){return(e=Pe(t=this,0))||(e=xr(t),e=new Uint8Array(e.map((i=>255*i))),t.g.push(e)),e;var t,e}ha(){return xr(this)}N(){return Ad(this)}clone(){const t=[];for(const e of this.g){let i;if(e instanceof Uint8Array)i=new Uint8Array(e);else if(e instanceof Float32Array)i=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{const n=Ki(this),s=Pa(this);n.activeTexture(n.TEXTURE1),i=ti(s,n,this.m?n.LINEAR:n.NEAREST),n.bindTexture(n.TEXTURE_2D,i);const o=Td(this);n.texImage2D(n.TEXTURE_2D,0,o,this.width,this.height,0,n.RED,n.FLOAT,null),n.bindTexture(n.TEXTURE_2D,null),vo(s,n,i),es(s,n,!1,(()=>{Ed(this),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_FAN,0,4),vr(this)})),Ea(s),vr(this)}}t.push(i)}return new bt(t,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Ki(this).deleteTexture(Pe(this,2)),Xl=-1}};bt.prototype.close=bt.prototype.close,bt.prototype.clone=bt.prototype.clone,bt.prototype.getAsWebGLTexture=bt.prototype.N,bt.prototype.getAsFloat32Array=bt.prototype.ha,bt.prototype.getAsUint8Array=bt.prototype.ia,bt.prototype.hasWebGLTexture=bt.prototype.R,bt.prototype.hasFloat32Array=bt.prototype.ja,bt.prototype.hasUint8Array=bt.prototype.Da;var Xl=250;const hp={color:"white",lineWidth:4,radius:6};function Wo(t){return{...hp,fillColor:(t=t||{}).color,...t}}function ke(t,e){return t instanceof Function?t(e):t}function Yl(t,e,i){return Math.max(Math.min(e,i),Math.min(Math.max(e,i),t))}function mn(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function Hn(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function $l(t,e,i){if(e.R())i(e.N());else{const n=e.ja()?e.ha():e.ia();t.m=t.m??new un;const s=Hn(t);i((t=new bt([n],e.m,!1,s.canvas,t.m,e.width,e.height)).N()),t.close()}}function Kl(t,e,i,n){const s=(function(a){return a.g||(a.g=new lp),a.g})(t),o=Hn(t),r=Array.isArray(i)?new ImageData(new Uint8ClampedArray(i),1,1):i;es(s,o,!0,(()=>{(function(l,c,h,u){const d=l.g;if(d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,l.B),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,h),l.H&&(function(f,g){if(f!==g)return!1;f=f.entries(),g=g.entries();for(const[m,b]of f){f=m;const _=b;var p=g.next();if(p.done)return!1;const[v,x]=p.value;if(p=x,f!==v||_[0]!==p[0]||_[1]!==p[1]||_[2]!==p[2]||_[3]!==p[3])return!1}return!!g.next().done})(l.H,u))d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,l.j);else{l.H=u;const f=Array(1024).fill(0);u.forEach(((g,p)=>{if(g.length!==4)throw Error(`Color at index ${p} is not a four-channel value.`);f[4*p]=g[0],f[4*p+1]=g[1],f[4*p+2]=g[2],f[4*p+3]=g[3]})),d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,l.j),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,256,1,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(f))}})(s,e,r,n),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4);const a=s.g;a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,null)}))}function ql(t,e,i,n){const s=Hn(t),o=(function(l){return l.h||(l.h=new cp),l.h})(t),r=Array.isArray(i)?new ImageData(new Uint8ClampedArray(i),1,1):i,a=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;es(o,s,!0,(()=>{var l=o.g;l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,o.j),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,r),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,o.B),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,a),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLE_FAN,0,4),s.bindTexture(s.TEXTURE_2D,null),(l=o.g).activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,null)}))}var Pt=class{constructor(t,e){typeof CanvasRenderingContext2D<"u"&&t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}wa(t,e){if(t){var i=mn(this);e=Wo(e),i.save();var n=i.canvas,s=0;for(const o of t)i.fillStyle=ke(e.fillColor,{index:s,from:o}),i.strokeStyle=ke(e.color,{index:s,from:o}),i.lineWidth=ke(e.lineWidth,{index:s,from:o}),(t=new Path2D).arc(o.x*n.width,o.y*n.height,ke(e.radius,{index:s,from:o}),0,2*Math.PI),i.fill(t),i.stroke(t),++s;i.restore()}}va(t,e,i){if(t&&e){var n=mn(this);i=Wo(i),n.save();var s=n.canvas,o=0;for(const r of e){n.beginPath(),e=t[r.start];const a=t[r.end];e&&a&&(n.strokeStyle=ke(i.color,{index:o,from:e,to:a}),n.lineWidth=ke(i.lineWidth,{index:o,from:e,to:a}),n.moveTo(e.x*s.width,e.y*s.height),n.lineTo(a.x*s.width,a.y*s.height)),++o,n.stroke()}n.restore()}}sa(t,e){const i=mn(this);e=Wo(e),i.save(),i.beginPath(),i.lineWidth=ke(e.lineWidth,{}),i.strokeStyle=ke(e.color,{}),i.fillStyle=ke(e.fillColor,{}),i.moveTo(t.originX,t.originY),i.lineTo(t.originX+t.width,t.originY),i.lineTo(t.originX+t.width,t.originY+t.height),i.lineTo(t.originX,t.originY+t.height),i.lineTo(t.originX,t.originY),i.stroke(),i.fill(),i.restore()}ta(t,e,i=[0,0,0,255]){this.l?(function(n,s,o,r){const a=Hn(n);$l(n,s,(l=>{Kl(n,l,o,r),(l=mn(n)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)}))})(this,t,i,e):Kl(this,t.N(),i,e)}ua(t,e,i){this.l?(function(n,s,o,r){const a=Hn(n);$l(n,s,(l=>{ql(n,l,o,r),(l=mn(n)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)}))})(this,t,e,i):ql(this,t.N(),e,i)}close(){this.g?.close(),this.g=void 0,this.h?.close(),this.h=void 0,this.m?.close(),this.m=void 0}};function _e(t,e){switch(e){case 0:return t.g.find((i=>i instanceof ImageData));case 1:return t.g.find((i=>typeof ImageBitmap<"u"&&i instanceof ImageBitmap));case 2:return t.g.find((i=>typeof WebGLTexture<"u"&&i instanceof WebGLTexture));default:throw Error(`Type is not supported: ${e}`)}}function Pd(t){var e=_e(t,0);if(!e){e=qi(t);const i=wo(t),n=new Uint8Array(t.width*t.height*4);vo(i,e,Es(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,n),Ea(i),e=new ImageData(new Uint8ClampedArray(n.buffer),t.width,t.height),t.g.push(e)}return e}function Es(t){let e=_e(t,2);if(!e){const i=qi(t);e=Ps(t);const n=_e(t,1)||Pd(t);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n),Mn(t)}return e}function qi(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=Lt(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function wo(t){return t.l||(t.l=new un),t.l}function Ps(t){const e=qi(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let i=_e(t,2);return i||(i=ti(wo(t),e),t.g.push(i),t.m=!0),e.bindTexture(e.TEXTURE_2D,i),i}function Mn(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function Jl(t){const e=qi(t);return es(wo(t),e,!0,(()=>(function(i,n){const s=i.canvas;if(s.width===i.width&&s.height===i.height)return n();const o=s.width,r=s.height;return s.width=i.width,s.height=i.height,i=n(),s.width=o,s.height=r,i})(t,(()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))))}Pt.prototype.close=Pt.prototype.close,Pt.prototype.drawConfidenceMask=Pt.prototype.ua,Pt.prototype.drawCategoryMask=Pt.prototype.ta,Pt.prototype.drawBoundingBox=Pt.prototype.sa,Pt.prototype.drawConnectors=Pt.prototype.va,Pt.prototype.drawLandmarks=Pt.prototype.wa,Pt.lerp=function(t,e,i,n,s){return Yl(n*(1-(t-e)/(i-e))+s*(1-(i-t)/(i-e)),n,s)},Pt.clamp=Yl;var xt=class{constructor(t,e,i,n,s,o,r){this.g=t,this.j=e,this.m=i,this.canvas=n,this.l=s,this.width=o,this.height=r,(this.j||this.m)&&--Zl===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ca(){return!!_e(this,0)}ka(){return!!_e(this,1)}R(){return!!_e(this,2)}Aa(){return Pd(this)}za(){var t=_e(this,1);return t||(Es(this),Ps(this),t=Jl(this),Mn(this),this.g.push(t),this.j=!0),t}N(){return Es(this)}clone(){const t=[];for(const e of this.g){let i;if(e instanceof ImageData)i=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){const n=qi(this),s=wo(this);n.activeTexture(n.TEXTURE1),i=ti(s,n),n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,null),vo(s,n,i),es(s,n,!1,(()=>{Ps(this),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_FAN,0,4),Mn(this)})),Ea(s),Mn(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);Es(this),Ps(this),i=Jl(this),Mn(this)}t.push(i)}return new xt(t,this.ka(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&_e(this,1).close(),this.m&&qi(this).deleteTexture(_e(this,2)),Zl=-1}};xt.prototype.close=xt.prototype.close,xt.prototype.clone=xt.prototype.clone,xt.prototype.getAsWebGLTexture=xt.prototype.N,xt.prototype.getAsImageBitmap=xt.prototype.za,xt.prototype.getAsImageData=xt.prototype.Aa,xt.prototype.hasWebGLTexture=xt.prototype.R,xt.prototype.hasImageBitmap=xt.prototype.ka,xt.prototype.hasImageData=xt.prototype.Ca;var Zl=250;function de(...t){return t.map((([e,i])=>({start:e,end:i})))}const up=(function(t){return class extends t{Ha(){this.i._registerModelResourcesGraphService()}}})((Ql=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",e!==void 0?this.i.canvas=e:Sd()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(t){const e=await(await fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)}setGraphFromString(t){this.setGraph(new TextEncoder().encode(t),!1)}setGraph(t,e){const i=t.length,n=this.i._malloc(i);this.i.HEAPU8.set(t,n),e?this.i._changeBinaryGraph(i,n):this.i._changeTextGraph(i,n),this.i._free(n)}configureAudio(t,e,i,n,s){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),E(this,n||"input_audio",(o=>{E(this,s=s||"audio_header",(r=>{this.i._configureAudio(o,r,t,e??0,i)}))}))}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}ca(t){fe(this,"__graph_config__",(e=>{t(e)})),E(this,"__graph_config__",(e=>{this.i._getGraphConfig(e,void 0)})),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,i){this.addAudioToStreamWithShape(t,0,0,e,i)}addAudioToStreamWithShape(t,e,i,n,s){const o=4*t.length;this.h!==o&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(o),this.h=o),this.i.HEAPF32.set(t,this.g/4),E(this,n,(r=>{this.i._addAudioToInputStream(this.g,e,i,r,s)}))}addGpuBufferToStream(t,e,i){E(this,e,(n=>{const[s,o]=Ul(this,t,n);this.i._addBoundTextureToStream(n,s,o,i)}))}addBoolToStream(t,e,i){E(this,e,(n=>{this.i._addBoolToInputStream(t,n,i)}))}addDoubleToStream(t,e,i){E(this,e,(n=>{this.i._addDoubleToInputStream(t,n,i)}))}addFloatToStream(t,e,i){E(this,e,(n=>{this.i._addFloatToInputStream(t,n,i)}))}addIntToStream(t,e,i){E(this,e,(n=>{this.i._addIntToInputStream(t,n,i)}))}addUintToStream(t,e,i){E(this,e,(n=>{this.i._addUintToInputStream(t,n,i)}))}addStringToStream(t,e,i){E(this,e,(n=>{E(this,t,(s=>{this.i._addStringToInputStream(s,n,i)}))}))}addStringRecordToStream(t,e,i){E(this,e,(n=>{jl(this,Object.keys(t),(s=>{jl(this,Object.values(t),(o=>{this.i._addFlatHashMapToInputStream(s,o,Object.keys(t).length,n,i)}))}))}))}addProtoToStream(t,e,i,n){E(this,i,(s=>{E(this,e,(o=>{const r=this.i._malloc(t.length);this.i.HEAPU8.set(t,r),this.i._addProtoToInputStream(r,t.length,o,s,n),this.i._free(r)}))}))}addEmptyPacketToStream(t,e){E(this,t,(i=>{this.i._addEmptyPacketToInputStream(i,e)}))}addBoolVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateBoolVector(t.length);if(!s)throw Error("Unable to allocate new bool vector on heap.");for(const o of t)this.i._addBoolVectorEntry(s,o);this.i._addBoolVectorToInputStream(s,n,i)}))}addDoubleVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateDoubleVector(t.length);if(!s)throw Error("Unable to allocate new double vector on heap.");for(const o of t)this.i._addDoubleVectorEntry(s,o);this.i._addDoubleVectorToInputStream(s,n,i)}))}addFloatVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateFloatVector(t.length);if(!s)throw Error("Unable to allocate new float vector on heap.");for(const o of t)this.i._addFloatVectorEntry(s,o);this.i._addFloatVectorToInputStream(s,n,i)}))}addIntVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateIntVector(t.length);if(!s)throw Error("Unable to allocate new int vector on heap.");for(const o of t)this.i._addIntVectorEntry(s,o);this.i._addIntVectorToInputStream(s,n,i)}))}addUintVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateUintVector(t.length);if(!s)throw Error("Unable to allocate new unsigned int vector on heap.");for(const o of t)this.i._addUintVectorEntry(s,o);this.i._addUintVectorToInputStream(s,n,i)}))}addStringVectorToStream(t,e,i){E(this,e,(n=>{const s=this.i._allocateStringVector(t.length);if(!s)throw Error("Unable to allocate new string vector on heap.");for(const o of t)E(this,o,(r=>{this.i._addStringVectorEntry(s,r)}));this.i._addStringVectorToInputStream(s,n,i)}))}addBoolToInputSidePacket(t,e){E(this,e,(i=>{this.i._addBoolToInputSidePacket(t,i)}))}addDoubleToInputSidePacket(t,e){E(this,e,(i=>{this.i._addDoubleToInputSidePacket(t,i)}))}addFloatToInputSidePacket(t,e){E(this,e,(i=>{this.i._addFloatToInputSidePacket(t,i)}))}addIntToInputSidePacket(t,e){E(this,e,(i=>{this.i._addIntToInputSidePacket(t,i)}))}addUintToInputSidePacket(t,e){E(this,e,(i=>{this.i._addUintToInputSidePacket(t,i)}))}addStringToInputSidePacket(t,e){E(this,e,(i=>{E(this,t,(n=>{this.i._addStringToInputSidePacket(n,i)}))}))}addProtoToInputSidePacket(t,e,i){E(this,i,(n=>{E(this,e,(s=>{const o=this.i._malloc(t.length);this.i.HEAPU8.set(t,o),this.i._addProtoToInputSidePacket(o,t.length,s,n),this.i._free(o)}))}))}addBoolVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateBoolVector(t.length);if(!n)throw Error("Unable to allocate new bool vector on heap.");for(const s of t)this.i._addBoolVectorEntry(n,s);this.i._addBoolVectorToInputSidePacket(n,i)}))}addDoubleVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateDoubleVector(t.length);if(!n)throw Error("Unable to allocate new double vector on heap.");for(const s of t)this.i._addDoubleVectorEntry(n,s);this.i._addDoubleVectorToInputSidePacket(n,i)}))}addFloatVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateFloatVector(t.length);if(!n)throw Error("Unable to allocate new float vector on heap.");for(const s of t)this.i._addFloatVectorEntry(n,s);this.i._addFloatVectorToInputSidePacket(n,i)}))}addIntVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateIntVector(t.length);if(!n)throw Error("Unable to allocate new int vector on heap.");for(const s of t)this.i._addIntVectorEntry(n,s);this.i._addIntVectorToInputSidePacket(n,i)}))}addUintVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateUintVector(t.length);if(!n)throw Error("Unable to allocate new unsigned int vector on heap.");for(const s of t)this.i._addUintVectorEntry(n,s);this.i._addUintVectorToInputSidePacket(n,i)}))}addStringVectorToInputSidePacket(t,e){E(this,e,(i=>{const n=this.i._allocateStringVector(t.length);if(!n)throw Error("Unable to allocate new string vector on heap.");for(const s of t)E(this,s,(o=>{this.i._addStringVectorEntry(n,o)}));this.i._addStringVectorToInputSidePacket(n,i)}))}attachBoolListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachBoolListener(i)}))}attachBoolVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachBoolVectorListener(i)}))}attachIntListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachIntListener(i)}))}attachIntVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachIntVectorListener(i)}))}attachUintListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachUintListener(i)}))}attachUintVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachUintVectorListener(i)}))}attachDoubleListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachDoubleListener(i)}))}attachDoubleVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachDoubleVectorListener(i)}))}attachFloatListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachFloatListener(i)}))}attachFloatVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachFloatVectorListener(i)}))}attachStringListener(t,e){fe(this,t,e),E(this,t,(i=>{this.i._attachStringListener(i)}))}attachStringVectorListener(t,e){Ue(this,t,e),E(this,t,(i=>{this.i._attachStringVectorListener(i)}))}attachProtoListener(t,e,i){fe(this,t,e),E(this,t,(n=>{this.i._attachProtoListener(n,i||!1)}))}attachProtoVectorListener(t,e,i){Ue(this,t,e),E(this,t,(n=>{this.i._attachProtoVectorListener(n,i||!1)}))}attachAudioListener(t,e,i){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),fe(this,t,((n,s)=>{n=new Float32Array(n.buffer,n.byteOffset,n.length/4),e(n,s)})),E(this,t,(n=>{this.i._attachAudioListener(n,i||!1)}))}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends Ql{get ea(){return this.i}oa(t,e,i){E(this,e,(n=>{const[s,o]=Ul(this,t,n);this.ea._addBoundTextureAsImageToStream(n,s,o,i)}))}V(t,e){fe(this,t,e),E(this,t,(i=>{this.ea._attachImageListener(i)}))}ba(t,e){Ue(this,t,e),E(this,t,(i=>{this.ea._attachImageVectorListener(i)}))}}));var Ql,oe=class extends up{};async function B(t,e,i){return(async function(n,s,o,r){return rp(n,s,o,r)})(t,i.canvas??(Sd()?void 0:document.createElement("canvas")),e,i)}function Cd(t,e,i,n){if(t.U){const o=new Qu;if(i?.regionOfInterest){if(!t.na)throw Error("This task doesn't support region-of-interest.");var s=i.regionOfInterest;if(s.left>=s.right||s.top>=s.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(s.left<0||s.top<0||s.right>1||s.bottom>1)throw Error("Expected RectF values to be in [0,1].");T(o,1,(s.left+s.right)/2),T(o,2,(s.top+s.bottom)/2),T(o,4,s.right-s.left),T(o,3,s.bottom-s.top)}else T(o,1,.5),T(o,2,.5),T(o,4,1),T(o,3,1);if(i?.rotationDegrees){if(i?.rotationDegrees%90!=0)throw Error("Expected rotation to be a multiple of 90.");if(T(o,5,-Math.PI*i.rotationDegrees/180),i?.rotationDegrees%180!=0){const[r,a]=Md(e);i=ut(o,3)*a/r,s=ut(o,4)*r/a,T(o,4,i),T(o,3,s)}}t.g.addProtoToStream(o.g(),"mediapipe.NormalizedRect",t.U,n)}t.g.oa(e,t.Z,n??performance.now()),t.finishProcessing()}function re(t,e,i){if(t.baseOptions?.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");Cd(t,e,i,t.B+1)}function we(t,e,i,n){if(!t.baseOptions?.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");Cd(t,e,i,n)}function Ji(t,e,i,n){var s=e.data;const o=e.width,r=o*(e=e.height);if((s instanceof Uint8Array||s instanceof Float32Array)&&s.length!==r)throw Error("Unsupported channel count: "+s.length/r);return t=new bt([s],i,!1,t.g.i.canvas,t.P,o,e),n?t.clone():t}var zt=class extends yr{constructor(t,e,i,n){super(t),this.g=t,this.Z=e,this.U=i,this.na=n,this.P=new un}l(t,e=!0){if("runningMode"in t&&jn(this.baseOptions,2,!!t.runningMode&&t.runningMode!=="IMAGE"),t.canvas!==void 0&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.P.close(),super.close()}};zt.prototype.close=zt.prototype.close;var Zt=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},C(t=this.h=new bo,0,1,e=new st),T(this.h,2,.5),T(this.h,3,.3)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return"minDetectionConfidence"in t&&T(this.h,2,t.minDetectionConfidence??.5),"minSuppressionThreshold"in t&&T(this.h,3,t.minSuppressionThreshold??.3),this.l(t)}D(t,e){return this.j={detections:[]},re(this,t,e),this.j}F(t,e,i){return this.j={detections:[]},we(this,t,i,e),this.j}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect_in"),U(t,"detections");const e=new $t;ce(e,Xg,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect_in"),N(i,"DETECTIONS:detections"),i.o(e),Jt(t,i),this.g.attachProtoVectorListener("detections",((n,s)=>{for(const o of n)n=qu(o),this.j.detections.push(wd(n));M(this,s)})),this.g.attachEmptyPacketListener("detections",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Zt.prototype.detectForVideo=Zt.prototype.F,Zt.prototype.detect=Zt.prototype.D,Zt.prototype.setOptions=Zt.prototype.o,Zt.createFromModelPath=async function(t,e){return B(Zt,t,{baseOptions:{modelAssetPath:e}})},Zt.createFromModelBuffer=function(t,e){return B(Zt,t,{baseOptions:{modelAssetBuffer:e}})},Zt.createFromOptions=function(t,e){return B(Zt,t,e)};var Ca=de([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),La=de([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),Da=de([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),Ld=de([474,475],[475,476],[476,477],[477,474]),Oa=de([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),Ra=de([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),Dd=de([469,470],[470,471],[471,472],[472,469]),Fa=de([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),Od=[...Ca,...La,...Da,...Oa,...Ra,...Fa],Rd=de([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function tc(t){t.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var rt=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,C(t=this.h=new sd,0,1,e=new st),this.v=new nd,C(this.h,0,3,this.v),this.s=new bo,C(this.h,0,2,this.s),ve(this.s,4,1),T(this.s,2,.5),T(this.v,2,.5),T(this.h,4,.5)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return"numFaces"in t&&ve(this.s,4,t.numFaces??1),"minFaceDetectionConfidence"in t&&T(this.s,2,t.minFaceDetectionConfidence??.5),"minTrackingConfidence"in t&&T(this.h,4,t.minTrackingConfidence??.5),"minFacePresenceConfidence"in t&&T(this.v,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}D(t,e){return tc(this),re(this,t,e),this.j}F(t,e,i){return tc(this),we(this,t,i,e),this.j}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"face_landmarks");const e=new $t;ce(e,$g,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"NORM_LANDMARKS:face_landmarks"),i.o(e),Jt(t,i),this.g.attachProtoVectorListener("face_landmarks",((n,s)=>{for(const o of n)n=ts(o),this.j.faceLandmarks.push(_o(n));M(this,s)})),this.g.attachEmptyPacketListener("face_landmarks",(n=>{M(this,n)})),this.outputFaceBlendshapes&&(U(t,"blendshapes"),N(i,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",((n,s)=>{if(this.outputFaceBlendshapes)for(const o of n)n=mo(o),this.j.faceBlendshapes.push(Aa(n.g()??[]));M(this,s)})),this.g.attachEmptyPacketListener("blendshapes",(n=>{M(this,n)}))),this.outputFacialTransformationMatrixes&&(U(t,"face_geometry"),N(i,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",((n,s)=>{if(this.outputFacialTransformationMatrixes)for(const o of n)(n=V(Yg(o),Ng,2))&&this.j.facialTransformationMatrixes.push({rows:ne(n,1)??0??0,columns:ne(n,2)??0??0,data:yi(n,3,si,_i()).slice()??[]});M(this,s)})),this.g.attachEmptyPacketListener("face_geometry",(n=>{M(this,n)}))),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};rt.prototype.detectForVideo=rt.prototype.F,rt.prototype.detect=rt.prototype.D,rt.prototype.setOptions=rt.prototype.o,rt.createFromModelPath=function(t,e){return B(rt,t,{baseOptions:{modelAssetPath:e}})},rt.createFromModelBuffer=function(t,e){return B(rt,t,{baseOptions:{modelAssetBuffer:e}})},rt.createFromOptions=function(t,e){return B(rt,t,e)},rt.FACE_LANDMARKS_LIPS=Ca,rt.FACE_LANDMARKS_LEFT_EYE=La,rt.FACE_LANDMARKS_LEFT_EYEBROW=Da,rt.FACE_LANDMARKS_LEFT_IRIS=Ld,rt.FACE_LANDMARKS_RIGHT_EYE=Oa,rt.FACE_LANDMARKS_RIGHT_EYEBROW=Ra,rt.FACE_LANDMARKS_RIGHT_IRIS=Dd,rt.FACE_LANDMARKS_FACE_OVAL=Fa,rt.FACE_LANDMARKS_CONTOURS=Od,rt.FACE_LANDMARKS_TESSELATION=Rd;var ge=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!0),C(t=this.j=new rd,0,1,e=new st)}get baseOptions(){return V(this.j,st,1)}set baseOptions(t){C(this.j,0,1,t)}o(t){return super.l(t)}Ka(t,e,i){const n=typeof e!="function"?e:{};if(this.h=typeof e=="function"?e:i,re(this,t,n??{}),!this.h)return this.s}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"stylized_image");const e=new $t;ce(e,Kg,this.j);const i=new Dt;qt(i,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"STYLIZED_IMAGE:stylized_image"),i.o(e),Jt(t,i),this.g.V("stylized_image",((n,s)=>{var o=!this.h,r=n.data,a=n.width;const l=a*(n=n.height);if(r instanceof Uint8Array)if(r.length===3*l){const c=new Uint8ClampedArray(4*l);for(let h=0;h<l;++h)c[4*h]=r[3*h],c[4*h+1]=r[3*h+1],c[4*h+2]=r[3*h+2],c[4*h+3]=255;r=new ImageData(c,a,n)}else{if(r.length!==4*l)throw Error("Unsupported channel count: "+r.length/l);r=new ImageData(new Uint8ClampedArray(r.buffer,r.byteOffset,r.length),a,n)}else if(!(r instanceof WebGLTexture))throw Error(`Unsupported format: ${r.constructor.name}`);a=new xt([r],!1,!1,this.g.i.canvas,this.P,a,n),this.s=o=o?a.clone():a,this.h&&this.h(o),M(this,s)})),this.g.attachEmptyPacketListener("stylized_image",(n=>{this.s=null,this.h&&this.h(null),M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ge.prototype.stylize=ge.prototype.Ka,ge.prototype.setOptions=ge.prototype.o,ge.createFromModelPath=function(t,e){return B(ge,t,{baseOptions:{modelAssetPath:e}})},ge.createFromModelBuffer=function(t,e){return B(ge,t,{baseOptions:{modelAssetBuffer:e}})},ge.createFromOptions=function(t,e){return B(ge,t,e)};var Ia=de([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function ec(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function ic(t){return t.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function nc(t,e=!0){const i=[];for(const s of t){var n=mo(s);t=[];for(const o of n.g())n=e&&ne(o,1)!=null?ne(o,1)??0:-1,t.push({score:ut(o,2)??0,index:n,categoryName:se(o,3)??""??"",displayName:se(o,4)??""??""});i.push(t)}return i}var jt=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],C(t=this.j=new cd,0,1,e=new st),this.s=new wa,C(this.j,0,2,this.s),this.C=new va,C(this.s,0,3,this.C),this.v=new ld,C(this.s,0,2,this.v),this.h=new qg,C(this.j,0,3,this.h),T(this.v,2,.5),T(this.s,4,.5),T(this.C,2,.5)}get baseOptions(){return V(this.j,st,1)}set baseOptions(t){C(this.j,0,1,t)}o(t){if(ve(this.v,3,t.numHands??1),"minHandDetectionConfidence"in t&&T(this.v,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&T(this.s,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&T(this.C,2,t.minHandPresenceConfidence??.5),t.cannedGesturesClassifierOptions){var e=new Di,i=e,n=_r(t.cannedGesturesClassifierOptions,V(this.h,Di,3)?.h());C(i,0,2,n),C(this.h,0,3,e)}else t.cannedGesturesClassifierOptions===void 0&&V(this.h,Di,3)?.g();return t.customGesturesClassifierOptions?(C(i=e=new Di,0,2,n=_r(t.customGesturesClassifierOptions,V(this.h,Di,4)?.h())),C(this.h,0,4,e)):t.customGesturesClassifierOptions===void 0&&V(this.h,Di,4)?.g(),this.l(t)}Fa(t,e){return ec(this),re(this,t,e),ic(this)}Ga(t,e,i){return ec(this),we(this,t,i,e),ic(this)}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"hand_gestures"),U(t,"hand_landmarks"),U(t,"world_hand_landmarks"),U(t,"handedness");const e=new $t;ce(e,Jg,this.j);const i=new Dt;qt(i,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"HAND_GESTURES:hand_gestures"),N(i,"LANDMARKS:hand_landmarks"),N(i,"WORLD_LANDMARKS:world_hand_landmarks"),N(i,"HANDEDNESS:handedness"),i.o(e),Jt(t,i),this.g.attachProtoVectorListener("hand_landmarks",((n,s)=>{for(const o of n){n=ts(o);const r=[];for(const a of Be(n,Zu,1))r.push({x:ut(a,1)??0,y:ut(a,2)??0,z:ut(a,3)??0,visibility:ut(a,4)??0});this.landmarks.push(r)}M(this,s)})),this.g.attachEmptyPacketListener("hand_landmarks",(n=>{M(this,n)})),this.g.attachProtoVectorListener("world_hand_landmarks",((n,s)=>{for(const o of n){n=zi(o);const r=[];for(const a of Be(n,Ju,1))r.push({x:ut(a,1)??0,y:ut(a,2)??0,z:ut(a,3)??0,visibility:ut(a,4)??0});this.worldLandmarks.push(r)}M(this,s)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(n=>{M(this,n)})),this.g.attachProtoVectorListener("hand_gestures",((n,s)=>{this.gestures.push(...nc(n,!1)),M(this,s)})),this.g.attachEmptyPacketListener("hand_gestures",(n=>{M(this,n)})),this.g.attachProtoVectorListener("handedness",((n,s)=>{this.handedness.push(...nc(n)),M(this,s)})),this.g.attachEmptyPacketListener("handedness",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function sc(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}jt.prototype.recognizeForVideo=jt.prototype.Ga,jt.prototype.recognize=jt.prototype.Fa,jt.prototype.setOptions=jt.prototype.o,jt.createFromModelPath=function(t,e){return B(jt,t,{baseOptions:{modelAssetPath:e}})},jt.createFromModelBuffer=function(t,e){return B(jt,t,{baseOptions:{modelAssetBuffer:e}})},jt.createFromOptions=function(t,e){return B(jt,t,e)},jt.HAND_CONNECTIONS=Ia;var Ct=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],C(t=this.h=new wa,0,1,e=new st),this.s=new va,C(this.h,0,3,this.s),this.j=new ld,C(this.h,0,2,this.j),ve(this.j,3,1),T(this.j,2,.5),T(this.s,2,.5),T(this.h,4,.5)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return"numHands"in t&&ve(this.j,3,t.numHands??1),"minHandDetectionConfidence"in t&&T(this.j,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&T(this.h,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&T(this.s,2,t.minHandPresenceConfidence??.5),this.l(t)}D(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],re(this,t,e),sc(this)}F(t,e,i){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],we(this,t,i,e),sc(this)}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"hand_landmarks"),U(t,"world_hand_landmarks"),U(t,"handedness");const e=new $t;ce(e,Zg,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"LANDMARKS:hand_landmarks"),N(i,"WORLD_LANDMARKS:world_hand_landmarks"),N(i,"HANDEDNESS:handedness"),i.o(e),Jt(t,i),this.g.attachProtoVectorListener("hand_landmarks",((n,s)=>{for(const o of n)n=ts(o),this.landmarks.push(_o(n));M(this,s)})),this.g.attachEmptyPacketListener("hand_landmarks",(n=>{M(this,n)})),this.g.attachProtoVectorListener("world_hand_landmarks",((n,s)=>{for(const o of n)n=zi(o),this.worldLandmarks.push(On(n));M(this,s)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(n=>{M(this,n)})),this.g.attachProtoVectorListener("handedness",((n,s)=>{var o=this.handedness,r=o.push;const a=[];for(const l of n){n=mo(l);const c=[];for(const h of n.g())c.push({score:ut(h,2)??0,index:ne(h,1)??0??-1,categoryName:se(h,3)??""??"",displayName:se(h,4)??""??""});a.push(c)}r.call(o,...a),M(this,s)})),this.g.attachEmptyPacketListener("handedness",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Ct.prototype.detectForVideo=Ct.prototype.F,Ct.prototype.detect=Ct.prototype.D,Ct.prototype.setOptions=Ct.prototype.o,Ct.createFromModelPath=function(t,e){return B(Ct,t,{baseOptions:{modelAssetPath:e}})},Ct.createFromModelBuffer=function(t,e){return B(Ct,t,{baseOptions:{modelAssetBuffer:e}})},Ct.createFromOptions=function(t,e){return B(Ct,t,e)},Ct.HAND_CONNECTIONS=Ia;var Fd=de([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function oc(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function rc(t){try{if(!t.C)return t.h;t.C(t.h)}finally{xo(t)}}function cs(t,e){t=ts(t),e.push(_o(t))}var tt=class extends zt{constructor(t,e){super(new oe(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,C(t=this.j=new gd,0,1,e=new st),this.K=new va,C(this.j,0,2,this.K),this.Y=new Qg,C(this.j,0,3,this.Y),this.s=new bo,C(this.j,0,4,this.s),this.H=new nd,C(this.j,0,5,this.H),this.v=new dd,C(this.j,0,6,this.v),this.L=new fd,C(this.j,0,7,this.L),T(this.s,2,.5),T(this.s,3,.3),T(this.H,2,.5),T(this.v,2,.5),T(this.v,3,.3),T(this.L,2,.5),T(this.K,2,.5)}get baseOptions(){return V(this.j,st,1)}set baseOptions(t){C(this.j,0,1,t)}o(t){return"minFaceDetectionConfidence"in t&&T(this.s,2,t.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in t&&T(this.s,3,t.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in t&&T(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&T(this.v,2,t.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in t&&T(this.v,3,t.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in t&&T(this.L,2,t.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&T(this.K,2,t.minHandLandmarksConfidence??.5),this.l(t)}D(t,e,i){const n=typeof e!="function"?e:{};return this.C=typeof e=="function"?e:i,oc(this),re(this,t,n),rc(this)}F(t,e,i,n){const s=typeof i!="function"?i:{};return this.C=typeof i=="function"?i:n,oc(this),we(this,t,s,e),rc(this)}m(){var t=new Vt;Z(t,"input_frames_image"),U(t,"pose_landmarks"),U(t,"pose_world_landmarks"),U(t,"face_landmarks"),U(t,"left_hand_landmarks"),U(t,"left_hand_world_landmarks"),U(t,"right_hand_landmarks"),U(t,"right_hand_world_landmarks");const e=new $t,i=new Ml;dr(i,1,on("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),(function(s,o){if(o!=null)if(Array.isArray(o))K(s,2,io(o,qr,void 0,void 0,!1));else{if(!(typeof o=="string"||o instanceof Fe||ki(o)))throw Error("invalid value in Any.value field: "+o+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");dr(s,2,jr(o,!1),Si())}})(i,this.j.g());const n=new Dt;qt(n,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),Rs(n,8,Ml,i),q(n,"IMAGE:input_frames_image"),N(n,"POSE_LANDMARKS:pose_landmarks"),N(n,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),N(n,"FACE_LANDMARKS:face_landmarks"),N(n,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),N(n,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),N(n,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),N(n,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),n.o(e),Jt(t,n),yo(this,t),this.g.attachProtoListener("pose_landmarks",((s,o)=>{cs(s,this.h.poseLandmarks),M(this,o)})),this.g.attachEmptyPacketListener("pose_landmarks",(s=>{M(this,s)})),this.g.attachProtoListener("pose_world_landmarks",((s,o)=>{var r=this.h.poseWorldLandmarks;s=zi(s),r.push(On(s)),M(this,o)})),this.g.attachEmptyPacketListener("pose_world_landmarks",(s=>{M(this,s)})),this.outputPoseSegmentationMasks&&(N(n,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),$i(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",((s,o)=>{this.h.poseSegmentationMasks=[Ji(this,s,!0,!this.C)],M(this,o)})),this.g.attachEmptyPacketListener("pose_segmentation_mask",(s=>{this.h.poseSegmentationMasks=[],M(this,s)}))),this.g.attachProtoListener("face_landmarks",((s,o)=>{cs(s,this.h.faceLandmarks),M(this,o)})),this.g.attachEmptyPacketListener("face_landmarks",(s=>{M(this,s)})),this.outputFaceBlendshapes&&(U(t,"extra_blendshapes"),N(n,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",((s,o)=>{var r=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(s=mo(s),r.push(Aa(s.g()??[]))),M(this,o)})),this.g.attachEmptyPacketListener("extra_blendshapes",(s=>{M(this,s)}))),this.g.attachProtoListener("left_hand_landmarks",((s,o)=>{cs(s,this.h.leftHandLandmarks),M(this,o)})),this.g.attachEmptyPacketListener("left_hand_landmarks",(s=>{M(this,s)})),this.g.attachProtoListener("left_hand_world_landmarks",((s,o)=>{var r=this.h.leftHandWorldLandmarks;s=zi(s),r.push(On(s)),M(this,o)})),this.g.attachEmptyPacketListener("left_hand_world_landmarks",(s=>{M(this,s)})),this.g.attachProtoListener("right_hand_landmarks",((s,o)=>{cs(s,this.h.rightHandLandmarks),M(this,o)})),this.g.attachEmptyPacketListener("right_hand_landmarks",(s=>{M(this,s)})),this.g.attachProtoListener("right_hand_world_landmarks",((s,o)=>{var r=this.h.rightHandWorldLandmarks;s=zi(s),r.push(On(s)),M(this,o)})),this.g.attachEmptyPacketListener("right_hand_world_landmarks",(s=>{M(this,s)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};tt.prototype.detectForVideo=tt.prototype.F,tt.prototype.detect=tt.prototype.D,tt.prototype.setOptions=tt.prototype.o,tt.createFromModelPath=function(t,e){return B(tt,t,{baseOptions:{modelAssetPath:e}})},tt.createFromModelBuffer=function(t,e){return B(tt,t,{baseOptions:{modelAssetBuffer:e}})},tt.createFromOptions=function(t,e){return B(tt,t,e)},tt.HAND_CONNECTIONS=Ia,tt.POSE_CONNECTIONS=Fd,tt.FACE_LANDMARKS_LIPS=Ca,tt.FACE_LANDMARKS_LEFT_EYE=La,tt.FACE_LANDMARKS_LEFT_EYEBROW=Da,tt.FACE_LANDMARKS_LEFT_IRIS=Ld,tt.FACE_LANDMARKS_RIGHT_EYE=Oa,tt.FACE_LANDMARKS_RIGHT_EYEBROW=Ra,tt.FACE_LANDMARKS_RIGHT_IRIS=Dd,tt.FACE_LANDMARKS_FACE_OVAL=Fa,tt.FACE_LANDMARKS_CONTOURS=Od,tt.FACE_LANDMARKS_TESSELATION=Rd;var Qt=class extends zt{constructor(t,e){super(new oe(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},C(t=this.h=new pd,0,1,e=new st)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return C(this.h,0,2,_r(t,V(this.h,_a,2))),this.l(t)}qa(t,e){return this.j={classifications:[]},re(this,t,e),this.j}ra(t,e,i){return this.j={classifications:[]},we(this,t,i,e),this.j}m(){var t=new Vt;Z(t,"input_image"),Z(t,"norm_rect"),U(t,"classifications");const e=new $t;ce(e,tp,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),q(i,"IMAGE:input_image"),q(i,"NORM_RECT:norm_rect"),N(i,"CLASSIFICATIONS:classifications"),i.o(e),Jt(t,i),this.g.attachProtoListener("classifications",((n,s)=>{this.j=(function(o){const r={classifications:Be(o,Vg,1).map((a=>Aa(V(a,$u,4)?.g()??[],ne(a,2)??0,se(a,3)??"")))};return cr(Xi(o,2))!=null&&(r.timestampMs=cr(Xi(o,2))??0),r})(Ug(n)),M(this,s)})),this.g.attachEmptyPacketListener("classifications",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Qt.prototype.classifyForVideo=Qt.prototype.ra,Qt.prototype.classify=Qt.prototype.qa,Qt.prototype.setOptions=Qt.prototype.o,Qt.createFromModelPath=function(t,e){return B(Qt,t,{baseOptions:{modelAssetPath:e}})},Qt.createFromModelBuffer=function(t,e){return B(Qt,t,{baseOptions:{modelAssetBuffer:e}})},Qt.createFromOptions=function(t,e){return B(Qt,t,e)};var Wt=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!0),this.h=new md,this.embeddings={embeddings:[]},C(t=this.h,0,1,e=new st)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){var e=this.h,i=V(this.h,Rl,2);return i=i?i.clone():new Rl,t.l2Normalize!==void 0?jn(i,1,t.l2Normalize):"l2Normalize"in t&&K(i,1),t.quantize!==void 0?jn(i,2,t.quantize):"quantize"in t&&K(i,2),C(e,0,2,i),this.l(t)}xa(t,e){return re(this,t,e),this.embeddings}ya(t,e,i){return we(this,t,i,e),this.embeddings}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"embeddings_out");const e=new $t;ce(e,ep,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"EMBEDDINGS:embeddings_out"),i.o(e),Jt(t,i),this.g.attachProtoListener("embeddings_out",((n,s)=>{n=Hg(n),this.embeddings=(function(o){return{embeddings:Be(o,Wg,1).map((r=>{const a={headIndex:ne(r,3)??0??-1,headName:se(r,4)??""??""};if(gu(r,Ol,Bo(r,1))!==void 0)r=yi(r=V(r,Ol,Bo(r,1)),1,si,_i()),a.floatEmbedding=r.slice();else{const l=new Uint8Array(0);a.quantizedEmbedding=V(r,jg,Bo(r,2))?.ma()?.h()??l}return a})),timestampMs:cr(Xi(o,2))??0}})(n),M(this,s)})),this.g.attachEmptyPacketListener("embeddings_out",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Wt.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=zl(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=zl(Nl(t.quantizedEmbedding),Nl(e.quantizedEmbedding))}return t},Wt.prototype.embedForVideo=Wt.prototype.ya,Wt.prototype.embed=Wt.prototype.xa,Wt.prototype.setOptions=Wt.prototype.o,Wt.createFromModelPath=function(t,e){return B(Wt,t,{baseOptions:{modelAssetPath:e}})},Wt.createFromModelBuffer=function(t,e){return B(Wt,t,{baseOptions:{modelAssetBuffer:e}})},Wt.createFromOptions=function(t,e){return B(Wt,t,e)};var wr=class{constructor(t,e,i){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=i}close(){this.confidenceMasks?.forEach((t=>{t.close()})),this.categoryMask?.close()}};function ac(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function lc(t){try{const e=new wr(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{xo(t)}}wr.prototype.close=wr.prototype.close;var Ft=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new Ma,this.v=new bd,C(this.h,0,3,this.v),C(t=this.h,0,1,e=new st)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?K(this.h,2,on(t.displayNamesLocale)):"displayNamesLocale"in t&&K(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}J(){(function(t){const e=Be(t.ca(),Dt,1).filter((i=>(se(i,1)??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator")));if(t.s=[],e.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");e.length===1&&(V(e[0],$t,7)?.l()?.g()??new Map).forEach(((i,n)=>{t.s[Number(n)]=se(i,1)??""}))})(this)}segment(t,e,i){const n=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:i,ac(this),re(this,t,n),lc(this)}Ia(t,e,i,n){const s=typeof i!="function"?i:{};return this.j=typeof i=="function"?i:n,ac(this),we(this,t,s,e),lc(this)}Ba(){return this.s}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect");const e=new $t;ce(e,yd,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),i.o(e),Jt(t,i),yo(this,t),this.outputConfidenceMasks&&(U(t,"confidence_masks"),N(i,"CONFIDENCE_MASKS:confidence_masks"),$i(this,"confidence_masks"),this.g.ba("confidence_masks",((n,s)=>{this.confidenceMasks=n.map((o=>Ji(this,o,!0,!this.j))),M(this,s)})),this.g.attachEmptyPacketListener("confidence_masks",(n=>{this.confidenceMasks=[],M(this,n)}))),this.outputCategoryMask&&(U(t,"category_mask"),N(i,"CATEGORY_MASK:category_mask"),$i(this,"category_mask"),this.g.V("category_mask",((n,s)=>{this.categoryMask=Ji(this,n,!1,!this.j),M(this,s)})),this.g.attachEmptyPacketListener("category_mask",(n=>{this.categoryMask=void 0,M(this,n)}))),U(t,"quality_scores"),N(i,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((n,s)=>{this.qualityScores=n,M(this,s)})),this.g.attachEmptyPacketListener("quality_scores",(n=>{this.categoryMask=void 0,M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Ft.prototype.getLabels=Ft.prototype.Ba,Ft.prototype.segmentForVideo=Ft.prototype.Ia,Ft.prototype.segment=Ft.prototype.segment,Ft.prototype.setOptions=Ft.prototype.o,Ft.createFromModelPath=function(t,e){return B(Ft,t,{baseOptions:{modelAssetPath:e}})},Ft.createFromModelBuffer=function(t,e){return B(Ft,t,{baseOptions:{modelAssetBuffer:e}})},Ft.createFromOptions=function(t,e){return B(Ft,t,e)};var kr=class{constructor(t,e,i){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=i}close(){this.confidenceMasks?.forEach((t=>{t.close()})),this.categoryMask?.close()}};kr.prototype.close=kr.prototype.close;var dp=class extends A{constructor(t){super(t)}},Oi=[0,lt,-2],Ns=[0,Te,-3,et,Te,-1],cc=[0,Ns],hc=[0,Ns,lt,-1],Ho=class extends A{constructor(t){super(t)}},uc=[0,Te,-1,et],fp=class extends A{constructor(t){super(t)}},dc=class extends A{constructor(t){super(t)}},Sr=[1,2,3,4,5,6,7,8,9,10,14,15],Id=class extends A{constructor(t){super(t)}};Id.prototype.g=po([0,_t,[0,Sr,W,Ns,W,[0,Ns,Oi],W,cc,W,[0,cc,Oi],W,uc,W,[0,Te,-3,et,Yt],W,[0,Te,-3,et],W,[0,H,Te,-2,et,lt,et,-1,2,Te,Oi],W,hc,W,[0,hc,Oi],Te,Oi,H,W,[0,Te,-3,et,Oi,-1],W,[0,_t,uc]],H,[0,H,lt,-1,et]]);var pe=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new Ma,this.s=new bd,C(this.h,0,3,this.s),C(t=this.h,0,1,e=new st)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}segment(t,e,i,n){const s=typeof i!="function"?i:{};this.j=typeof i=="function"?i:n,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,i=this.B+1,n=new Id;const o=new dc;var r=new dp;if(ve(r,1,255),C(o,0,12,r),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var a=new Ho;jn(a,3,!0),T(a,1,e.keypoint.x),T(a,2,e.keypoint.y),Ln(o,5,Sr,a)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(a of(r=new fp,e.scribble))jn(e=new Ho,3,!0),T(e,1,a.x),T(e,2,a.y),Rs(r,1,Ho,e);Ln(o,15,Sr,r)}Rs(n,1,dc,o),this.g.addProtoToStream(n.g(),"drishti.RenderData","roi_in",i),re(this,t,s);t:{try{const c=new kr(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var l=c;break t}this.j(c)}finally{xo(this)}l=void 0}return l}m(){var t=new Vt;Z(t,"image_in"),Z(t,"roi_in"),Z(t,"norm_rect_in");const e=new $t;ce(e,yd,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),q(i,"IMAGE:image_in"),q(i,"ROI:roi_in"),q(i,"NORM_RECT:norm_rect_in"),i.o(e),Jt(t,i),yo(this,t),this.outputConfidenceMasks&&(U(t,"confidence_masks"),N(i,"CONFIDENCE_MASKS:confidence_masks"),$i(this,"confidence_masks"),this.g.ba("confidence_masks",((n,s)=>{this.confidenceMasks=n.map((o=>Ji(this,o,!0,!this.j))),M(this,s)})),this.g.attachEmptyPacketListener("confidence_masks",(n=>{this.confidenceMasks=[],M(this,n)}))),this.outputCategoryMask&&(U(t,"category_mask"),N(i,"CATEGORY_MASK:category_mask"),$i(this,"category_mask"),this.g.V("category_mask",((n,s)=>{this.categoryMask=Ji(this,n,!1,!this.j),M(this,s)})),this.g.attachEmptyPacketListener("category_mask",(n=>{this.categoryMask=void 0,M(this,n)}))),U(t,"quality_scores"),N(i,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((n,s)=>{this.qualityScores=n,M(this,s)})),this.g.attachEmptyPacketListener("quality_scores",(n=>{this.categoryMask=void 0,M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};pe.prototype.segment=pe.prototype.segment,pe.prototype.setOptions=pe.prototype.o,pe.createFromModelPath=function(t,e){return B(pe,t,{baseOptions:{modelAssetPath:e}})},pe.createFromModelBuffer=function(t,e){return B(pe,t,{baseOptions:{modelAssetBuffer:e}})},pe.createFromOptions=function(t,e){return B(pe,t,e)};var te=class extends zt{constructor(t,e){super(new oe(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},C(t=this.h=new xd,0,1,e=new st)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?K(this.h,2,on(t.displayNamesLocale)):"displayNamesLocale"in t&&K(this.h,2),t.maxResults!==void 0?ve(this.h,3,t.maxResults):"maxResults"in t&&K(this.h,3),t.scoreThreshold!==void 0?T(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&K(this.h,4),t.categoryAllowlist!==void 0?Fs(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&K(this.h,5),t.categoryDenylist!==void 0?Fs(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&K(this.h,6),this.l(t)}D(t,e){return this.j={detections:[]},re(this,t,e),this.j}F(t,e,i){return this.j={detections:[]},we(this,t,i,e),this.j}m(){var t=new Vt;Z(t,"input_frame_gpu"),Z(t,"norm_rect"),U(t,"detections");const e=new $t;ce(e,np,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.ObjectDetectorGraph"),q(i,"IMAGE:input_frame_gpu"),q(i,"NORM_RECT:norm_rect"),N(i,"DETECTIONS:detections"),i.o(e),Jt(t,i),this.g.attachProtoVectorListener("detections",((n,s)=>{for(const o of n)n=qu(o),this.j.detections.push(wd(n));M(this,s)})),this.g.attachEmptyPacketListener("detections",(n=>{M(this,n)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};te.prototype.detectForVideo=te.prototype.F,te.prototype.detect=te.prototype.D,te.prototype.setOptions=te.prototype.o,te.createFromModelPath=async function(t,e){return B(te,t,{baseOptions:{modelAssetPath:e}})},te.createFromModelBuffer=function(t,e){return B(te,t,{baseOptions:{modelAssetBuffer:e}})},te.createFromOptions=function(t,e){return B(te,t,e)};var Mr=class{constructor(t,e,i){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=i}close(){this.segmentationMasks?.forEach((t=>{t.close()}))}};function fc(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function gc(t){try{const e=new Mr(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.s)return e;t.s(e)}finally{xo(t)}}Mr.prototype.close=Mr.prototype.close;var Ht=class extends zt{constructor(t,e){super(new oe(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,C(t=this.h=new vd,0,1,e=new st),this.v=new fd,C(this.h,0,3,this.v),this.j=new dd,C(this.h,0,2,this.j),ve(this.j,4,1),T(this.j,2,.5),T(this.v,2,.5),T(this.h,4,.5)}get baseOptions(){return V(this.h,st,1)}set baseOptions(t){C(this.h,0,1,t)}o(t){return"numPoses"in t&&ve(this.j,4,t.numPoses??1),"minPoseDetectionConfidence"in t&&T(this.j,2,t.minPoseDetectionConfidence??.5),"minTrackingConfidence"in t&&T(this.h,4,t.minTrackingConfidence??.5),"minPosePresenceConfidence"in t&&T(this.v,2,t.minPosePresenceConfidence??.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=t.outputSegmentationMasks??!1),this.l(t)}D(t,e,i){const n=typeof e!="function"?e:{};return this.s=typeof e=="function"?e:i,fc(this),re(this,t,n),gc(this)}F(t,e,i,n){const s=typeof i!="function"?i:{};return this.s=typeof i=="function"?i:n,fc(this),we(this,t,s,e),gc(this)}m(){var t=new Vt;Z(t,"image_in"),Z(t,"norm_rect"),U(t,"normalized_landmarks"),U(t,"world_landmarks"),U(t,"segmentation_masks");const e=new $t;ce(e,sp,this.h);const i=new Dt;qt(i,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),q(i,"IMAGE:image_in"),q(i,"NORM_RECT:norm_rect"),N(i,"NORM_LANDMARKS:normalized_landmarks"),N(i,"WORLD_LANDMARKS:world_landmarks"),i.o(e),Jt(t,i),yo(this,t),this.g.attachProtoVectorListener("normalized_landmarks",((n,s)=>{this.landmarks=[];for(const o of n)n=ts(o),this.landmarks.push(_o(n));M(this,s)})),this.g.attachEmptyPacketListener("normalized_landmarks",(n=>{this.landmarks=[],M(this,n)})),this.g.attachProtoVectorListener("world_landmarks",((n,s)=>{this.worldLandmarks=[];for(const o of n)n=zi(o),this.worldLandmarks.push(On(n));M(this,s)})),this.g.attachEmptyPacketListener("world_landmarks",(n=>{this.worldLandmarks=[],M(this,n)})),this.outputSegmentationMasks&&(N(i,"SEGMENTATION_MASK:segmentation_masks"),$i(this,"segmentation_masks"),this.g.ba("segmentation_masks",((n,s)=>{this.segmentationMasks=n.map((o=>Ji(this,o,!0,!this.s))),M(this,s)})),this.g.attachEmptyPacketListener("segmentation_masks",(n=>{this.segmentationMasks=[],M(this,n)}))),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Ht.prototype.detectForVideo=Ht.prototype.F,Ht.prototype.detect=Ht.prototype.D,Ht.prototype.setOptions=Ht.prototype.o,Ht.createFromModelPath=function(t,e){return B(Ht,t,{baseOptions:{modelAssetPath:e}})},Ht.createFromModelBuffer=function(t,e){return B(Ht,t,{baseOptions:{modelAssetBuffer:e}})},Ht.createFromOptions=function(t,e){return B(Ht,t,e)},Ht.POSE_CONNECTIONS=Fd;function gp(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function pc(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}}function mc(t){return{x:-t.x,y:-t.y,z:-t.z}}function bn(t,e,i){const n=pc(t,mc(i)),s=pc(e,mc(i)),o=gp(n,s)/(bc(n)*bc(s));return Math.acos(o)}function bc(t){return Math.sqrt(t.x**2+t.y**2+t.z**2)}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function is(t){return t+.5|0}const He=(t,e,i)=>Math.max(Math.min(t,i),e);function An(t){return He(is(t*2.55),0,255)}function Je(t){return He(is(t*255),0,255)}function Ee(t){return He(is(t/2.55)/100,0,1)}function _c(t){return He(is(t*100),0,100)}const ee={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ar=[..."0123456789ABCDEF"],pp=t=>Ar[t&15],mp=t=>Ar[(t&240)>>4]+Ar[t&15],hs=t=>(t&240)>>4===(t&15),bp=t=>hs(t.r)&&hs(t.g)&&hs(t.b)&&hs(t.a);function _p(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&ee[t[1]]*17,g:255&ee[t[2]]*17,b:255&ee[t[3]]*17,a:e===5?ee[t[4]]*17:255}:(e===7||e===9)&&(i={r:ee[t[1]]<<4|ee[t[2]],g:ee[t[3]]<<4|ee[t[4]],b:ee[t[5]]<<4|ee[t[6]],a:e===9?ee[t[7]]<<4|ee[t[8]]:255})),i}const yp=(t,e)=>t<255?e(t):"";function xp(t){var e=bp(t)?pp:mp;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yp(t.a,e):void 0}const vp=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bd(t,e,i){const n=e*Math.min(i,1-i),s=(o,r=(o+t/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function wp(t,e,i){const n=(s,o=(s+t/60)%6)=>i-i*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function kp(t,e,i){const n=Bd(t,1,.5);let s;for(e+i>1&&(s=1/(e+i),e*=s,i*=s),s=0;s<3;s++)n[s]*=1-e-i,n[s]+=e;return n}function Sp(t,e,i,n,s){return t===s?(e-i)/n+(e<i?6:0):e===s?(i-t)/n+2:(t-e)/n+4}function Ba(t){const i=t.r/255,n=t.g/255,s=t.b/255,o=Math.max(i,n,s),r=Math.min(i,n,s),a=(o+r)/2;let l,c,h;return o!==r&&(h=o-r,c=a>.5?h/(2-o-r):h/(o+r),l=Sp(i,n,s,h,o),l=l*60+.5),[l|0,c||0,a]}function Na(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Je)}function za(t,e,i){return Na(Bd,t,e,i)}function Mp(t,e,i){return Na(kp,t,e,i)}function Ap(t,e,i){return Na(wp,t,e,i)}function Nd(t){return(t%360+360)%360}function Tp(t){const e=vp.exec(t);let i=255,n;if(!e)return;e[5]!==n&&(i=e[6]?An(+e[5]):Je(+e[5]));const s=Nd(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?n=Mp(s,o,r):e[1]==="hsv"?n=Ap(s,o,r):n=za(s,o,r),{r:n[0],g:n[1],b:n[2],a:i}}function Ep(t,e){var i=Ba(t);i[0]=Nd(i[0]+e),i=za(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Pp(t){if(!t)return;const e=Ba(t),i=e[0],n=_c(e[1]),s=_c(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${s}%, ${Ee(t.a)})`:`hsl(${i}, ${n}%, ${s}%)`}const yc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Cp(){const t={},e=Object.keys(xc),i=Object.keys(yc);let n,s,o,r,a;for(n=0;n<e.length;n++){for(r=a=e[n],s=0;s<i.length;s++)o=i[s],a=a.replace(o,yc[o]);o=parseInt(xc[r],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let us;function Lp(t){us||(us=Cp(),us.transparent=[0,0,0,0]);const e=us[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Dp=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Op(t){const e=Dp.exec(t);let i=255,n,s,o;if(e){if(e[7]!==n){const r=+e[7];i=e[8]?An(r):He(r*255,0,255)}return n=+e[1],s=+e[3],o=+e[5],n=255&(e[2]?An(n):He(n,0,255)),s=255&(e[4]?An(s):He(s,0,255)),o=255&(e[6]?An(o):He(o,0,255)),{r:n,g:s,b:o,a:i}}}function Rp(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ee(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Go=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ri=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Fp(t,e,i){const n=Ri(Ee(t.r)),s=Ri(Ee(t.g)),o=Ri(Ee(t.b));return{r:Je(Go(n+i*(Ri(Ee(e.r))-n))),g:Je(Go(s+i*(Ri(Ee(e.g))-s))),b:Je(Go(o+i*(Ri(Ee(e.b))-o))),a:t.a+i*(e.a-t.a)}}function ds(t,e,i){if(t){let n=Ba(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,e===0?360:1)),n=za(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function zd(t,e){return t&&Object.assign(e||{},t)}function vc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Je(t[3]))):(e=zd(t,{r:0,g:0,b:0,a:1}),e.a=Je(e.a)),e}function Ip(t){return t.charAt(0)==="r"?Op(t):Tp(t)}class Gn{constructor(e){if(e instanceof Gn)return e;const i=typeof e;let n;i==="object"?n=vc(e):i==="string"&&(n=_p(e)||Lp(e)||Ip(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=zd(this._rgb);return e&&(e.a=Ee(e.a)),e}set rgb(e){this._rgb=vc(e)}rgbString(){return this._valid?Rp(this._rgb):void 0}hexString(){return this._valid?xp(this._rgb):void 0}hslString(){return this._valid?Pp(this._rgb):void 0}mix(e,i){if(e){const n=this.rgb,s=e.rgb;let o;const r=i===o?.5:i,a=2*r-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*s.r+.5,n.g=255&c*n.g+o*s.g+.5,n.b=255&c*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(e,i){return e&&(this._rgb=Fp(this._rgb,e._rgb,i)),this}clone(){return new Gn(this.rgb)}alpha(e){return this._rgb.a=Je(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=is(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ds(this._rgb,2,e),this}darken(e){return ds(this._rgb,2,-e),this}saturate(e){return ds(this._rgb,1,e),this}desaturate(e){return ds(this._rgb,1,-e),this}rotate(e){return Ep(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Se(){}const Bp=(()=>{let t=0;return()=>t++})();function F(t){return t==null}function it(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function I(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xt(t,e){return ct(t)?t:e}function D(t,e){return typeof t>"u"?e:t}const Np=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Vd=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function $(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function G(t,e,i,n){let s,o,r;if(it(t))for(o=t.length,s=0;s<o;s++)e.call(i,t[s],s);else if(I(t))for(r=Object.keys(t),o=r.length,s=0;s<o;s++)e.call(i,t[r[s]],r[s])}function zs(t,e){let i,n,s,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(s=t[i],o=e[i],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Vs(t){if(it(t))return t.map(Vs);if(I(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let s=0;for(;s<n;++s)e[i[s]]=Vs(t[i[s]]);return e}return t}function Ud(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zp(t,e,i,n){if(!Ud(t))return;const s=e[t],o=i[t];I(s)&&I(o)?Xn(s,o,n):e[t]=Vs(o)}function Xn(t,e,i){const n=it(e)?e:[e],s=n.length;if(!I(t))return t;i=i||{};const o=i.merger||zp;let r;for(let a=0;a<s;++a){if(r=n[a],!I(r))continue;const l=Object.keys(r);for(let c=0,h=l.length;c<h;++c)o(l[c],t,r,i)}return t}function Rn(t,e){return Xn(t,e,{merger:Vp})}function Vp(t,e,i){if(!Ud(t))return;const n=e[t],s=i[t];I(n)&&I(s)?Rn(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Vs(s))}const wc={"":t=>t,x:t=>t.x,y:t=>t.y};function Up(t){const e=t.split("."),i=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function jp(t){const e=Up(t);return i=>{for(const n of e){if(n==="")break;i=i&&i[n]}return i}}function ei(t,e){return(wc[e]||(wc[e]=jp(e)))(t)}function Va(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Yn=t=>typeof t<"u",ii=t=>typeof t=="function",kc=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function Wp(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const j=Math.PI,J=2*j,Hp=J+j,Us=Number.POSITIVE_INFINITY,Gp=j/180,dt=j/2,ui=j/4,Sc=j*2/3,Ge=Math.log10,ye=Math.sign;function Fn(t,e,i){return Math.abs(t-e)<i}function Mc(t){const e=Math.round(t);t=Fn(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Ge(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Xp(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(i|0)&&e.push(i),e.sort((s,o)=>s-o).pop(),e}function Yp(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Zi(t){return!Yp(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function $p(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function jd(t,e,i){let n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function le(t){return t*(j/180)}function Ua(t){return t*(180/j)}function Ac(t){if(!ct(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Wd(t,e){const i=e.x-t.x,n=e.y-t.y,s=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*j&&(o+=J),{angle:o,distance:s}}function Tr(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kp(t,e){return(t-e+Hp)%J-j}function At(t){return(t%J+J)%J}function $n(t,e,i,n){const s=At(t),o=At(e),r=At(i),a=At(o-s),l=At(r-s),c=At(s-o),h=At(s-r);return s===o||s===r||n&&o===r||a>l&&c<h}function vt(t,e,i){return Math.max(e,Math.min(i,t))}function qp(t){return vt(t,-32768,32767)}function De(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function ja(t,e,i){i=i||(r=>t[r]<e);let n=t.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,i(o)?s=o:n=o;return{lo:s,hi:n}}const Oe=(t,e,i,n)=>ja(t,i,n?s=>{const o=t[s][e];return o<i||o===i&&t[s+1][e]===i}:s=>t[s][e]<i),Jp=(t,e,i)=>ja(t,i,n=>t[n][e]>=i);function Zp(t,e,i){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>i;)s--;return n>0||s<t.length?t.slice(n,s):t}const Hd=["push","pop","shift","splice","unshift"];function Qp(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Hd.forEach(i=>{const n="_onData"+Va(i),s=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...o){const r=s.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Tc(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(Hd.forEach(o=>{delete t[o]}),delete t._chartjs)}function Gd(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Xd=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Yd(t,e){let i=[],n=!1;return function(...s){i=s,n||(n=!0,Xd.call(window,()=>{n=!1,t.apply(e,i)}))}}function t1(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}const Wa=t=>t==="start"?"left":t==="end"?"right":"center",St=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,e1=(t,e,i,n)=>t===(n?"left":"right")?i:t==="center"?(e+i)/2:e;function $d(t,e,i){const n=e.length;let s=0,o=n;if(t._sorted){const{iScale:r,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=r.axis,{min:u,max:d,minDefined:f,maxDefined:g}=r.getUserBounds();if(f){if(s=Math.min(Oe(l,h,u).lo,i?n:Oe(e,h,r.getPixelForValue(u)).lo),c){const p=l.slice(0,s+1).reverse().findIndex(m=>!F(m[a.axis]));s-=Math.max(0,p)}s=vt(s,0,n-1)}if(g){let p=Math.max(Oe(l,r.axis,d,!0).hi+1,i?0:Oe(e,h,r.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(b=>!F(b[a.axis]));p+=Math.max(0,m)}o=vt(p,s,n)-s}else o=n-s}return{start:s,count:o}}function Kd(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=s,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),o}const fs=t=>t===0||t===1,Ec=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*J/i)),Pc=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*J/i)+1,In={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*dt)+1,easeOutSine:t=>Math.sin(t*dt),easeInOutSine:t=>-.5*(Math.cos(j*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fs(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fs(t)?t:Ec(t,.075,.3),easeOutElastic:t=>fs(t)?t:Pc(t,.075,.3),easeInOutElastic(t){return fs(t)?t:t<.5?.5*Ec(t*2,.1125,.45):.5+.5*Pc(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-In.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?In.easeInBounce(t*2)*.5:In.easeOutBounce(t*2-1)*.5+.5};function Ha(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Cc(t){return Ha(t)?t:new Gn(t)}function Xo(t){return Ha(t)?t:new Gn(t).saturate(.5).darken(.1).hexString()}const i1=["x","y","borderWidth","radius","tension"],n1=["color","borderColor","backgroundColor"];function s1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:n1},numbers:{type:"number",properties:i1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function o1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lc=new Map;function r1(t,e){e=e||{};const i=t+JSON.stringify(e);let n=Lc.get(i);return n||(n=new Intl.NumberFormat(t,e),Lc.set(i,n)),n}function ns(t,e,i){return r1(e,i).format(t)}const qd={values(t){return it(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";const n=this.chart.options.locale;let s,o=t;if(i.length>1){const c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=a1(t,i)}const r=Ge(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ns(t,n,l)},logarithmic(t,e,i){if(t===0)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(Ge(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?qd.numeric.call(this,t,e,i):""}};function a1(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var ko={formatters:qd};function l1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ko.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ai=Object.create(null),Er=Object.create(null);function Bn(t,e){if(!e)return t;const i=e.split(".");for(let n=0,s=i.length;n<s;++n){const o=i[n];t=t[o]||(t[o]=Object.create(null))}return t}function Yo(t,e,i){return typeof e=="string"?Xn(Bn(t,e),i):Xn(Bn(t,""),e)}class c1{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Xo(s.backgroundColor),this.hoverBorderColor=(n,s)=>Xo(s.borderColor),this.hoverColor=(n,s)=>Xo(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return Yo(this,e,i)}get(e){return Bn(this,e)}describe(e,i){return Yo(Er,e,i)}override(e,i){return Yo(Ai,e,i)}route(e,i,n,s){const o=Bn(this,e),r=Bn(this,n),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){const l=this[a],c=r[s];return I(l)?Object.assign({},c,l):D(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(i=>i(this))}}var nt=new c1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[s1,o1,l1]);function h1(t){return!t||F(t.size)||F(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function js(t,e,i,n,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,i.push(s)),o>n&&(n=o),n}function u1(t,e,i,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let r=0;const a=i.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=i[l],u!=null&&!it(u))r=js(t,s,o,r,u);else if(it(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!it(d)&&(r=js(t,s,o,r,d));t.restore();const f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete s[o[l]];o.splice(0,f)}return r}function di(t,e,i){const n=t.currentDevicePixelRatio,s=i!==0?Math.max(i/2,.5):0;return Math.round((e-s)*n)/n+s}function Dc(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Pr(t,e,i,n){Jd(t,e,i,n,null)}function Jd(t,e,i,n,s){let o,r,a,l,c,h,u,d;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*Gp;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(i,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:s?t.ellipse(i,n,s/2,p,0,0,J):t.arc(i,n,p,0,J),t.closePath();break;case"triangle":h=s?s/2:p,t.moveTo(i+Math.sin(m)*h,n-Math.cos(m)*p),m+=Sc,t.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*p),m+=Sc,t.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,r=Math.cos(m+ui)*l,u=Math.cos(m+ui)*(s?s/2-c:l),a=Math.sin(m+ui)*l,d=Math.sin(m+ui)*(s?s/2-c:l),t.arc(i-u,n-a,c,m-j,m-dt),t.arc(i+d,n-r,c,m-dt,m),t.arc(i+u,n+a,c,m,m+dt),t.arc(i-d,n+r,c,m+dt,m+j),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,h=s?s/2:l,t.rect(i-h,n-l,2*h,2*l);break}m+=ui;case"rectRot":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(i-u,n-a),t.lineTo(i+d,n-r),t.lineTo(i+u,n+a),t.lineTo(i-d,n+r),t.closePath();break;case"crossRot":m+=ui;case"cross":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-r),t.lineTo(i-d,n+r);break;case"star":u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-r),t.lineTo(i-d,n+r),m+=ui,u=Math.cos(m)*(s?s/2:p),r=Math.cos(m)*p,a=Math.sin(m)*p,d=Math.sin(m)*(s?s/2:p),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-r),t.lineTo(i-d,n+r);break;case"line":r=s?s/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(i-r,n-a),t.lineTo(i+r,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(s?s/2:p),n+Math.sin(m)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Re(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function So(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Mo(t){t.restore()}function d1(t,e,i,n,s){if(!e)return t.lineTo(i.x,i.y);if(s==="middle"){const o=(e.x+i.x)/2;t.lineTo(o,e.y),t.lineTo(o,i.y)}else s==="after"!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function f1(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function g1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),F(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function p1(t,e,i,n,s){if(s.strikethrough||s.underline){const o=t.measureText(n),r=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,c=i+o.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(r,h),t.lineTo(a,h),t.stroke()}}function m1(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Ti(t,e,i,n,s,o={}){const r=it(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,g1(t,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&m1(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),F(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,i,n,o.maxWidth)),t.fillText(c,i,n,o.maxWidth),p1(t,i,n,c,o),n+=Number(s.lineHeight);t.restore()}function Kn(t,e){const{x:i,y:n,w:s,h:o,radius:r}=e;t.arc(i+r.topLeft,n+r.topLeft,r.topLeft,1.5*j,j,!0),t.lineTo(i,n+o-r.bottomLeft),t.arc(i+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,j,dt,!0),t.lineTo(i+s-r.bottomRight,n+o),t.arc(i+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,dt,0,!0),t.lineTo(i+s,n+r.topRight),t.arc(i+s-r.topRight,n+r.topRight,r.topRight,0,-dt,!0),t.lineTo(i+r.topLeft,n)}const b1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function y1(t,e){const i=(""+t).match(b1);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const x1=t=>+t||0;function Ga(t,e){const i={},n=I(e),s=n?Object.keys(e):e,o=I(t)?n?r=>D(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of s)i[r]=x1(o(r));return i}function Zd(t){return Ga(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vi(t){return Ga(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(t){const e=Zd(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yt(t,e){t=t||{},e=e||nt.font;let i=D(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let n=D(t.style,e.style);n&&!(""+n).match(_1)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:D(t.family,e.family),lineHeight:y1(D(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:D(t.weight,e.weight),string:""};return s.string=h1(s),s}function Tn(t,e,i,n){let s,o,r;for(s=0,o=t.length;s<o;++s)if(r=t[s],r!==void 0&&r!==void 0)return r}function v1(t,e,i){const{min:n,max:s}=t,o=Vd(e,(s-n)/2),r=(a,l)=>i&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(s,o)}}function ri(t,e){return Object.assign(Object.create(t),e)}function Xa(t,e=[""],i,n,s=()=>t[0]){const o=i||t;typeof n>"u"&&(n=nf("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:s,override:a=>Xa([a,...t],e,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return tf(a,l,()=>P1(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Rc(a).includes(l)},ownKeys(a){return Rc(a)},set(a,l,c){const h=a._storage||(a._storage=s());return a[l]=h[l]=c,delete a._keys,!0}})}function Qi(t,e,i,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Qd(t,n),setContext:o=>Qi(t,o,i,n),override:o=>Qi(t.override(o),e,i,n)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete t[r],!0},get(o,r,a){return tf(o,r,()=>k1(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(o,r,a){return t[r]=a,delete o[r],!0}})}function Qd(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:i,indexable:n,isScriptable:ii(i)?i:()=>i,isIndexable:ii(n)?n:()=>n}}const w1=(t,e)=>t?t+Va(e):e,Ya=(t,e)=>I(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tf(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=i();return t[e]=n,n}function k1(t,e,i){const{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=t;let a=n[e];return ii(a)&&r.isScriptable(e)&&(a=S1(e,a,t,i)),it(a)&&a.length&&(a=M1(e,a,t,r.isIndexable)),Ya(e,a)&&(a=Qi(a,s,o&&o[e],r)),a}function S1(t,e,i,n){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,r||n);return a.delete(t),Ya(t,l)&&(l=$a(s._scopes,s,t,l)),l}function M1(t,e,i,n){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=i;if(typeof o.index<"u"&&n(t))return e[o.index%e.length];if(I(e[0])){const l=e,c=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const u=$a(c,s,t,h);e.push(Qi(u,o,r&&r[t],a))}}return e}function ef(t,e,i){return ii(t)?t(e,i):t}const A1=(t,e)=>t===!0?e:typeof t=="string"?ei(e,t):void 0;function T1(t,e,i,n,s){for(const o of e){const r=A1(i,o);if(r){t.add(r);const a=ef(r._fallback,i,s);if(typeof a<"u"&&a!==i&&a!==n)return a}else if(r===!1&&typeof n<"u"&&i!==n)return null}return!1}function $a(t,e,i,n){const s=e._rootScopes,o=ef(e._fallback,i,n),r=[...t,...s],a=new Set;a.add(n);let l=Oc(a,r,i,o||i,n);return l===null||typeof o<"u"&&o!==i&&(l=Oc(a,r,o,l,n),l===null)?!1:Xa(Array.from(a),[""],s,o,()=>E1(e,i,n))}function Oc(t,e,i,n,s){for(;i;)i=T1(t,e,i,n,s);return i}function E1(t,e,i){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return it(s)&&I(i)?i:s||{}}function P1(t,e,i,n){let s;for(const o of e)if(s=nf(w1(o,t),i),typeof s<"u")return Ya(t,s)?$a(i,n,t,s):s}function nf(t,e){for(const i of e){if(!i)continue;const n=i[t];if(typeof n<"u")return n}}function Rc(t){let e=t._keys;return e||(e=t._keys=C1(t._scopes)),e}function C1(t){const e=new Set;for(const i of t)for(const n of Object.keys(i).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}function sf(t,e,i,n){const{iScale:s}=t,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,h;for(a=0,l=n;a<l;++a)c=a+i,h=e[c],r[a]={r:s.parse(ei(h,o),c)};return r}const L1=Number.EPSILON||1e-14,tn=(t,e)=>e<t.length&&!t[e].skip&&t[e],of=t=>t==="x"?"y":"x";function D1(t,e,i,n){const s=t.skip?e:t,o=e,r=i.skip?e:i,a=Tr(o,s),l=Tr(r,o);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=n*c,d=n*h;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+d*(r.x-s.x),y:o.y+d*(r.y-s.y)}}}function O1(t,e,i){const n=t.length;let s,o,r,a,l,c=tn(t,0);for(let h=0;h<n-1;++h)if(l=c,c=tn(t,h+1),!(!l||!c)){if(Fn(e[h],0,L1)){i[h]=i[h+1]=0;continue}s=i[h]/e[h],o=i[h+1]/e[h],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),i[h]=s*r*e[h],i[h+1]=o*r*e[h])}}function R1(t,e,i="x"){const n=of(i),s=t.length;let o,r,a,l=tn(t,0);for(let c=0;c<s;++c){if(r=a,a=l,l=tn(t,c+1),!a)continue;const h=a[i],u=a[n];r&&(o=(h-r[i])/3,a[`cp1${i}`]=h-o,a[`cp1${n}`]=u-o*e[c]),l&&(o=(l[i]-h)/3,a[`cp2${i}`]=h+o,a[`cp2${n}`]=u+o*e[c])}}function F1(t,e="x"){const i=of(e),n=t.length,s=Array(n).fill(0),o=Array(n);let r,a,l,c=tn(t,0);for(r=0;r<n;++r)if(a=l,l=c,c=tn(t,r+1),!!l){if(c){const h=c[e]-l[e];s[r]=h!==0?(c[i]-l[i])/h:0}o[r]=a?c?ye(s[r-1])!==ye(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}O1(t,s,o),R1(t,o,e)}function gs(t,e,i){return Math.max(Math.min(t,i),e)}function I1(t,e){let i,n,s,o,r,a=Re(t[0],e);for(i=0,n=t.length;i<n;++i)r=o,o=a,a=i<n-1&&Re(t[i+1],e),o&&(s=t[i],r&&(s.cp1x=gs(s.cp1x,e.left,e.right),s.cp1y=gs(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=gs(s.cp2x,e.left,e.right),s.cp2y=gs(s.cp2y,e.top,e.bottom)))}function B1(t,e,i,n,s){let o,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")F1(t,s);else{let c=n?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o)a=t[o],l=D1(c,a,t[Math.min(o+1,r-(n?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&I1(t,i)}function Ka(){return typeof window<"u"&&typeof document<"u"}function qa(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ws(t,e,i){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[i])):n=t,n}const Ao=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function N1(t,e){return Ao(t).getPropertyValue(e)}const z1=["top","right","bottom","left"];function wi(t,e,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const o=z1[s];n[o]=parseFloat(t[e+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const V1=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function U1(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:s,offsetY:o}=n;let r=!1,a,l;if(V1(s,o,t.target))a=s,l=o;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function mi(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,s=Ao(i),o=s.boxSizing==="border-box",r=wi(s,"padding"),a=wi(s,"border","width"),{x:l,y:c,box:h}=U1(t,i),u=r.left+(h&&a.left),d=r.top+(h&&a.top);let{width:f,height:g}=e;return o&&(f-=r.width+a.width,g-=r.height+a.height),{x:Math.round((l-u)/f*i.width/n),y:Math.round((c-d)/g*i.height/n)}}function j1(t,e,i){let n,s;if(e===void 0||i===void 0){const o=t&&qa(t);if(!o)e=t.clientWidth,i=t.clientHeight;else{const r=o.getBoundingClientRect(),a=Ao(o),l=wi(a,"border","width"),c=wi(a,"padding");e=r.width-c.width-l.width,i=r.height-c.height-l.height,n=Ws(a.maxWidth,o,"clientWidth"),s=Ws(a.maxHeight,o,"clientHeight")}}return{width:e,height:i,maxWidth:n||Us,maxHeight:s||Us}}const ps=t=>Math.round(t*10)/10;function W1(t,e,i,n){const s=Ao(t),o=wi(s,"margin"),r=Ws(s.maxWidth,t,"clientWidth")||Us,a=Ws(s.maxHeight,t,"clientHeight")||Us,l=j1(t,e,i);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=wi(s,"border","width"),f=wi(s,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-o.width),h=Math.max(0,n?c/n:h-o.height),c=ps(Math.min(c,r,l.maxWidth)),h=ps(Math.min(h,a,l.maxHeight)),c&&!h&&(h=ps(c/2)),(e!==void 0||i!==void 0)&&n&&l.height&&h>l.height&&(h=l.height,c=ps(Math.floor(h*n))),{width:c,height:h}}function Fc(t,e,i){const n=e||1,s=Math.floor(t.height*n),o=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||r.height!==s||r.width!==o?(t.currentDevicePixelRatio=n,r.height=s,r.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const H1=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ka()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Ic(t,e){const i=N1(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function bi(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function G1(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:n==="middle"?i<.5?t.y:e.y:n==="after"?i<1?t.y:e.y:i>0?e.y:t.y}}function X1(t,e,i,n){const s={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},r=bi(t,s,i),a=bi(s,o,i),l=bi(o,e,i),c=bi(r,a,i),h=bi(a,l,i);return bi(c,h,i)}const Y1=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},$1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vi(t,e,i){return t?Y1(e,i):$1()}function rf(t,e){let i,n;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function af(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function lf(t){return t==="angle"?{between:$n,compare:Kp,normalize:At}:{between:De,compare:(e,i)=>e-i,normalize:e=>e}}function Bc({start:t,end:e,count:i,loop:n,style:s}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:s}}function K1(t,e,i){const{property:n,start:s,end:o}=i,{between:r,normalize:a}=lf(n),l=e.length;let{start:c,end:h,loop:u}=t,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&r(a(e[c%l][n]),s,o);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:t.style}}function cf(t,e,i){if(!i)return[t];const{property:n,start:s,end:o}=i,r=e.length,{compare:a,between:l,normalize:c}=lf(n),{start:h,end:u,loop:d,style:f}=K1(t,e,i),g=[];let p=!1,m=null,b,_,v;const x=()=>l(s,v,b)&&a(s,v)!==0,y=()=>a(o,b)===0||l(o,v,b),w=()=>p||x(),k=()=>!p||y();for(let S=h,L=h;S<=u;++S)_=e[S%r],!_.skip&&(b=c(_[n]),b!==v&&(p=l(b,s,o),m===null&&w()&&(m=a(b,s)===0?S:L),m!==null&&k()&&(g.push(Bc({start:m,end:S,loop:d,count:r,style:f})),m=null),L=S,v=b));return m!==null&&g.push(Bc({start:m,end:u,loop:d,count:r,style:f})),g}function hf(t,e){const i=[],n=t.segments;for(let s=0;s<n.length;s++){const o=cf(n[s],t.points,e);o.length&&i.push(...o)}return i}function q1(t,e,i,n){let s=0,o=e-1;if(i&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,i&&(o+=s);o>s&&t[o%e].skip;)o--;return o%=e,{start:s,end:o}}function J1(t,e,i,n){const s=t.length,o=[];let r=e,a=t[e],l;for(l=e+1;l<=i;++l){const c=t[l%s];c.skip||c.stop?a.skip||(n=!1,o.push({start:e%s,end:(l-1)%s,loop:n}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&o.push({start:e%s,end:r%s,loop:n}),o}function Z1(t,e){const i=t.points,n=t.options.spanGaps,s=i.length;if(!s)return[];const o=!!t._loop,{start:r,end:a}=q1(i,s,o,n);if(n===!0)return Nc(t,[{start:r,end:a,loop:o}],i,e);const l=a<r?a+s:a,c=!!t._fullLoop&&r===0&&a===s-1;return Nc(t,J1(i,r,l,c),i,e)}function Nc(t,e,i,n){return!n||!n.setContext||!i?e:Q1(t,e,i,n)}function Q1(t,e,i,n){const s=t._chart.getContext(),o=zc(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=i.length,c=[];let h=o,u=e[0].start,d=u;function f(g,p,m,b){const _=a?-1:1;if(g!==p){for(g+=l;i[g%l].skip;)g-=_;for(;i[p%l].skip;)p+=_;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),h=b,u=p%l)}}for(const g of e){u=a?u:g.start;let p=i[u%l],m;for(d=u+1;d<=g.end;d++){const b=i[d%l];m=zc(n.setContext(ri(s,{type:"segment",p0:p,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:r}))),t2(m,h)&&f(u,d-1,g.loop,h),p=b,h=m}u<d-1&&f(u,d-1,g.loop,h)}return c}function zc(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function t2(t,e){if(!e)return!1;const i=[],n=function(s,o){return Ha(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function ms(t,e,i){return t.options.clip?t[i]:e[i]}function e2(t,e){const{xScale:i,yScale:n}=t;return i&&n?{left:ms(i,e,"left"),right:ms(i,e,"right"),top:ms(n,e,"top"),bottom:ms(n,e,"bottom")}:e}function uf(t,e){const i=e._clip;if(i.disabled)return!1;const n=e2(e,t.chartArea);return{left:i.left===!1?0:n.left-(i.left===!0?0:i.left),right:i.right===!1?t.width:n.right+(i.right===!0?0:i.right),top:i.top===!1?0:n.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?t.height:n.bottom+(i.bottom===!0?0:i.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class i2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,n,s){const o=i.listeners[s],r=i.duration;o.forEach(a=>a({chart:e,initial:i.initial,numSteps:r,currentStep:Math.min(n-i.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Xd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,n,e,"progress")),o.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),i+=o.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let n=i.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,n)),n}listen(e,i,n){this._getAnims(e).listeners[i].push(n)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const n=i.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Me=new i2;const Vc="transparent",n2={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const n=Cc(t||Vc),s=n.valid&&Cc(e||Vc);return s&&s.valid?s.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class s2{constructor(e,i,n,s){const o=i[n];s=Tn([e.to,s,o,e.from]);const r=Tn([e.from,o,s]);this._active=!0,this._fn=e.fn||n2[e.type||typeof r],this._easing=In[e.easing]||In.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,i,n){if(this._active){this._notify(!1);const s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Tn([e.to,i,s,e.from]),this._from=Tn([e.from,s,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||i<n),!this._active){this._target[s]=a,this._notify(!0);return}if(i<0){this._target[s]=o;return}l=i/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,n)=>{e.push({res:i,rej:n})})}_notify(e){const i=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][i]()}}class df{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!I(e))return;const i=Object.keys(nt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!I(o))return;const r={};for(const a of i)r[a]=o[a];(it(o.properties)&&o.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,r)})})}_animateOptions(e,i){const n=i.options,s=r2(e,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&o2(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,i){const n=this._properties,s=[],o=e.$animations||(e.$animations={}),r=Object.keys(i),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,i));continue}const h=i[c];let u=o[c];const d=n.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){e[c]=h;continue}o[c]=u=new s2(d,e,c,h),s.push(u)}return s}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const n=this._createAnimations(e,i);if(n.length)return Me.add(this._chart,n),!0}}function o2(t,e){const i=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const o=t[n[s]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function r2(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Uc(t,e){const i=t&&t.options||{},n=i.reverse,s=i.min===void 0?e:0,o=i.max===void 0?e:0;return{start:n?o:s,end:n?s:o}}function a2(t,e,i){if(i===!1)return!1;const n=Uc(t,i),s=Uc(e,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function l2(t){let e,i,n,s;return I(t)?(e=t.top,i=t.right,n=t.bottom,s=t.left):e=i=n=s=t,{top:e,right:i,bottom:n,left:s,disabled:t===!1}}function ff(t,e){const i=[],n=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=n.length;s<o;++s)i.push(n[s].index);return i}function jc(t,e,i,n={}){const s=t.keys,o=n.mode==="single";let r,a,l,c;if(e===null)return;let h=!1;for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===i){if(h=!0,n.all)continue;break}c=t.values[l],ct(c)&&(o||e===0||ye(e)===ye(c))&&(e+=c)}return!h&&!n.all?0:e}function c2(t,e){const{iScale:i,vScale:n}=e,s=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(t),a=new Array(r.length);let l,c,h;for(l=0,c=r.length;l<c;++l)h=r[l],a[l]={[s]:h,[o]:t[h]};return a}function $o(t,e){const i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function h2(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function u2(t){const{min:e,max:i,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}function d2(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Wc(t,e,i,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const o=t[s.index];if(i&&o>0||!i&&o<0)return s.index}return null}function Hc(t,e){const{chart:i,_cachedMeta:n}=t,s=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,h=h2(o,r,n),u=e.length;let d;for(let f=0;f<u;++f){const g=e[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});d=b[c]=d2(s,h,p),d[a]=m,d._top=Wc(d,r,!0,n.type),d._bottom=Wc(d,r,!1,n.type);const _=d._visualValues||(d._visualValues={});_[a]=m}}function Ko(t,e){const i=t.scales;return Object.keys(i).filter(n=>i[n].axis===e).shift()}function f2(t,e){return ri(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function g2(t,e,i){return ri(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function _n(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}const qo=t=>t==="reset"||t==="none",Gc=(t,e)=>e?t:Object.assign({},t),p2=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:ff(i,!0),values:null};class ai{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$o(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_n(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,n=this.getDataset(),s=(u,d,f,g)=>u==="x"?d:u==="r"?g:f,o=i.xAxisID=D(n.xAxisID,Ko(e,"x")),r=i.yAxisID=D(n.yAxisID,Ko(e,"y")),a=i.rAxisID=D(n.rAxisID,Ko(e,"r")),l=i.indexAxis,c=i.iAxisID=s(l,o,r,a),h=i.vAxisID=s(l,r,o,a);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(r),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(c),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Tc(this._data,this),e._stacked&&_n(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if(I(i)){const s=this._cachedMeta;this._data=c2(i,s)}else if(n!==i){if(n){Tc(n,this);const s=this._cachedMeta;_n(s),s._parsed=[]}i&&Object.isExtensible(i)&&Qp(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=$o(i.vScale,i),i.stack!==n.stack&&(s=!0,_n(i),i.stack=n.stack),this._resyncElements(e),(s||o!==i._stacked)&&(Hc(this,i._parsed),i._stacked=$o(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:n,_data:s}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=e===0&&i===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],h,u,d;if(this._parsing===!1)n._parsed=s,n._sorted=!0,d=s;else{it(s[e])?d=this.parseArrayData(n,s,e,i):I(s[e])?d=this.parseObjectData(n,s,e,i):d=this.parsePrimitiveData(n,s,e,i);const f=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<i;++h)n._parsed[h+e]=u=d[h],l&&(f()&&(l=!1),c=u);n._sorted=l}r&&Hc(this,d)}parsePrimitiveData(e,i,n,s){const{iScale:o,vScale:r}=e,a=o.axis,l=r.axis,c=o.getLabels(),h=o===r,u=new Array(s);let d,f,g;for(d=0,f=s;d<f;++d)g=d+n,u[d]={[a]:h||o.parse(c[g],g),[l]:r.parse(i[g],g)};return u}parseArrayData(e,i,n,s){const{xScale:o,yScale:r}=e,a=new Array(s);let l,c,h,u;for(l=0,c=s;l<c;++l)h=l+n,u=i[h],a[l]={x:o.parse(u[0],h),y:r.parse(u[1],h)};return a}parseObjectData(e,i,n,s){const{xScale:o,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,u,d,f;for(h=0,u=s;h<u;++h)d=h+n,f=i[d],c[h]={x:o.parse(ei(f,a),d),y:r.parse(ei(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){const s=this.chart,o=this._cachedMeta,r=i[e.axis],a={keys:ff(s,!0),values:i._stacks[e.axis]._visualValues};return jc(a,r,o.index,{mode:n})}updateRangeFromParsed(e,i,n,s){const o=n[i.axis];let r=o===null?NaN:o;const a=s&&n._stacks[i.axis];s&&a&&(s.values=a,r=jc(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,i){const n=this._cachedMeta,s=n._parsed,o=n._sorted&&e===n.iScale,r=s.length,a=this._getOtherScale(e),l=p2(i,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=u2(a);let d,f;function g(){f=s[d];const p=f[a.axis];return!ct(f[e.axis])||h>p||u<p}for(d=0;d<r&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),o));++d);if(o){for(d=r-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const i=this._cachedMeta._parsed,n=[];let s,o,r;for(s=0,o=i.length;s<o;++s)r=i[s][e.axis],ct(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,n=i.iScale,s=i.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=l2(D(this.options.clip,a2(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,n=this._cachedMeta,s=n.data||[],o=i.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(e,o,a,l),h=a;h<a+l;++h){const u=s[h];u.hidden||(u.active&&c?r.push(u):u.draw(e,o))}for(h=0;h<r.length;++h)r[h].draw(e,o)}getStyle(e,i){const n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=g2(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=f2(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){const s=i==="active",o=this._cachedDataOpts,r=e+"-"+i,a=o[r],l=this.enableOptionSharing&&Yn(n);if(a)return Gc(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(nt.elements[e]),g=()=>this.getContext(n,s,i),p=c.resolveNamedOptions(d,f,g,u);return p.$shared&&(p.$shared=l,o[r]=Object.freeze(Gc(p,l))),p}_resolveAnimations(e,i,n){const s=this.chart,o=this._cachedDataOpts,r=`animation-${i}`,a=o[r];if(a)return a;let l;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(e,n,i))}const c=new df(s,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||qo(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const n=this.resolveDataElementOptions(e,i),s=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:r}}updateElement(e,i,n,s){qo(s)?Object.assign(e,n):this._resolveAnimations(i,s).update(e,n)}updateSharedOptions(e,i,n){e&&!qo(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,s){e.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,n,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=n.length,o=i.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,i,n=!0){const s=this._cachedMeta,o=s.data,r=e+i;let a;const l=c=>{for(c.length+=i,a=c.length-1;a>=r;a--)c[a]=c[a-i]};for(l(o),a=e;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,i),n&&this.updateElements(o,e,i,"reset")}updateElements(e,i,n,s){}_removeElements(e,i){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,i);n._stacked&&_n(n,s)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,n,s]=e;this[i](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function m2(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,o=i.length;s<o;s++)n=n.concat(i[s].controller.getAllParsedValues(t));t._cache.$bar=Gd(n.sort((s,o)=>s-o))}return t._cache.$bar}function b2(t){const e=t.iScale,i=m2(e,t.type);let n=e._length,s,o,r,a;const l=()=>{r===32767||r===-32768||(Yn(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(s=0,o=i.length;s<o;++s)r=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,o=e.ticks.length;s<o;++s)r=e.getPixelForTick(s),l();return n}function _2(t,e,i,n){const s=i.barThickness;let o,r;return F(s)?(o=e.min*i.categoryPercentage,r=i.barPercentage):(o=s*n,r=1),{chunk:o/n,ratio:r,start:e.pixels[t]-o/2}}function y2(t,e,i,n){const s=e.pixels,o=s[t];let r=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=i.categoryPercentage;r===null&&(r=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:i.barPercentage,start:c}}function x2(t,e,i,n){const s=i.parse(t[0],n),o=i.parse(t[1],n),r=Math.min(s,o),a=Math.max(s,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:o,min:r,max:a}}function gf(t,e,i,n){return it(t)?x2(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Xc(t,e,i,n){const s=t.iScale,o=t.vScale,r=s.getLabels(),a=s===o,l=[];let c,h,u,d;for(c=i,h=i+n;c<h;++c)d=e[c],u={},u[s.axis]=a||s.parse(r[c],c),l.push(gf(d,u,o,c));return l}function Jo(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function v2(t,e,i){return t!==0?ye(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function w2(t){let e,i,n,s,o;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(s="end",o="start"):(s="start",o="end"),{start:i,end:n,reverse:e,top:s,bottom:o}}function k2(t,e,i,n){let s=e.borderSkipped;const o={};if(!s){t.borderSkipped=o;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:h}=w2(t);s==="middle"&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?s=c:(i._bottom||0)===n?s=h:(o[Yc(h,r,a,l)]=!0,s=c)),o[Yc(s,r,a,l)]=!0,t.borderSkipped=o}function Yc(t,e,i,n){return n?(t=S2(t,e,i),t=$c(t,i,e)):t=$c(t,e,i),t}function S2(t,e,i){return t===e?i:t===i?e:t}function $c(t,e,i){return t==="start"?e:t==="end"?i:t}function M2(t,{inflateAmount:e},i){t.inflateAmount=e==="auto"?i===1?.33:0:e}class A2 extends ai{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,n,s){return Xc(e,i,n,s)}parseArrayData(e,i,n,s){return Xc(e,i,n,s)}parseObjectData(e,i,n,s){const{iScale:o,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,h=r.axis==="x"?a:l,u=[];let d,f,g,p;for(d=n,f=n+s;d<f;++d)p=i[d],g={},g[o.axis]=o.parse(ei(p,c),d),u.push(gf(ei(p,h),g,r,d));return u}updateRangeFromParsed(e,i,n,s){super.updateRangeFromParsed(e,i,n,s);const o=n._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:n,vScale:s}=i,o=this.getParsed(e),r=o._custom,a=Jo(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,s){const o=s==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(i,s);for(let f=i;f<i+n;f++){const g=this.getParsed(f),p=o||F(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,h),b=(g._stacks||{})[a.axis],_={horizontal:c,base:p.base,enableBorderRadius:!b||Jo(g._custom)||r===b._top||r===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};d&&(_.options=u||this.resolveDataElementOptions(f,e[f].active?"active":s));const v=_.options||e[f].options;k2(_,v,b,r),M2(_,v,h.ratio),this.updateElement(e[f],f,_,s)}}_getStacks(e,i){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(i),l=a&&a[n.axis],c=h=>{const u=h._parsed.find(f=>f[n.axis]===l),d=u&&u[h.vScale.axis];if(F(d)||isNaN(d))return!0};for(const h of s)if(!(i!==void 0&&c(h))&&((o===!1||r.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&r.push(h.stack),h.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===i).shift()}_getAxis(){const e={},i=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[D(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,i)]=!0;return Object.keys(e)}_getStackIndex(e,i,n){const s=this._getStacks(e,n),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,i=this._cachedMeta,n=i.iScale,s=[];let o,r;for(o=0,r=i.data.length;o<r;++o)s.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=e.barThickness;return{min:a||b2(i),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:n,index:s},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(e),c=l._custom,h=Jo(c);let u=l[i.axis],d=0,f=n?this.applyStack(i,l,n):u,g,p;f!==u&&(d=f-u,f=u),h&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&ye(u)!==ye(c.barEnd)&&(d=0),d+=u);const m=!F(o)&&!h?o:d;let b=i.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=i.getPixelForValue(d+f):g=b,p=g-b,Math.abs(p)<r){p=v2(p,i,a)*r,u===a&&(b-=p/2);const _=i.getPixelForDecimal(0),v=i.getPixelForDecimal(1),x=Math.min(_,v),y=Math.max(_,v);b=Math.max(Math.min(b,y),x),g=b+p,n&&!h&&(l._stacks[i.axis]._visualValues[s]=i.getValueForPixel(g)-i.getValueForPixel(b))}if(b===i.getPixelForValue(a)){const _=ye(p)*i.getLineWidthForValue(a)/2;b+=_,p-=_}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(e,i){const n=i.scale,s=this.options,o=s.skipNull,r=D(s.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(i.grouped){const h=o?this._getStackCount(e):i.stackCount,u=s.barThickness==="flex"?y2(e,i,s,h*c):_2(e,i,s,h*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(D(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+f;a=u.start+u.chunk*g+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(r,i.min*i.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,i=e.vScale,n=e.data,s=n.length;let o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}class T2 extends ai{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,s){const o=super.parsePrimitiveData(e,i,n,s);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(e,i,n,s){const o=super.parseArrayData(e,i,n,s);for(let r=0;r<o.length;r++){const a=i[n+r];o[r]._custom=D(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(e,i,n,s){const o=super.parseObjectData(e,i,n,s);for(let r=0;r<o.length;r++){const a=i[n+r];o[r]._custom=D(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=i,r=this.getParsed(e),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,s){const o=s==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(i,s),h=r.axis,u=a.axis;for(let d=i;d<i+n;d++){const f=e[d],g=!o&&this.getParsed(d),p={},m=p[h]=o?r.getPixelForDecimal(.5):r.getPixelForValue(g[h]),b=p[u]=o?a.getBasePixel():a.getPixelForValue(g[u]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":s),o&&(p.options.radius=0)),this.updateElement(f,d,p,s)}}resolveDataElementOptions(e,i){const n=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=D(n&&n._custom,o),s}}function E2(t,e,i){let n=1,s=1,o=0,r=0;if(e<J){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(v,x,y)=>$n(v,a,l,!0)?1:Math.max(x,x*i,y,y*i),g=(v,x,y)=>$n(v,a,l,!0)?-1:Math.min(x,x*i,y,y*i),p=f(0,c,u),m=f(dt,h,d),b=g(j,c,u),_=g(j+dt,h,d);n=(p-b)/2,s=(m-_)/2,o=-(p+b)/2,r=-(m+_)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}class Ja extends ai{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return i.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let o=l=>+n[l];if(I(n[e])){const{key:l="value"}=this._parsing;o=c=>+ei(n[c],l)}let r,a;for(r=e,a=e+i;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return le(this.options.rotation-90)}_getCircumference(){return le(this.options.circumference)}_getRotationExtents(){let e=J,i=-J;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,o=s._getRotation(),r=s._getCircumference();e=Math.min(e,o),i=Math.max(i,o+r)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:n}=i,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(Np(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:p}=E2(u,h,l),m=(n.width-r)/d,b=(n.height-r)/f,_=Math.max(Math.min(m,b)/2,0),v=Vd(this.options.radius,_),x=Math.max(v*l,0),y=(v-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=p*v,s.total=this.calculateTotal(),this.outerRadius=v-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){const n=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/J)}updateElements(e,i,n,s){const o=s==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=o&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(i,s);let b=this._getRotation(),_;for(_=0;_<i;++_)b+=this._circumference(_,o);for(_=i;_<i+n;++_){const v=this._circumference(_,o),x=e[_],y={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:g,innerRadius:f};m&&(y.options=p||this.resolveDataElementOptions(_,x.active?"active":s)),b+=v,this.updateElement(x,_,y,s)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let n=0,s;for(s=0;s<i.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?J*(Math.abs(e)/i):0}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=ns(i._parsed[e],n.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let i=0;const n=this.chart;let s,o,r,a,l;if(!e){for(s=0,o=n.data.datasets.length;s<o;++s)if(n.isDatasetVisible(s)){r=n.getDatasetMeta(s),e=r.data,a=r.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,s=e.length;n<s;++n){const o=this.resolveDataElementOptions(n);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(D(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class P2 extends ai{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:n,data:s=[],_dataset:o}=i,r=this.chart._animationsDisabled;let{start:a,count:l}=$d(i,s,r);this._drawStart=a,this._drawCount=l,Kd(i)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,i,n,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,s),d=r.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Zi(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",_=i+n,v=e.length;let x=i>0&&this.getParsed(i-1);for(let y=0;y<v;++y){const w=e[y],k=b?w:{};if(y<i||y>=_){k.skip=!0;continue}const S=this.getParsed(y),L=F(S[f]),O=k[d]=r.getPixelForValue(S[d],y),R=k[f]=o||L?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[f],y);k.skip=isNaN(O)||isNaN(R)||L,k.stop=y>0&&Math.abs(S[d]-x[d])>m,p&&(k.parsed=S,k.raw=c.data[y]),u&&(k.options=h||this.resolveDataElementOptions(y,w.active?"active":s)),b||this.updateElement(w,y,k,s),x=S}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class pf extends ai{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return i.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=ns(i._parsed[e].r,n.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,i,n,s){return sf.bind(this)(e,i,n,s)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,n=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,i,n,s){const o=s==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*j;let f=d,g;const p=360/this.countVisibleElements();for(g=0;g<i;++g)f+=this._computeAngle(g,s,p);for(g=i;g<i+n;g++){const m=e[g];let b=f,_=f+this._computeAngle(g,s,p),v=r.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=_,o&&(l.animateScale&&(v=0),l.animateRotate&&(b=_=d));const x={x:h,y:u,innerRadius:0,outerRadius:v,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(g,m.active?"active":s)};this.updateElement(m,g,x,s)}}countVisibleElements(){const e=this._cachedMeta;let i=0;return e.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?le(this.resolveDataElementOptions(e,i).angle||n):0}}class C2 extends Ja{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class L2 extends ai{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,s){return sf.bind(this)(e,i,n,s)}update(e){const i=this._cachedMeta,n=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(n.points=s,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===s.length,options:r};this.updateElement(n,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,n,s){const o=this._cachedMeta.rScale,r=s==="reset";for(let a=i;a<i+n;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),h=o.getPointPositionForValue(a,this.getParsed(a).r),u=r?o.xCenter:h.x,d=r?o.yCenter:h.y,f={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}class D2 extends ai{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:o}=i,r=this.getParsed(e),a=s.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[e]||"",value:"("+a+", "+l+")"}}update(e){const i=this._cachedMeta,{data:n=[]}=i,s=this.chart._animationsDisabled;let{start:o,count:r}=$d(i,n,s);if(this._drawStart=o,this._drawCount=r,Kd(i)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=i;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,s){const o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),u=this.getSharedOptions(h),d=this.includeOptions(s,u),f=r.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=Zi(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||s==="none";let v=i>0&&this.getParsed(i-1);for(let x=i;x<i+n;++x){const y=e[x],w=this.getParsed(x),k=_?y:{},S=F(w[g]),L=k[f]=r.getPixelForValue(w[f],x),O=k[g]=o||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[g],x);k.skip=isNaN(L)||isNaN(O)||S,k.stop=x>0&&Math.abs(w[f]-v[f])>b,m&&(k.parsed=w,k.raw=c.data[x]),d&&(k.options=u||this.resolveDataElementOptions(x,y.active?"active":s)),_||this.updateElement(y,x,k,s),v=w}this.updateSharedOptions(u,s,h)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let a=0;for(let l=i.length-1;l>=0;--l)a=Math.max(a,i[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=e.dataset,s=n.options&&n.options.borderWidth||0;if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}}var O2=Object.freeze({__proto__:null,BarController:A2,BubbleController:T2,DoughnutController:Ja,LineController:P2,PieController:C2,PolarAreaController:pf,RadarController:L2,ScatterController:D2});function fi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Za{static override(e){Object.assign(Za.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fi()}parse(){return fi()}format(){return fi()}add(){return fi()}diff(){return fi()}startOf(){return fi()}endOf(){return fi()}}var R2={_date:Za};function F2(t,e,i,n){const{controller:s,data:o,_sorted:r}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&r&&o.length){const c=a._reversePixels?Jp:Oe;if(n){if(s._sharedOptions){const h=o[0],u=typeof h.getRange=="function"&&h.getRange(e);if(u){const d=c(o,e,i-u),f=c(o,e,i+u);return{lo:d.lo,hi:f.hi}}}}else{const h=c(o,e,i);if(l){const{vScale:u}=s._cachedMeta,{_parsed:d}=t,f=d.slice(0,h.lo+1).reverse().findIndex(p=>!F(p[u.axis]));h.lo-=Math.max(0,f);const g=d.slice(h.hi).findIndex(p=>!F(p[u.axis]));h.hi+=Math.max(0,g)}return h}}return{lo:0,hi:o.length-1}}function To(t,e,i,n,s){const o=t.getSortedVisibleDatasetMetas(),r=i[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:h}=o[a],{lo:u,hi:d}=F2(o[a],e,r,s);for(let f=u;f<=d;++f){const g=h[f];g.skip||n(g,c,f)}}}function I2(t){const e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(n,s){const o=e?Math.abs(n.x-s.x):0,r=i?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Zo(t,e,i,n,s){const o=[];return!s&&!t.isPointInArea(e)||To(t,i,e,function(a,l,c){!s&&!Re(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function B2(t,e,i,n){let s=[];function o(r,a,l){const{startAngle:c,endAngle:h}=r.getProps(["startAngle","endAngle"],n),{angle:u}=Wd(r,{x:e.x,y:e.y});$n(u,c,h)&&s.push({element:r,datasetIndex:a,index:l})}return To(t,i,e,o),s}function N2(t,e,i,n,s,o){let r=[];const a=I2(i);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(e.x,e.y,s);if(n&&!f)return;const g=h.getCenterPoint(s);if(!(!!o||t.isPointInArea(g))&&!f)return;const m=a(e,g);m<l?(r=[{element:h,datasetIndex:u,index:d}],l=m):m===l&&r.push({element:h,datasetIndex:u,index:d})}return To(t,i,e,c),r}function Qo(t,e,i,n,s,o){return!o&&!t.isPointInArea(e)?[]:i==="r"&&!n?B2(t,e,i,s):N2(t,e,i,n,s,o)}function Kc(t,e,i,n,s){const o=[],r=i==="x"?"inXRange":"inYRange";let a=!1;return To(t,i,e,(l,c,h)=>{l[r]&&l[r](e[i],s)&&(o.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,s))}),n&&!a?[]:o}var z2={modes:{index(t,e,i,n){const s=mi(e,t),o=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?Zo(t,s,o,n,r):Qo(t,s,o,!1,n,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,i,n){const s=mi(e,t),o=i.axis||"xy",r=i.includeInvisible||!1;let a=i.intersect?Zo(t,s,o,n,r):Qo(t,s,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,i,n){const s=mi(e,t),o=i.axis||"xy",r=i.includeInvisible||!1;return Zo(t,s,o,n,r)},nearest(t,e,i,n){const s=mi(e,t),o=i.axis||"xy",r=i.includeInvisible||!1;return Qo(t,s,o,i.intersect,n,r)},x(t,e,i,n){const s=mi(e,t);return Kc(t,s,"x",i.intersect,n)},y(t,e,i,n){const s=mi(e,t);return Kc(t,s,"y",i.intersect,n)}}};const mf=["left","top","right","bottom"];function yn(t,e){return t.filter(i=>i.pos===e)}function qc(t,e){return t.filter(i=>mf.indexOf(i.pos)===-1&&i.box.axis===e)}function xn(t,e){return t.sort((i,n)=>{const s=e?n:i,o=e?i:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function V2(t){const e=[];let i,n,s,o,r,a;for(i=0,n=(t||[]).length;i<n;++i)s=t[i],{position:o,options:{stack:r,stackWeight:a=1}}=s,e.push({index:i,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return e}function U2(t){const e={};for(const i of t){const{stack:n,pos:s,stackWeight:o}=i;if(!n||!mf.includes(s))continue;const r=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function j2(t,e){const i=U2(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let o,r,a;for(o=0,r=t.length;o<r;++o){a=t[o];const{fullSize:l}=a.box,c=i[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*n:l&&e.availableWidth,a.height=s):(a.width=n,a.height=h?h*s:l&&e.availableHeight)}return i}function W2(t){const e=V2(t),i=xn(e.filter(c=>c.box.fullSize),!0),n=xn(yn(e,"left"),!0),s=xn(yn(e,"right")),o=xn(yn(e,"top"),!0),r=xn(yn(e,"bottom")),a=qc(e,"x"),l=qc(e,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:yn(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}function Jc(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function bf(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function H2(t,e,i,n){const{pos:s,box:o}=i,r=t.maxPadding;if(!I(s)){i.size&&(t[s]-=i.size);const u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?o.height:o.width),i.size=u.size/u.count,t[s]+=i.size}o.getPadding&&bf(r,o.getPadding());const a=Math.max(0,e.outerWidth-Jc(r,t,"left","right")),l=Math.max(0,e.outerHeight-Jc(r,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,i.horizontal?{same:c,other:h}:{same:h,other:c}}function G2(t){const e=t.maxPadding;function i(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function X2(t,e){const i=e.maxPadding;function n(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(e[r],i[r])}),o}return n(t?["left","right"]:["top","bottom"])}function En(t,e,i,n){const s=[];let o,r,a,l,c,h;for(o=0,r=t.length,c=0;o<r;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,X2(a.horizontal,e));const{same:u,other:d}=H2(e,i,a,n);c|=u&&s.length,h=h||d,l.fullSize||s.push(a)}return c&&En(s,e,i,n)||h}function bs(t,e,i,n,s){t.top=i,t.left=e,t.right=e+n,t.bottom=i+s,t.width=n,t.height=s}function Zc(t,e,i,n){const s=i.padding;let{x:o,y:r}=e;for(const a of t){const l=a.box,c=n[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=e.w*h,d=c.size||l.height;Yn(c.start)&&(r=c.start),l.fullSize?bs(l,s.left,r,i.outerWidth-s.right-s.left,d):bs(l,e.left+c.placed,r,u,d),c.start=r,c.placed+=u,r=l.bottom}else{const u=e.h*h,d=c.size||l.width;Yn(c.start)&&(o=c.start),l.fullSize?bs(l,o,s.top,d,i.outerHeight-s.bottom-s.top):bs(l,o,e.top+c.placed,d,u),c.start=o,c.placed+=u,o=l.right}}e.x=o,e.y=r}var Tt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const s=Et(t.options.layout.padding),o=Math.max(e-s.width,0),r=Math.max(i-s.height,0),a=W2(t.boxes),l=a.vertical,c=a.horizontal;G(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:i,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),d=Object.assign({},s);bf(d,Et(n));const f=Object.assign({maxPadding:d,w:o,h:r,x:s.left,y:s.top},s),g=j2(l.concat(c),u);En(a.fullSize,f,u,g),En(l,f,u,g),En(c,f,u,g)&&En(l,f,u,g),G2(f),Zc(a.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,Zc(a.rightAndBottom,f,u,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},G(a.chartArea,p=>{const m=p.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class _f{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,n){}removeEventListener(e,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,n,s){return i=Math.max(0,i||e.width),n=n||e.height,{width:i,height:Math.max(0,s?Math.floor(i/s):n)}}isAttached(e){return!0}updateConfig(e){}}class Y2 extends _f{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cs="$chartjs",$2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qc=t=>t===null||t==="";function K2(t,e){const i=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[Cs]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Qc(s)){const o=Ic(t,"width");o!==void 0&&(t.width=o)}if(Qc(n))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Ic(t,"height");o!==void 0&&(t.height=o)}return t}const yf=H1?{passive:!0}:!1;function q2(t,e,i){t&&t.addEventListener(e,i,yf)}function J2(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,yf)}function Z2(t,e){const i=$2[t.type]||t.type,{x:n,y:s}=mi(t,e);return{type:i,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Hs(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Q2(t,e,i){const n=t.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Hs(a.addedNodes,n),r=r&&!Hs(a.removedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function t0(t,e,i){const n=t.canvas,s=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Hs(a.removedNodes,n),r=r&&!Hs(a.addedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}const qn=new Map;let th=0;function xf(){const t=window.devicePixelRatio;t!==th&&(th=t,qn.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function e0(t,e){qn.size||window.addEventListener("resize",xf),qn.set(t,e)}function i0(t){qn.delete(t),qn.size||window.removeEventListener("resize",xf)}function n0(t,e,i){const n=t.canvas,s=n&&qa(n);if(!s)return;const o=Yd((a,l)=>{const c=s.clientWidth;i(a,l),c<s.clientWidth&&i()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||o(c,h)});return r.observe(s),e0(t,o),r}function tr(t,e,i){i&&i.disconnect(),e==="resize"&&i0(t)}function s0(t,e,i){const n=t.canvas,s=Yd(o=>{t.ctx!==null&&i(Z2(o,t))},t);return q2(n,e,s),s}class o0 extends _f{acquireContext(e,i){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(K2(e,i),n):null}releaseContext(e){const i=e.canvas;if(!i[Cs])return!1;const n=i[Cs].initial;["height","width"].forEach(o=>{const r=n[o];F(r)?i.removeAttribute(o):i.setAttribute(o,r)});const s=n.style||{};return Object.keys(s).forEach(o=>{i.style[o]=s[o]}),i.width=i.width,delete i[Cs],!0}addEventListener(e,i,n){this.removeEventListener(e,i);const s=e.$proxies||(e.$proxies={}),r={attach:Q2,detach:t0,resize:n0}[i]||s0;s[i]=r(e,i,n)}removeEventListener(e,i){const n=e.$proxies||(e.$proxies={}),s=n[i];if(!s)return;({attach:tr,detach:tr,resize:tr}[i]||J2)(e,i,s),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,n,s){return W1(e,i,n,s)}isAttached(e){const i=e&&qa(e);return!!(i&&i.isConnected)}}function r0(t){return!Ka()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Y2:o0}class Ve{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}hasValue(){return Zi(this.x)&&Zi(this.y)}getProps(e,i){const n=this.$animations;if(!i||!n)return this;const s={};return e.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}}function a0(t,e){const i=t.options.ticks,n=l0(t),s=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?h0(e):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>s)return u0(e,c,o,r/s),c;const h=c0(o,e,s);if(r>0){let u,d;const f=r>1?Math.round((l-a)/(r-1)):null;for(_s(e,c,h,F(f)?0:a-f,a),u=0,d=r-1;u<d;u++)_s(e,c,h,o[u],o[u+1]);return _s(e,c,h,l,F(f)?e.length:l+f),c}return _s(e,c,h),c}function l0(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),s=t._maxLength/i;return Math.floor(Math.min(n,s))}function c0(t,e,i){const n=d0(t),s=e.length/i;if(!n)return Math.max(s,1);const o=Xp(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>s)return l}return Math.max(s,1)}function h0(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function u0(t,e,i,n){let s=0,o=i[0],r;for(n=Math.ceil(n),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=i[s*n])}function _s(t,e,i,n,s){const o=D(n,0),r=Math.min(D(s,t.length),t.length);let a=0,l,c,h;for(i=Math.ceil(i),s&&(l=s-n,i=l/Math.floor(l/i)),h=o;h<0;)a++,h=Math.round(o+a*i);for(c=Math.max(o,0);c<r;c++)c===h&&(e.push(t[c]),a++,h=Math.round(o+a*i))}function d0(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}const f0=t=>t==="left"?"right":t==="right"?"left":t,eh=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i,ih=(t,e)=>Math.min(e||t,t);function nh(t,e){const i=[],n=t.length/e,s=t.length;let o=0;for(;o<s;o+=n)i.push(t[Math.floor(o)]);return i}function g0(t,e,i){const n=t.ticks.length,s=Math.min(e,n-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(i&&(n===1?c=Math.max(l-o,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<o-a||l>r+a)))return l}function p0(t,e){G(t,i=>{const n=i.gc,s=n.length/2;let o;if(s>e){for(o=0;o<s;++o)delete i.data[n[o]];n.splice(0,s)}})}function vn(t){return t.drawTicks?t.tickLength:0}function sh(t,e){if(!t.display)return 0;const i=yt(t.font,e),n=Et(t.padding);return(it(t.text)?t.text.length:1)*i.lineHeight+n.height}function m0(t,e){return ri(t,{scale:e,type:"scale"})}function b0(t,e,i){return ri(t,{tick:i,index:e,type:"tick"})}function _0(t,e,i){let n=Wa(t);return(i&&e!=="right"||!i&&e==="right")&&(n=f0(n)),n}function y0(t,e,i,n){const{top:s,left:o,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let u=0,d,f,g;const p=r-s,m=a-o;if(t.isHorizontal()){if(f=St(n,o,a),I(i)){const b=Object.keys(i)[0],_=i[b];g=h[b].getPixelForValue(_)+p-e}else i==="center"?g=(c.bottom+c.top)/2+p-e:g=eh(t,i,e);d=a-o}else{if(I(i)){const b=Object.keys(i)[0],_=i[b];f=h[b].getPixelForValue(_)-m+e}else i==="center"?f=(c.left+c.right)/2-m+e:f=eh(t,i,e);g=St(n,r,s),u=i==="left"?-dt:dt}return{titleX:f,titleY:g,maxWidth:d,rotation:u}}class Pi extends Ve{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:n,_suggestedMax:s}=this;return e=Xt(e,Number.POSITIVE_INFINITY),i=Xt(i,Number.NEGATIVE_INFINITY),n=Xt(n,Number.POSITIVE_INFINITY),s=Xt(s,Number.NEGATIVE_INFINITY),{min:Xt(e,n),max:Xt(i,s),minDefined:ct(e),maxDefined:ct(i)}}getMinMax(e){let{min:i,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:i,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),s||(i=Math.min(i,r.min)),o||(n=Math.max(n,r.max));return i=o&&i>n?n:i,n=s&&i>n?i:n,{min:Xt(i,Xt(n,i)),max:Xt(n,Xt(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$(this.options.beforeUpdate,[this])}update(e,i,n){const{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v1(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?nh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=a0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,e=!e),this._startPixel=i,this._endPixel=n,this._reversePixels=e,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$(this.options.afterUpdate,[this])}beforeSetDimensions(){$(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n],o.label=$(i.callback,[o.value,n,e],this)}afterTickToLabelConversion(){$(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,n=ih(this.ticks.length,e.ticks.maxTicksLimit),s=i.minRotation||0,o=i.maxRotation;let r=s,a,l,c;if(!this._isVisible()||!i.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=vt(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:f/(n-1),u+6>a&&(a=f/(n-(e.offset?.5:1)),l=this.maxHeight-vn(e.grid)-i.padding-sh(e.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),r=Ua(Math.min(Math.asin(vt((h.highest.height+6)/a,-1,1)),Math.asin(vt(l/c,-1,1))-Math.asin(vt(d/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){$(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=sh(s,i.options.font);if(a?(e.width=this.maxWidth,e.height=vn(o)+l):(e.height=this.maxHeight,e.width=vn(o)+l),n.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=n.padding*2,g=le(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=n.mirror?0:m*u.width+p*d.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=n.mirror?0:p*u.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,h,m,p)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,n,s){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=n*i.height):(d=n*e.height,f=s*i.width):o==="start"?f=i.width:o==="end"?d=e.width:o!=="inner"&&(d=e.width/2,f=i.width/2),this.paddingLeft=Math.max((d-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+r)*this.width/(this.width-u),0)}else{let h=i.height/2,u=e.height/2;o==="start"?(h=0,u=e.height):o==="end"&&(h=i.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,n;for(i=0,n=e.length;i<n;i++)F(e[i].label)&&(e.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=nh(n,i)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,n){const{ctx:s,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(i/ih(i,n));let c=0,h=0,u,d,f,g,p,m,b,_,v,x,y;for(u=0;u<i;u+=l){if(g=e[u].label,p=this._resolveTickFontOptions(u),s.font=m=p.string,b=o[m]=o[m]||{data:{},gc:[]},_=p.lineHeight,v=x=0,!F(g)&&!it(g))v=js(s,b.data,b.gc,v,g),x=_;else if(it(g))for(d=0,f=g.length;d<f;++d)y=g[d],!F(y)&&!it(y)&&(v=js(s,b.data,b.gc,v,y),x+=_);r.push(v),a.push(x),c=Math.max(v,c),h=Math.max(x,h)}p0(o,i);const w=r.indexOf(c),k=a.indexOf(h),S=L=>({width:r[L]||0,height:a[L]||0});return{first:S(0),last:S(i-1),widest:S(w),highest:S(k),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return qp(this._alignToPixels?di(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const n=i[e];return n.$context||(n.$context=b0(this.getContext(),e,n))}return this.$context||(this.$context=m0(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=le(this.labelRotation),n=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,n=this.chart,s=this.options,{grid:o,position:r,border:a}=s,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=vn(o),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(Q){return di(n,Q,p)};let _,v,x,y,w,k,S,L,O,R,z,wt;if(r==="top")_=b(this.bottom),k=this.bottom-d,L=_-m,R=b(e.top)+m,wt=e.bottom;else if(r==="bottom")_=b(this.top),R=e.top,wt=b(e.bottom)-m,k=_+m,L=this.top+d;else if(r==="left")_=b(this.right),w=this.right-d,S=_-m,O=b(e.left)+m,z=e.right;else if(r==="right")_=b(this.left),O=e.left,z=b(e.right)-m,w=_+m,S=this.left+d;else if(i==="x"){if(r==="center")_=b((e.top+e.bottom)/2+.5);else if(I(r)){const Q=Object.keys(r)[0],ht=r[Q];_=b(this.chart.scales[Q].getPixelForValue(ht))}R=e.top,wt=e.bottom,k=_+m,L=k+d}else if(i==="y"){if(r==="center")_=b((e.left+e.right)/2);else if(I(r)){const Q=Object.keys(r)[0],ht=r[Q];_=b(this.chart.scales[Q].getPixelForValue(ht))}w=_-m,S=w-d,O=e.left,z=e.right}const Ut=D(s.ticks.maxTicksLimit,u),X=Math.max(1,Math.ceil(u/Ut));for(v=0;v<u;v+=X){const Q=this.getContext(v),ht=o.setContext(Q),ae=a.setContext(Q),kt=ht.lineWidth,Ci=ht.color,ss=ae.dash||[],Li=ae.dashOffset,dn=ht.tickWidth,li=ht.tickColor,fn=ht.tickBorderDash||[],ci=ht.tickBorderDashOffset;x=g0(this,v,l),x!==void 0&&(y=di(n,x,kt),c?w=S=O=z=y:k=L=R=wt=y,f.push({tx1:w,ty1:k,tx2:S,ty2:L,x1:O,y1:R,x2:z,y2:wt,width:kt,color:Ci,borderDash:ss,borderDashOffset:Li,tickWidth:dn,tickColor:li,tickBorderDash:fn,tickBorderDashOffset:ci}))}return this._ticksLength=u,this._borderValue=_,f}_computeLabelItems(e){const i=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=o,d=vn(n.grid),f=d+h,g=u?-h:f,p=-le(this.labelRotation),m=[];let b,_,v,x,y,w,k,S,L,O,R,z,wt="middle";if(s==="top")w=this.bottom-g,k=this._getXAxisLabelAlignment();else if(s==="bottom")w=this.top+g,k=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(d);k=X.textAlign,y=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(d);k=X.textAlign,y=X.x}else if(i==="x"){if(s==="center")w=(e.top+e.bottom)/2+f;else if(I(s)){const X=Object.keys(s)[0],Q=s[X];w=this.chart.scales[X].getPixelForValue(Q)+f}k=this._getXAxisLabelAlignment()}else if(i==="y"){if(s==="center")y=(e.left+e.right)/2-f;else if(I(s)){const X=Object.keys(s)[0],Q=s[X];y=this.chart.scales[X].getPixelForValue(Q)}k=this._getYAxisLabelAlignment(d).textAlign}i==="y"&&(l==="start"?wt="top":l==="end"&&(wt="bottom"));const Ut=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){v=a[b],x=v.label;const X=o.setContext(this.getContext(b));S=this.getPixelForTick(b)+o.labelOffset,L=this._resolveTickFontOptions(b),O=L.lineHeight,R=it(x)?x.length:1;const Q=R/2,ht=X.color,ae=X.textStrokeColor,kt=X.textStrokeWidth;let Ci=k;r?(y=S,k==="inner"&&(b===_-1?Ci=this.options.reverse?"left":"right":b===0?Ci=this.options.reverse?"right":"left":Ci="center"),s==="top"?c==="near"||p!==0?z=-R*O+O/2:c==="center"?z=-Ut.highest.height/2-Q*O+O:z=-Ut.highest.height+O/2:c==="near"||p!==0?z=O/2:c==="center"?z=Ut.highest.height/2-Q*O:z=Ut.highest.height-R*O,u&&(z*=-1),p!==0&&!X.showLabelBackdrop&&(y+=O/2*Math.sin(p))):(w=S,z=(1-R)*O/2);let ss;if(X.showLabelBackdrop){const Li=Et(X.backdropPadding),dn=Ut.heights[b],li=Ut.widths[b];let fn=z-Li.top,ci=0-Li.left;switch(wt){case"middle":fn-=dn/2;break;case"bottom":fn-=dn;break}switch(k){case"center":ci-=li/2;break;case"right":ci-=li;break;case"inner":b===_-1?ci-=li:b>0&&(ci-=li/2);break}ss={left:ci,top:fn,width:li+Li.width,height:dn+Li.height,color:X.backdropColor}}m.push({label:x,font:L,textOffset:z,options:{rotation:p,color:ht,strokeColor:ae,strokeWidth:kt,textAlign:Ci,textBaseline:wt,translation:[y,w],backdrop:ss}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-le(this.labelRotation))return e==="top"?"left":"right";let s="center";return i.align==="start"?s="left":i.align==="end"?s="right":i.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=e+o,l=r.widest.width;let c,h;return i==="left"?s?(h=this.right+o,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h=this.left)):i==="right"?s?(h=this.left+o,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:n,top:s,width:o,height:r}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(n,s,o,r),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?i.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const i=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const a=(l,c,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(i.display)for(o=0,r=s.length;o<r;++o){const l=s[o];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:n,grid:s}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=di(e,this.left,r)-r/2,h=di(e,this.right,a)+a/2,u=d=l):(u=di(e,this.top,r)-r/2,d=di(e,this.bottom,a)+a/2,c=h=l),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(c,u),i.lineTo(h,d),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&So(n,s);const o=this.getLabelItems(e);for(const r of o){const a=r.options,l=r.font,c=r.label,h=r.textOffset;Ti(n,c,0,h,l,a)}s&&Mo(n)}drawTitle(){const{ctx:e,options:{position:i,title:n,reverse:s}}=this;if(!n.display)return;const o=yt(n.font),r=Et(n.padding),a=n.align;let l=o.lineHeight/2;i==="bottom"||i==="center"||I(i)?(l+=r.bottom,it(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=y0(this,l,i,a);Ti(e,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:d,textAlign:_0(a,i,s),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,n=D(e.grid&&e.grid.z,-1),s=D(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Pi.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let o,r;for(o=0,r=i.length;o<r;++o){const a=i[o];a[n]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return yt(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ys{constructor(e,i,n){this.type=e,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let n;w0(i)&&(n=this.register(i));const s=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,x0(e,r,n),this.override&&nt.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const i=this.items,n=e.id,s=this.scope;n in i&&delete i[n],s&&n in nt[s]&&(delete nt[s][n],this.override&&delete Ai[n])}}function x0(t,e,i){const n=Xn(Object.create(null),[i?nt.get(i):{},nt.get(e),t.defaults]);nt.set(e,n),t.defaultRoutes&&v0(e,t.defaultRoutes),t.descriptors&&nt.describe(e,t.descriptors)}function v0(t,e){Object.keys(e).forEach(i=>{const n=i.split("."),s=n.pop(),o=[t].concat(n).join("."),r=e[i].split("."),a=r.pop(),l=r.join(".");nt.route(o,s,l,a)})}function w0(t){return"id"in t&&"defaults"in t}class k0{constructor(){this.controllers=new ys(ai,"datasets",!0),this.elements=new ys(Ve,"elements"),this.plugins=new ys(Object,"plugins"),this.scales=new ys(Pi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,n){[...i].forEach(s=>{const o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):G(s,r=>{const a=n||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,i,n){const s=Va(e);$(n["before"+s],[],n),i[e](n),$(n["after"+s],[],n)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(e))return n}return this.plugins}_get(e,i,n){const s=i.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var be=new k0;class S0{constructor(){this._init=[]}notify(e,i,n,s){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(o,e,i,n);return i==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,i,n,s){s=s||{};for(const o of e){const r=o.plugin,a=r[n],l=[i,s,o.options];if($(a,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){F(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const n=e&&e.config,s=D(n.options&&n.options.plugins,{}),o=M0(n);return s===!1&&!i?[]:T0(e,o,s,i)}_notifyStateChanges(e){const i=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(s(i,n),e,"stop"),this._notify(s(n,i),e,"start")}}function M0(t){const e={},i=[],n=Object.keys(be.plugins.items);for(let o=0;o<n.length;o++)i.push(be.getPlugin(n[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const r=s[o];i.indexOf(r)===-1&&(i.push(r),e[r.id]=!0)}return{plugins:i,localIds:e}}function A0(t,e){return!e&&t===!1?null:t===!0?{}:t}function T0(t,{plugins:e,localIds:i},n,s){const o=[],r=t.getContext();for(const a of e){const l=a.id,c=A0(n[l],s);c!==null&&o.push({plugin:a,options:E0(t.config,{plugin:a,local:i[l]},c,r)})}return o}function E0(t,{plugin:e,local:i},n,s){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(n,o);return i&&e.defaults&&r.push(e.defaults),t.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cr(t,e){const i=nt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function P0(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function C0(t,e){return t===e?"_index_":"_value_"}function oh(t){if(t==="x"||t==="y"||t==="r")return t}function L0(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Lr(t,...e){if(oh(t))return t;for(const i of e){const n=i.axis||L0(i.position)||t.length>1&&oh(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function rh(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function D0(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(i.length)return rh(t,"x",i[0])||rh(t,"y",i[0])}return{}}function O0(t,e){const i=Ai[t.type]||{scales:{}},n=e.scales||{},s=Cr(t.type,e),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!I(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Lr(r,a,D0(r,t),nt.scales[a.type]),c=C0(l,s),h=i.scales||{};o[r]=Rn(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||Cr(a,e),h=(Ai[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=P0(u,l),f=r[d+"AxisID"]||d;o[f]=o[f]||Object.create(null),Rn(o[f],[{axis:d},n[f],h[u]])})}),Object.keys(o).forEach(r=>{const a=o[r];Rn(a,[nt.scales[a.type],nt.scale])}),o}function vf(t){const e=t.options||(t.options={});e.plugins=D(e.plugins,{}),e.scales=O0(t,e)}function wf(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function R0(t){return t=t||{},t.data=wf(t.data),vf(t),t}const ah=new Map,kf=new Set;function xs(t,e){let i=ah.get(t);return i||(i=e(),ah.set(t,i),kf.add(i)),i}const wn=(t,e,i)=>{const n=ei(e,i);n!==void 0&&t.add(n)};class F0{constructor(e){this._config=R0(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vf(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xs(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return xs(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return xs(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,n=this.type;return xs(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const n=this._scopeCache;let s=n.get(e);return(!s||i)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,i,n){const{options:s,type:o}=this,r=this._cachedScopes(e,n),a=r.get(i);if(a)return a;const l=new Set;i.forEach(h=>{e&&(l.add(e),h.forEach(u=>wn(l,e,u))),h.forEach(u=>wn(l,s,u)),h.forEach(u=>wn(l,Ai[o]||{},u)),h.forEach(u=>wn(l,nt,u)),h.forEach(u=>wn(l,Er,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),kf.has(i)&&r.set(i,c),c}chartOptionScopes(){const{options:e,type:i}=this;return[e,Ai[i]||{},nt.datasets[i]||{},{type:i},nt,Er]}resolveNamedOptions(e,i,n,s=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=lh(this._resolverCache,e,s);let l=r;if(B0(r,i)){o.$shared=!1,n=ii(n)?n():n;const c=this.createResolver(e,n,a);l=Qi(r,n,c)}for(const c of i)o[c]=l[c];return o}createResolver(e,i,n=[""],s){const{resolver:o}=lh(this._resolverCache,e,n);return I(i)?Qi(o,i,void 0,s):o}}function lh(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=i.join();let o=n.get(s);return o||(o={resolver:Xa(e,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,o)),o}const I0=t=>I(t)&&Object.getOwnPropertyNames(t).some(e=>ii(t[e]));function B0(t,e){const{isScriptable:i,isIndexable:n}=Qd(t);for(const s of e){const o=i(s),r=n(s),a=(r||o)&&t[s];if(o&&(ii(a)||I0(a))||r&&it(a))return!0}return!1}var N0="4.5.0";const z0=["top","bottom","left","right","chartArea"];function ch(t,e){return t==="top"||t==="bottom"||z0.indexOf(t)===-1&&e==="x"}function hh(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function uh(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),$(i&&i.onComplete,[t],e)}function V0(t){const e=t.chart,i=e.options.animation;$(i&&i.onProgress,[t],e)}function Sf(t){return Ka()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ls={},dh=t=>{const e=Sf(t);return Object.values(Ls).filter(i=>i.canvas===e).pop()};function U0(t,e,i){const n=Object.keys(t);for(const s of n){const o=+s;if(o>=e){const r=t[s];delete t[s],(i>0||o>e)&&(t[o+i]=r)}}}function j0(t,e,i,n){return!i||t.type==="mouseout"?null:n?e:t}class Qa{static defaults=nt;static instances=Ls;static overrides=Ai;static registry=be;static version=N0;static getChart=dh;static register(...e){be.add(...e),fh()}static unregister(...e){be.remove(...e),fh()}constructor(e,i){const n=this.config=new F0(i),s=Sf(e),o=dh(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||r0(s)),this.platform.updateConfig(n);const a=this.platform.acquireContext(s,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Bp(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new S0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=t1(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],Ls[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Me.listen(this,"complete",uh),Me.listen(this,"progress",V0),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:s,_aspectRatio:o}=this;return F(e)?i&&o?o:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return be}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dc(this.canvas,this.ctx),this}stop(){return Me.stop(this),this}resize(e,i){Me.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const n=this.options,s=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,i,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Fc(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),$(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};G(i,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,i=e.scales,n=this.scales,s=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];i&&(o=o.concat(Object.keys(i).map(r=>{const a=i[r],l=Lr(r,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),G(o,r=>{const a=r.options,l=a.id,c=Lr(l,a),h=D(a.type,r.dtype);(a.position===void 0||ch(a.position,c)!==ch(r.dposition))&&(a.position=r.dposition),s[l]=!0;let u=null;if(l in n&&n[l].type===h)u=n[l];else{const d=be.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,e)}),G(s,(r,a)=>{r||delete n[a]}),G(n,r=>{Tt.configure(this,r,r.options),Tt.addBox(this,r)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((s,o)=>s.index-o.index),n>i){for(let s=i;s<n;++s)this._destroyDatasetMeta(s);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(hh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,s)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=i.length;n<s;n++){const o=i[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||Cr(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=be.getController(a),{datasetElementType:c,dataElementType:h}=nt.datasets[a];Object.assign(l,{dataElementType:be.getElement(h),datasetElementType:c&&be.getElement(c)}),r.controller=new l(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){G(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!s&&o.indexOf(u)===-1;u.buildOrUpdateElements(d),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),s||G(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hh("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){G(this.scales,e=>{Tt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!kc(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:o}of i){const r=n==="_removeElements"?-o:o;U0(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=o=>new Set(e.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),s=n(0);for(let o=1;o<i;o++)if(!kc(s,n(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tt.update(this,this.width,this.height,e);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],G(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,ii(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Me.has(this)?this.attached&&!Me.running(this)&&Me.start(this):(this.draw(),uh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,n=[];let s,o;for(s=0,o=i.length;s<o;++s){const r=i[s];(!e||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=uf(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&So(i,s),e.controller.draw(),s&&Mo(i),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Re(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,s){const o=z2.modes[i];return typeof o=="function"?o(this,e,n,s):[]}getDatasetMeta(e){const i=this.data.datasets[e],n=this._metasets;let s=n.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=ri(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){const n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){const s=n?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,s);Yn(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Me.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dc(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Ls[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,n=(o,r)=>{i.addEventListener(this,o,r),e[o]=r},s=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};G(this.options.events,o=>n(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,n=(l,c)=>{i.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(i.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():r()}unbindEvents(){G(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},G(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){const s=n?"set":"remove";let o,r,a,l;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],n=e.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!zs(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){const s=this.options.hover,o=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=o(i,e),a=n?e:o(e,i);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,i){const n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const o=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(o||n.changed)&&this.render(),this}_handleEvent(e,i,n){const{_active:s=[],options:o}=this,r=i,a=this._getActiveElements(e,s,n,r),l=Wp(e),c=j0(e,this._lastEvent,n,l);n&&(this._lastEvent=null,$(o.onHover,[e,a,this],this),l&&$(o.onClick,[e,a,this],this));const h=!zs(a,s);return(h||i)&&(this._active=a,this._updateHoverStyles(a,s,i)),this._lastEvent=c,h}_getActiveElements(e,i,n,s){if(e.type==="mouseout")return[];if(!n)return i;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}}function fh(){return G(Qa.instances,t=>t._plugins.invalidate())}function W0(t,e,i){const{startAngle:n,x:s,y:o,outerRadius:r,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:h}=l,u=Math.min(c/r,At(n-i));if(t.beginPath(),t.arc(s,o,r-c/2,n+u/2,i-u/2),a>0){const d=Math.min(c/a,At(n-i));t.arc(s,o,a+c/2,i-d/2,n+d/2,!0)}else{const d=Math.min(c/2,r*At(n-i));if(h==="round")t.arc(s,o,d,i-j/2,n+j/2,!0);else if(h==="bevel"){const f=2*d*d,g=-f*Math.cos(i+j/2)+s,p=-f*Math.sin(i+j/2)+o,m=f*Math.cos(n+j/2)+s,b=f*Math.sin(n+j/2)+o;t.lineTo(g,p),t.lineTo(m,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function H0(t,e,i){const{startAngle:n,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(o,r,a,n-c,i+c),l>s?(c=s/l,t.arc(o,r,l,i+c,n-c,!0)):t.arc(o,r,s,i+dt,n-dt),t.closePath(),t.clip()}function G0(t){return Ga(t,["outerStart","outerEnd","innerStart","innerEnd"])}function X0(t,e,i,n){const s=G0(t.options.borderRadius),o=(i-e)/2,r=Math.min(o,n*e/2),a=l=>{const c=(i-Math.min(o,l))*n/2;return vt(l,0,Math.min(o,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:vt(s.innerStart,0,r),innerEnd:vt(s.innerEnd,0,r)}}function Fi(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Gs(t,e,i,n,s,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,u=Math.max(e.outerRadius+n+i-c,0),d=h>0?h+n+i+c:0;let f=0;const g=s-l;if(n){const X=h>0?h-n:0,Q=u>0?u-n:0,ht=(X+Q)/2,ae=ht!==0?g*ht/(ht+n):g;f=(g-ae)/2}const p=Math.max(.001,g*u-i/j)/u,m=(g-p)/2,b=l+m+f,_=s-m-f,{outerStart:v,outerEnd:x,innerStart:y,innerEnd:w}=X0(e,d,u,_-b),k=u-v,S=u-x,L=b+v/k,O=_-x/S,R=d+y,z=d+w,wt=b+y/R,Ut=_-w/z;if(t.beginPath(),o){const X=(L+O)/2;if(t.arc(r,a,u,L,X),t.arc(r,a,u,X,O),x>0){const kt=Fi(S,O,r,a);t.arc(kt.x,kt.y,x,O,_+dt)}const Q=Fi(z,_,r,a);if(t.lineTo(Q.x,Q.y),w>0){const kt=Fi(z,Ut,r,a);t.arc(kt.x,kt.y,w,_+dt,Ut+Math.PI)}const ht=(_-w/d+(b+y/d))/2;if(t.arc(r,a,d,_-w/d,ht,!0),t.arc(r,a,d,ht,b+y/d,!0),y>0){const kt=Fi(R,wt,r,a);t.arc(kt.x,kt.y,y,wt+Math.PI,b-dt)}const ae=Fi(k,b,r,a);if(t.lineTo(ae.x,ae.y),v>0){const kt=Fi(k,L,r,a);t.arc(kt.x,kt.y,v,b-dt,L)}}else{t.moveTo(r,a);const X=Math.cos(L)*u+r,Q=Math.sin(L)*u+a;t.lineTo(X,Q);const ht=Math.cos(O)*u+r,ae=Math.sin(O)*u+a;t.lineTo(ht,ae)}t.closePath()}function Y0(t,e,i,n,s){const{fullCircles:o,startAngle:r,circumference:a}=e;let l=e.endAngle;if(o){Gs(t,e,i,n,l,s);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=r+(a%J||J))}return Gs(t,e,i,n,l,s),t.fill(),l}function $0(t,e,i,n,s){const{fullCircles:o,startAngle:r,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(u||[]),t.lineDashOffset=d,g?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let p=e.endAngle;if(o){Gs(t,e,i,n,p,s);for(let m=0;m<o;++m)t.stroke();isNaN(a)||(p=r+(a%J||J))}g&&H0(t,e,p),l.selfJoin&&p-r>=j&&f===0&&h!=="miter"&&W0(t,e,p),o||(Gs(t,e,i,n,p,s),t.stroke())}class K0 extends Ve{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,n){const s=this.getProps(["x","y"],n),{angle:o,distance:r}=Wd(s,{x:e,y:i}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,f=D(u,l-a),g=$n(o,a,l)&&a!==l,p=f>=J||g,m=De(r,c+d,h+d);return p&&m}getCenterPoint(e){const{x:i,y:n,startAngle:s,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,h=(s+o)/2,u=(r+a+c+l)/2;return{x:i+Math.cos(h)*u,y:n+Math.sin(h)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:n}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,r=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>J?Math.floor(n/J):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(j,n||0)),c=s*l;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,Y0(e,this,c,o,r),$0(e,this,c,o,r),e.restore()}}function Mf(t,e,i=e){t.lineCap=D(i.borderCapStyle,e.borderCapStyle),t.setLineDash(D(i.borderDash,e.borderDash)),t.lineDashOffset=D(i.borderDashOffset,e.borderDashOffset),t.lineJoin=D(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=D(i.borderWidth,e.borderWidth),t.strokeStyle=D(i.borderColor,e.borderColor)}function q0(t,e,i){t.lineTo(i.x,i.y)}function J0(t){return t.stepped?d1:t.tension||t.cubicInterpolationMode==="monotone"?f1:q0}function Af(t,e,i={}){const n=t.length,{start:s=0,end:o=n-1}=i,{start:r,end:a}=e,l=Math.max(s,r),c=Math.min(o,a),h=s<r&&o<r||s>a&&o>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!h?n+c-l:c-l}}function Z0(t,e,i,n){const{points:s,options:o}=e,{count:r,start:a,loop:l,ilen:c}=Af(s,i,n),h=J0(o);let{move:u=!0,reverse:d}=n||{},f,g,p;for(f=0;f<=c;++f)g=s[(a+(d?c-f:f))%r],!g.skip&&(u?(t.moveTo(g.x,g.y),u=!1):h(t,p,g,d,o.stepped),p=g);return l&&(g=s[(a+(d?c:0))%r],h(t,p,g,d,o.stepped)),!!l}function Q0(t,e,i,n){const s=e.points,{count:o,start:r,ilen:a}=Af(s,i,n),{move:l=!0,reverse:c}=n||{};let h=0,u=0,d,f,g,p,m,b;const _=x=>(r+(c?a-x:x))%o,v=()=>{p!==m&&(t.lineTo(h,m),t.lineTo(h,p),t.lineTo(h,b))};for(l&&(f=s[_(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[_(d)],f.skip)continue;const x=f.x,y=f.y,w=x|0;w===g?(y<p?p=y:y>m&&(m=y),h=(u*h+x)/++u):(v(),t.lineTo(x,y),g=w,u=0,p=m=y),b=y}v()}function Dr(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?Q0:Z0}function tm(t){return t.stepped?G1:t.tension||t.cubicInterpolationMode==="monotone"?X1:bi}function em(t,e,i,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,i,n)&&s.closePath()),Mf(t,e.options),t.stroke(s)}function im(t,e,i,n){const{segments:s,options:o}=e,r=Dr(e);for(const a of s)Mf(t,o,a.style),t.beginPath(),r(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}const nm=typeof Path2D=="function";function sm(t,e,i,n){nm&&!e.options.segment?em(t,e,i,n):im(t,e,i,n)}class Eo extends Ve{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;B1(this._points,n,e,s,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z1(this,this.options.segment))}first(){const e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){const e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){const n=this.options,s=e[i],o=this.points,r=hf(this,{property:i,start:s,end:s});if(!r.length)return;const a=[],l=tm(n);let c,h;for(c=0,h=r.length;c<h;++c){const{start:u,end:d}=r[c],f=o[u],g=o[d];if(f===g){a.push(f);continue}const p=Math.abs((s-f[i])/(g[i]-f[i])),m=l(f,g,p,n.stepped);m[i]=e[i],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,i,n){return Dr(this)(e,this,i,n)}path(e,i,n){const s=this.segments,o=Dr(this);let r=this._loop;i=i||0,n=n||this.points.length-i;for(const a of s)r&=o(e,this,a,{start:i,end:i+n-1});return!!r}draw(e,i,n,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),sm(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gh(t,e,i,n){const s=t.options,{[i]:o}=t.getProps([i],n);return Math.abs(e-o)<s.radius+s.hitRadius}class om extends Ve{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){const s=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(i-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return gh(this,e,"x",i)}inYRange(e,i){return gh(this,e,"y",i)}getCenterPoint(e){const{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){const n=this.options;this.skip||n.radius<.1||!Re(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Pr(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Tf(t,e){const{x:i,y:n,base:s,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,u;return t.horizontal?(u=r/2,a=Math.min(i,s),l=Math.max(i,s),c=n-u,h=n+u):(u=o/2,a=i-u,l=i+u,c=Math.min(n,s),h=Math.max(n,s)),{left:a,top:c,right:l,bottom:h}}function Xe(t,e,i,n){return t?0:vt(e,i,n)}function rm(t,e,i){const n=t.options.borderWidth,s=t.borderSkipped,o=Zd(n);return{t:Xe(s.top,o.top,0,i),r:Xe(s.right,o.right,0,e),b:Xe(s.bottom,o.bottom,0,i),l:Xe(s.left,o.left,0,e)}}function am(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,o=vi(s),r=Math.min(e,i),a=t.borderSkipped,l=n||I(s);return{topLeft:Xe(!l||a.top||a.left,o.topLeft,0,r),topRight:Xe(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Xe(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Xe(!l||a.bottom||a.right,o.bottomRight,0,r)}}function lm(t){const e=Tf(t),i=e.right-e.left,n=e.bottom-e.top,s=rm(t,i/2,n/2),o=am(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function er(t,e,i,n){const s=e===null,o=i===null,a=t&&!(s&&o)&&Tf(t,n);return a&&(s||De(e,a.left,a.right))&&(o||De(i,a.top,a.bottom))}function cm(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function hm(t,e){t.rect(e.x,e.y,e.w,e.h)}function ir(t,e,i={}){const n=t.x!==i.x?-e:0,s=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-n,r=(t.y+t.h!==i.y+i.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+o,h:t.h+r,radius:t.radius}}class um extends Ve{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:i,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:r}=lm(this),a=cm(r.radius)?Kn:hm;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),a(e,ir(r,i,o)),e.clip(),a(e,ir(o,-i,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,ir(o,i)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,i,n){return er(this,e,i,n)}inXRange(e,i){return er(this,e,null,i)}inYRange(e,i){return er(this,null,e,i)}getCenterPoint(e){const{x:i,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(i+s)/2:i,y:o?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var dm=Object.freeze({__proto__:null,ArcElement:K0,BarElement:um,LineElement:Eo,PointElement:om});const Or=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ph=Or.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ef(t){return Or[t%Or.length]}function Pf(t){return ph[t%ph.length]}function fm(t,e){return t.borderColor=Ef(e),t.backgroundColor=Pf(e),++e}function gm(t,e){return t.backgroundColor=t.data.map(()=>Ef(e++)),e}function pm(t,e){return t.backgroundColor=t.data.map(()=>Pf(e++)),e}function mm(t){let e=0;return(i,n)=>{const s=t.getDatasetMeta(n).controller;s instanceof Ja?e=gm(i,e):s instanceof pf?e=pm(i,e):s&&(e=fm(i,e))}}function mh(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function bm(t){return t&&(t.borderColor||t.backgroundColor)}function _m(){return nt.borderColor!=="rgba(0,0,0,0.1)"||nt.backgroundColor!=="rgba(0,0,0,0.1)"}var ym={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:s}=t.config,{elements:o}=s,r=mh(n)||bm(s)||o&&mh(o)||_m();if(!i.forceOverride&&r)return;const a=mm(t);n.forEach(a)}};function xm(t,e,i,n,s){const o=s.samples||n;if(o>=i)return t.slice(e,e+i);const r=[],a=(i-2)/(o-2);let l=0;const c=e+i-1;let h=e,u,d,f,g,p;for(r[l++]=t[h],u=0;u<o-2;u++){let m=0,b=0,_;const v=Math.floor((u+1)*a)+1+e,x=Math.min(Math.floor((u+2)*a)+1,i)+e,y=x-v;for(_=v;_<x;_++)m+=t[_].x,b+=t[_].y;m/=y,b/=y;const w=Math.floor(u*a)+1+e,k=Math.min(Math.floor((u+1)*a)+1,i)+e,{x:S,y:L}=t[h];for(f=g=-1,_=w;_<k;_++)g=.5*Math.abs((S-m)*(t[_].y-L)-(S-t[_].x)*(b-L)),g>f&&(f=g,d=t[_],p=_);r[l++]=d,h=p}return r[l++]=t[c],r}function vm(t,e,i,n){let s=0,o=0,r,a,l,c,h,u,d,f,g,p;const m=[],b=e+i-1,_=t[e].x,x=t[b].x-_;for(r=e;r<e+i;++r){a=t[r],l=(a.x-_)/x*n,c=a.y;const y=l|0;if(y===h)c<g?(g=c,u=r):c>p&&(p=c,d=r),s=(o*s+a.x)/++o;else{const w=r-1;if(!F(u)&&!F(d)){const k=Math.min(u,d),S=Math.max(u,d);k!==f&&k!==w&&m.push({...t[k],x:s}),S!==f&&S!==w&&m.push({...t[S],x:s})}r>0&&w!==f&&m.push(t[w]),m.push(a),h=y,o=0,g=p=c,u=d=f=r}}return m}function Cf(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function bh(t){t.data.datasets.forEach(e=>{Cf(e)})}function wm(t,e){const i=e.length;let n=0,s;const{iScale:o}=t,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=vt(Oe(e,o.axis,r).lo,0,i-1)),c?s=vt(Oe(e,o.axis,a).hi+1,n,i)-n:s=i-n,{start:n,count:s}}var km={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){bh(t);return}const n=t.width;t.data.datasets.forEach((s,o)=>{const{_data:r,indexAxis:a}=s,l=t.getDatasetMeta(o),c=r||s.data;if(Tn([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=t.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:u,count:d}=wm(l,c);const f=i.threshold||4*n;if(d<=f){Cf(s);return}F(r)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(i.algorithm){case"lttb":g=xm(c,u,d,n,i);break;case"min-max":g=vm(c,u,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}s._decimated=g})},destroy(t){bh(t)}};function Sm(t,e,i){const n=t.segments,s=t.points,o=e.points,r=[];for(const a of n){let{start:l,end:c}=a;c=Po(l,c,s);const h=Rr(i,s[l],s[c],a.loop);if(!e.segments){r.push({source:a,target:h,start:s[l],end:s[c]});continue}const u=hf(e,h);for(const d of u){const f=Rr(i,o[d.start],o[d.end],d.loop),g=cf(a,s,f);for(const p of g)r.push({source:p,target:d,start:{[i]:_h(h,f,"start",Math.max)},end:{[i]:_h(h,f,"end",Math.min)}})}}return r}function Rr(t,e,i,n){if(n)return;let s=e[t],o=i[t];return t==="angle"&&(s=At(s),o=At(o)),{property:t,start:s,end:o}}function Mm(t,e){const{x:i=null,y:n=null}=t||{},s=e.points,o=[];return e.segments.forEach(({start:r,end:a})=>{a=Po(r,a,s);const l=s[r],c=s[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):i!==null&&(o.push({x:i,y:l.y}),o.push({x:i,y:c.y}))}),o}function Po(t,e,i){for(;e>t;e--){const n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function _h(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function Lf(t,e){let i=[],n=!1;return it(t)?(n=!0,i=t):i=Mm(t,e),i.length?new Eo({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function yh(t){return t&&t.fill!==!1}function Am(t,e,i){let s=t[e].fill;const o=[e];let r;if(!i)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!ct(s))return s;if(r=t[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function Tm(t,e,i){const n=Lm(t);if(I(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return ct(s)&&Math.floor(s)===s?Em(n[0],e,s,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Em(t,e,i,n){return(t==="-"||t==="+")&&(i=e+i),i===e||i<0||i>=n?!1:i}function Pm(t,e){let i=null;return t==="start"?i=e.bottom:t==="end"?i=e.top:I(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function Cm(t,e,i){let n;return t==="start"?n=i:t==="end"?n=e.options.reverse?e.min:e.max:I(t)?n=t.value:n=e.getBaseValue(),n}function Lm(t){const e=t.options,i=e.fill;let n=D(i&&i.target,i);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Dm(t){const{scale:e,index:i,line:n}=t,s=[],o=n.segments,r=n.points,a=Om(e,i);a.push(Lf({x:null,y:e.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let h=c.start;h<=c.end;h++)Rm(s,r[h],a)}return new Eo({points:s,options:{}})}function Om(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const o=n[s];if(o.index===e)break;o.hidden||i.unshift(o.dataset)}return i}function Rm(t,e,i){const n=[];for(let s=0;s<i.length;s++){const o=i[s],{first:r,last:a,point:l}=Fm(o,e,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(t.push(l),!a)break}}t.push(...n)}function Fm(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const s=n[i],o=t.segments,r=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const h=o[c],u=r[h.start][i],d=r[h.end][i];if(De(s,u,d)){a=s===u,l=s===d;break}}return{first:a,last:l,point:n}}class Df{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,n){const{x:s,y:o,radius:r}=this;return i=i||{start:0,end:J},e.arc(s,o,r,i.end,i.start,!0),!n.bounds}interpolate(e){const{x:i,y:n,radius:s}=this,o=e.angle;return{x:i+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}}function Im(t){const{chart:e,fill:i,line:n}=t;if(ct(i))return Bm(e,i);if(i==="stack")return Dm(t);if(i==="shape")return!0;const s=Nm(t);return s instanceof Df?s:Lf(s,n)}function Bm(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}function Nm(t){return(t.scale||{}).getPointPositionForValue?Vm(t):zm(t)}function zm(t){const{scale:e={},fill:i}=t,n=Pm(i,e);if(ct(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function Vm(t){const{scale:e,fill:i}=t,n=e.options,s=e.getLabels().length,o=n.reverse?e.max:e.min,r=Cm(i,e,o),a=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,o);return new Df({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,r));return a}function nr(t,e,i){const n=Im(e),{chart:s,index:o,line:r,scale:a,axis:l}=e,c=r.options,h=c.fill,u=c.backgroundColor,{above:d=u,below:f=u}=h||{},g=s.getDatasetMeta(o),p=uf(s,g);n&&r.points.length&&(So(t,i),Um(t,{line:r,target:n,above:d,below:f,area:i,scale:a,axis:l,clip:p}),Mo(t))}function Um(t,e){const{line:i,target:n,above:s,below:o,area:r,scale:a,clip:l}=e,c=i._loop?"angle":e.axis;t.save();let h=o;o!==s&&(c==="x"?(xh(t,n,r.top),sr(t,{line:i,target:n,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),xh(t,n,r.bottom)):c==="y"&&(vh(t,n,r.left),sr(t,{line:i,target:n,color:o,scale:a,property:c,clip:l}),t.restore(),t.save(),vh(t,n,r.right),h=s)),sr(t,{line:i,target:n,color:h,scale:a,property:c,clip:l}),t.restore()}function xh(t,e,i){const{segments:n,points:s}=e;let o=!0,r=!1;t.beginPath();for(const a of n){const{start:l,end:c}=a,h=s[l],u=s[Po(l,c,s)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function vh(t,e,i){const{segments:n,points:s}=e;let o=!0,r=!1;t.beginPath();for(const a of n){const{start:l,end:c}=a,h=s[l],u=s[Po(l,c,s)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(i,h.y),t.lineTo(h.x,h.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(i,u.y)}t.lineTo(i,e.first().y),t.closePath(),t.clip()}function sr(t,e){const{line:i,target:n,property:s,color:o,scale:r,clip:a}=e,l=Sm(i,n,s);for(const{source:c,target:h,start:u,end:d}of l){const{style:{backgroundColor:f=o}={}}=c,g=n!==!0;t.save(),t.fillStyle=f,jm(t,r,a,g&&Rr(s,u,d)),t.beginPath();const p=!!i.pathSegment(t,c);let m;if(g){p?t.closePath():wh(t,n,d,s);const b=!!n.pathSegment(t,h,{move:p,reverse:!0});m=p&&b,m||wh(t,n,u,s)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function jm(t,e,i,n){const s=e.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,h,u;o==="x"?(l=r,c=s.top,h=a,u=s.bottom):(l=s.left,c=r,h=s.right,u=a),t.beginPath(),i&&(l=Math.max(l,i.left),h=Math.min(h,i.right),c=Math.max(c,i.top),u=Math.min(u,i.bottom)),t.rect(l,c,h-l,u-c),t.clip()}}function wh(t,e,i,n){const s=e.interpolate(i,n);s&&t.lineTo(s.x,s.y)}var Wm={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,s=[];let o,r,a,l;for(r=0;r<n;++r)o=t.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Eo&&(l={visible:t.isDatasetVisible(r),index:r,fill:Tm(a,r,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,s.push(l);for(r=0;r<n;++r)l=s[r],!(!l||l.fill===!1)&&(l.fill=Am(s,r,i.propagate))},beforeDraw(t,e,i){const n=i.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let r=s.length-1;r>=0;--r){const a=s[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&nr(t.ctx,a,o))}},beforeDatasetsDraw(t,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const o=n[s].$filler;yh(o)&&nr(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;!yh(n)||i.drawTime!=="beforeDatasetDraw"||nr(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kh=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},Hm=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sh extends Ve{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,n){this.maxWidth=e,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=$(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(n=>e.filter(n,this.chart.data))),e.sort&&(i=i.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=yt(n.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=kh(n,o);let c,h;i.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(r,o,a,l)+10):(h=this.maxHeight,c=this._fitCols(r,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,i,n,s){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a;let u=e;o.textAlign="left",o.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((g,p)=>{const m=n+i/2+o.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>r)&&(u+=h,c[c.length-(p>0?0:1)]=0,f+=h,d++),l[p]={left:0,top:f,row:d,width:m,height:s},c[c.length-1]+=m+a}),u}_fitCols(e,i,n,s){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=r-e;let u=a,d=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:_,itemHeight:v}=Gm(n,i,o,m,s);b>0&&f+v+2*a>h&&(u+=d+a,c.push({width:d,height:f}),g+=d+a,p++,d=f=0),l[b]={left:g,top:f,col:p,width:_,height:v},d=Math.max(d,_),f+=v+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:s},rtl:o}}=this,r=Vi(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=St(n,this.left+s,this.right-this.lineWidths[a]);for(const c of i)a!==c.row&&(a=c.row,l=St(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+s}else{let a=0,l=St(n,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of i)c.col!==a&&(a=c.col,l=St(n,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;So(e,this),this._draw(),Mo(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:n,ctx:s}=this,{align:o,labels:r}=e,a=nt.color,l=Vi(e.rtl,this.left,this.width),c=yt(r.font),{padding:h}=r,u=c.size,d=u/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=kh(r,u),b=function(w,k,S){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const L=D(S.lineWidth,1);if(s.fillStyle=D(S.fillStyle,a),s.lineCap=D(S.lineCap,"butt"),s.lineDashOffset=D(S.lineDashOffset,0),s.lineJoin=D(S.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=D(S.strokeStyle,a),s.setLineDash(D(S.lineDash,[])),r.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:L},R=l.xPlus(w,g/2),z=k+d;Jd(s,O,R,z,r.pointStyleWidth&&g)}else{const O=k+Math.max((u-p)/2,0),R=l.leftForLtr(w,g),z=vi(S.borderRadius);s.beginPath(),Object.values(z).some(wt=>wt!==0)?Kn(s,{x:R,y:O,w:g,h:p,radius:z}):s.rect(R,O,g,p),s.fill(),L!==0&&s.stroke()}s.restore()},_=function(w,k,S){Ti(s,S.text,w,k+m/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},v=this.isHorizontal(),x=this._computeTitleHeight();v?f={x:St(o,this.left+h,this.right-n[0]),y:this.top+h+x,line:0}:f={x:this.left+h,y:St(o,this.top+x+h,this.bottom-i[0].height),line:0},rf(this.ctx,e.textDirection);const y=m+h;this.legendItems.forEach((w,k)=>{s.strokeStyle=w.fontColor,s.fillStyle=w.fontColor;const S=s.measureText(w.text).width,L=l.textAlign(w.textAlign||(w.textAlign=r.textAlign)),O=g+d+S;let R=f.x,z=f.y;l.setWidth(this.width),v?k>0&&R+O+h>this.right&&(z=f.y+=y,f.line++,R=f.x=St(o,this.left+h,this.right-n[f.line])):k>0&&z+y>this.bottom&&(R=f.x=R+i[f.line].width+h,f.line++,z=f.y=St(o,this.top+x+h,this.bottom-i[f.line].height));const wt=l.x(R);if(b(wt,z,w),R=e1(L,R+g+d,v?R+O:this.right,e.rtl),_(l.x(R),z,w),v)f.x+=O+h;else if(typeof w.text!="string"){const Ut=c.lineHeight;f.y+=Of(w,Ut)+h}else f.y+=y}),af(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,n=yt(i.font),s=Et(i.padding);if(!i.display)return;const o=Vi(e.rtl,this.left,this.width),r=this.ctx,a=i.position,l=n.size/2,c=s.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=St(e.align,u,this.right-d);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);h=c+St(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=St(a,u,u+d);r.textAlign=o.textAlign(Wa(a)),r.textBaseline="middle",r.strokeStyle=i.color,r.fillStyle=i.color,r.font=n.string,Ti(r,i.text,f,h,n)}_computeTitleHeight(){const e=this.options.title,i=yt(e.font),n=Et(e.padding);return e.display?i.lineHeight+n.height:0}_getLegendItemAt(e,i){let n,s,o;if(De(e,this.left,this.right)&&De(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],De(e,s.left,s.left+s.width)&&De(i,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const i=this.options;if(!$m(e.type,i))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=Hm(s,n);s&&!o&&$(i.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!o&&$(i.onHover,[e,n,this],this)}else n&&$(i.onClick,[e,n,this],this)}}function Gm(t,e,i,n,s){const o=Xm(n,t,e,i),r=Ym(s,n,e.lineHeight);return{itemWidth:o,itemHeight:r}}function Xm(t,e,i,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,r)=>o.length>r.length?o:r)),e+i.size/2+n.measureText(s).width}function Ym(t,e,i){let n=t;return typeof e.text!="string"&&(n=Of(e,i)),n}function Of(t,e){const i=t.text?t.text.length:0;return e*i}function $m(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Km={id:"legend",_element:Sh,start(t,e,i){const n=t.legend=new Sh({ctx:t.ctx,options:i,chart:t});Tt.configure(t,n,i),Tt.addBox(t,n)},stop(t){Tt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;Tt.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,s=i.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:s,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(i?0:void 0),h=Et(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class tl extends Ve{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const s=it(n.text)?n.text.length:1;this._padding=Et(n.padding);const o=s*yt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:n,bottom:s,right:o,options:r}=this,a=r.align;let l=0,c,h,u;return this.isHorizontal()?(h=St(a,n,o),u=i+e,c=o-n):(r.position==="left"?(h=n+e,u=St(a,s,i),l=j*-.5):(h=o-e,u=St(a,i,s),l=j*.5),c=s-i),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const n=yt(i.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Ti(e,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:c,textAlign:Wa(i.align),textBaseline:"middle",translation:[r,a]})}}function qm(t,e){const i=new tl({ctx:t.ctx,options:e,chart:t});Tt.configure(t,i,e),Tt.addBox(t,i),t.titleBlock=i}var Jm={id:"title",_element:tl,start(t,e,i){qm(t,i)},stop(t){const e=t.titleBlock;Tt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;Tt.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vs=new WeakMap;var Zm={id:"subtitle",start(t,e,i){const n=new tl({ctx:t.ctx,options:i,chart:t});Tt.configure(t,n,i),Tt.addBox(t,n),vs.set(t,n)},stop(t){Tt.removeBox(t,vs.get(t)),vs.delete(t)},beforeUpdate(t,e,i){const n=vs.get(t);Tt.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pn={average(t){if(!t.length)return!1;let e,i,n=new Set,s=0,o=0;for(e=0,i=t.length;e<i;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),s+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let i=e.x,n=e.y,s=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=t.length;o<r;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Tr(e,c);h<s&&(s=h,a=l)}}if(a){const l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function me(t,e){return e&&(it(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ae(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Qm(t,e){const{element:i,datasetIndex:n,index:s}=e,o=t.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:t,label:r,parsed:o.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:i}}function Mh(t,e){const i=t.chart.ctx,{body:n,footer:s,title:o}=t,{boxWidth:r,boxHeight:a}=e,l=yt(e.bodyFont),c=yt(e.titleFont),h=yt(e.footerFont),u=o.length,d=s.length,f=n.length,g=Et(e.padding);let p=g.height,m=0,b=n.reduce((x,y)=>x+y.before.length+y.lines.length+y.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*h.lineHeight+(d-1)*e.footerSpacing);let _=0;const v=function(x){m=Math.max(m,i.measureText(x).width+_)};return i.save(),i.font=c.string,G(t.title,v),i.font=l.string,G(t.beforeBody.concat(t.afterBody),v),_=e.displayColors?r+2+e.boxPadding:0,G(n,x=>{G(x.before,v),G(x.lines,v),G(x.after,v)}),_=0,i.font=h.string,G(t.footer,v),i.restore(),m+=g.width,{width:m,height:p}}function t3(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function e3(t,e,i,n){const{x:s,width:o}=n,r=i.caretSize+i.caretPadding;if(t==="left"&&s+o+r>e.width||t==="right"&&s-o-r<0)return!0}function i3(t,e,i,n){const{x:s,width:o}=i,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),e3(c,t,e,i)&&(c="center"),c}function Ah(t,e,i){const n=i.yAlign||e.yAlign||t3(t,i);return{xAlign:i.xAlign||e.xAlign||i3(t,e,i,n),yAlign:n}}function n3(t,e){let{x:i,width:n}=t;return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function s3(t,e,i){let{y:n,height:s}=t;return e==="top"?n+=i:e==="bottom"?n-=s+i:n-=s/2,n}function Th(t,e,i,n){const{caretSize:s,caretPadding:o,cornerRadius:r}=t,{xAlign:a,yAlign:l}=i,c=s+o,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=vi(r);let g=n3(e,a);const p=s3(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(h,d)+s:a==="right"&&(g+=Math.max(u,f)+s),{x:vt(g,0,n.width-e.width),y:vt(p,0,n.height-e.height)}}function ws(t,e,i){const n=Et(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Eh(t){return me([],Ae(t))}function o3(t,e,i){return ri(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function Ph(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Rf={beforeTitle:Se,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:Se,beforeBody:Se,beforeLabel:Se,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return F(i)||(e+=i),e},labelColor(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Se,afterBody:Se,beforeFooter:Se,footer:Se,afterFooter:Se};function It(t,e,i,n){const s=t[e].call(i,n);return typeof s>"u"?Rf[e].call(i,n):s}class Ch extends Ve{static positioners=Pn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&i.options.animation&&n.animations,o=new df(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=o3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:n}=i,s=It(n,"beforeTitle",this,e),o=It(n,"title",this,e),r=It(n,"afterTitle",this,e);let a=[];return a=me(a,Ae(s)),a=me(a,Ae(o)),a=me(a,Ae(r)),a}getBeforeBody(e,i){return Eh(It(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:n}=i,s=[];return G(e,o=>{const r={before:[],lines:[],after:[]},a=Ph(n,o);me(r.before,Ae(It(a,"beforeLabel",this,o))),me(r.lines,It(a,"label",this,o)),me(r.after,Ae(It(a,"afterLabel",this,o))),s.push(r)}),s}getAfterBody(e,i){return Eh(It(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:n}=i,s=It(n,"beforeFooter",this,e),o=It(n,"footer",this,e),r=It(n,"afterFooter",this,e);let a=[];return a=me(a,Ae(s)),a=me(a,Ae(o)),a=me(a,Ae(r)),a}_createItems(e){const i=this._active,n=this.chart.data,s=[],o=[],r=[];let a=[],l,c;for(l=0,c=i.length;l<c;++l)a.push(Qm(this.chart,i[l]));return e.filter&&(a=a.filter((h,u,d)=>e.filter(h,u,d,n))),e.itemSort&&(a=a.sort((h,u)=>e.itemSort(h,u,n))),G(a,h=>{const u=Ph(e.callbacks,h);s.push(It(u,"labelColor",this,h)),o.push(It(u,"labelPointStyle",this,h)),r.push(It(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(e,i){const n=this.options.setContext(this.getContext()),s=this._active;let o,r=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const a=Pn[n.position].call(this,s,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Mh(this,n),c=Object.assign({},a,l),h=Ah(this.chart,n,c),u=Th(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,s){const o=this.getCaretPosition(e,n,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,n){const{xAlign:s,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=vi(a),{x:d,y:f}=e,{width:g,height:p}=i;let m,b,_,v,x,y;return o==="center"?(x=f+p/2,s==="left"?(m=d,b=m-r,v=x+r,y=x-r):(m=d+g,b=m+r,v=x-r,y=x+r),_=m):(s==="left"?b=d+Math.max(l,h)+r:s==="right"?b=d+g-Math.max(c,u)-r:b=this.caretX,o==="top"?(v=f,x=v-r,m=b-r,_=b+r):(v=f+p,x=v+r,m=b+r,_=b-r),y=v),{x1:m,x2:b,x3:_,y1:v,y2:x,y3:y}}drawTitle(e,i,n){const s=this.title,o=s.length;let r,a,l;if(o){const c=Vi(n.rtl,this.x,this.width);for(e.x=ws(this,n.titleAlign,n),i.textAlign=c.textAlign(n.titleAlign),i.textBaseline="middle",r=yt(n.titleFont),a=n.titleSpacing,i.fillStyle=n.titleColor,i.font=r.string,l=0;l<o;++l)i.fillText(s[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,i,n,s,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,h=yt(o.bodyFont),u=ws(this,"left",o),d=s.x(u),f=l<h.lineHeight?(h.lineHeight-l)/2:0,g=i.y+f;if(o.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(d,c)+c/2,b=g+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Pr(e,p,m,b),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Pr(e,p,m,b)}else{e.lineWidth=I(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const p=s.leftForLtr(d,c),m=s.leftForLtr(s.xPlus(d,1),c-2),b=vi(r.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Kn(e,{x:p,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Kn(e,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=r.backgroundColor,e.fillRect(m,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){const{body:s}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=n,u=yt(n.bodyFont);let d=u.lineHeight,f=0;const g=Vi(n.rtl,this.x,this.width),p=function(S){i.fillText(S,g.x(e.x+f),e.y+d/2),e.y+=d+o},m=g.textAlign(r);let b,_,v,x,y,w,k;for(i.textAlign=r,i.textBaseline="middle",i.font=u.string,e.x=ws(this,m,n),i.fillStyle=n.bodyColor,G(this.beforeBody,p),f=a&&m!=="right"?r==="center"?c/2+h:c+2+h:0,x=0,w=s.length;x<w;++x){for(b=s[x],_=this.labelTextColors[x],i.fillStyle=_,G(b.before,p),v=b.lines,a&&v.length&&(this._drawColorBox(i,e,x,g,n),d=Math.max(u.lineHeight,l)),y=0,k=v.length;y<k;++y)p(v[y]),d=u.lineHeight;G(b.after,p)}f=0,d=u.lineHeight,G(this.afterBody,p),e.y-=o}drawFooter(e,i,n){const s=this.footer,o=s.length;let r,a;if(o){const l=Vi(n.rtl,this.x,this.width);for(e.x=ws(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=l.textAlign(n.footerAlign),i.textBaseline="middle",r=yt(n.footerFont),i.fillStyle=n.footerColor,i.font=r.string,a=0;a<o;++a)i.fillText(s[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,i,n,s){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:h}=n,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=vi(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(a+u,l),r==="top"&&this.drawCaret(e,i,n,s),i.lineTo(a+c-d,l),i.quadraticCurveTo(a+c,l,a+c,l+d),r==="center"&&o==="right"&&this.drawCaret(e,i,n,s),i.lineTo(a+c,l+h-g),i.quadraticCurveTo(a+c,l+h,a+c-g,l+h),r==="bottom"&&this.drawCaret(e,i,n,s),i.lineTo(a+f,l+h),i.quadraticCurveTo(a,l+h,a,l+h-f),r==="center"&&o==="left"&&this.drawCaret(e,i,n,s),i.lineTo(a,l+u),i.quadraticCurveTo(a,l,a+u,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,n=this.$animations,s=n&&n.x,o=n&&n.y;if(s||o){const r=Pn[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Mh(this,e),l=Object.assign({},r,this._size),c=Ah(i,e,l),h=Th(e,l,c,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Et(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,s,i),rf(e,i.textDirection),o.y+=r.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),af(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const n=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!zs(n,s),r=this._positionChanged(s,i);(o||r)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],r=this._getActiveElements(e,o,i,n),a=this._positionChanged(r,e),l=i||!zs(r,o)||a;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),l}_getActiveElements(e,i,n,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return i.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(e,i){const{caretX:n,caretY:s,options:o}=this,r=Pn[o.position].call(this,e,i);return r!==!1&&(n!==r.x||s!==r.y)}}var r3={id:"tooltip",_element:Ch,positioners:Pn,afterInit(t,e,i){i&&(t.tooltip=new Ch({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Rf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a3=Object.freeze({__proto__:null,Colors:ym,Decimation:km,Filler:Wm,Legend:Km,SubTitle:Zm,Title:Jm,Tooltip:r3});const l3=(t,e,i,n)=>(typeof e=="string"?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function c3(t,e,i,n){const s=t.indexOf(e);if(s===-1)return l3(t,e,i,n);const o=t.lastIndexOf(e);return s!==o?i:s}const h3=(t,e)=>t===null?null:vt(Math.round(t),0,e);function Lh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class u3 extends Pi{static id="category";static defaults={ticks:{callback:Lh}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:s,label:o}of i)n[s]===o&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(F(e))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:c3(n,e,D(i,e),this._addedLabels),h3(i,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,i=this.max,n=this.options.offset,s=[];let o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=i;r++)s.push({value:r});return s}getLabelForValue(e){return Lh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function d3(t,e){const i=[],{bounds:s,step:o,min:r,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=t,f=o||1,g=h-1,{min:p,max:m}=e,b=!F(r),_=!F(a),v=!F(c),x=(m-p)/(u+1);let y=Mc((m-p)/g/f)*f,w,k,S,L;if(y<1e-14&&!b&&!_)return[{value:p},{value:m}];L=Math.ceil(m/y)-Math.floor(p/y),L>g&&(y=Mc(L*y/g/f)*f),F(l)||(w=Math.pow(10,l),y=Math.ceil(y*w)/w),s==="ticks"?(k=Math.floor(p/y)*y,S=Math.ceil(m/y)*y):(k=p,S=m),b&&_&&o&&$p((a-r)/o,y/1e3)?(L=Math.round(Math.min((a-r)/y,h)),y=(a-r)/L,k=r,S=a):v?(k=b?r:k,S=_?a:S,L=c-1,y=(S-k)/L):(L=(S-k)/y,Fn(L,Math.round(L),y/1e3)?L=Math.round(L):L=Math.ceil(L));const O=Math.max(Ac(y),Ac(k));w=Math.pow(10,F(l)?O:l),k=Math.round(k*w)/w,S=Math.round(S*w)/w;let R=0;for(b&&(d&&k!==r?(i.push({value:r}),k<r&&R++,Fn(Math.round((k+R*y)*w)/w,r,Dh(r,x,t))&&R++):k<r&&R++);R<L;++R){const z=Math.round((k+R*y)*w)/w;if(_&&z>a)break;i.push({value:z})}return _&&d&&S!==a?i.length&&Fn(i[i.length-1].value,a,Dh(a,x,t))?i[i.length-1].value=a:i.push({value:a}):(!_||S===a)&&i.push({value:S}),i}function Dh(t,e,{horizontal:i,minRotation:n}){const s=le(n),o=(i?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+t).length;return Math.min(e/o,r)}class Xs extends Pi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return F(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this;const r=l=>s=i?s:l,a=l=>o=n?o:l;if(e){const l=ye(s),c=ye(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(s===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||r(s-l)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),i=i||11),i&&(s=Math.min(i,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,r=d3(s,o);return e.bounds==="ticks"&&jd(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-i)/Math.max(e.length-1,1)/2;i-=s,n+=s}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(e){return ns(e,this.chart.options.locale,this.options.ticks.format)}}class f3 extends Xs{static id="linear";static defaults={ticks:{callback:ko.formatters.numeric}};determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ct(e)?e:0,this.max=ct(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,n=le(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Jn=t=>Math.floor(Ge(t)),gi=(t,e)=>Math.pow(10,Jn(t)+e);function Oh(t){return t/Math.pow(10,Jn(t))===1}function Rh(t,e,i){const n=Math.pow(10,i),s=Math.floor(t/n);return Math.ceil(e/n)-s}function g3(t,e){const i=e-t;let n=Jn(i);for(;Rh(t,e,n)>10;)n++;for(;Rh(t,e,n)<10;)n--;return Math.min(n,Jn(t))}function p3(t,{min:e,max:i}){e=Xt(t.min,e);const n=[],s=Jn(e);let o=g3(e,i),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=s>o?Math.pow(10,s):0,c=Math.round((e-l)*r)/r,h=Math.floor((e-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,o)),d=Xt(t.min,Math.round((l+h+u*Math.pow(10,o))*r)/r);for(;d<i;)n.push({value:d,major:Oh(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,r=o>=0?1:r),d=Math.round((l+h+u*Math.pow(10,o))*r)/r;const f=Xt(t.max,d);return n.push({value:f,major:Oh(f),significand:u}),n}class m3 extends Pi{static id="logarithmic";static defaults={ticks:{callback:ko.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){const n=Xs.prototype.parse.apply(this,[e,i]);if(n===0){this._zero=!0;return}return ct(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ct(e)?Math.max(0,e):null,this.max=ct(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ct(this._userMin)&&(this.min=e===gi(this.min,0)?gi(this.min,-1):gi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let n=this.min,s=this.max;const o=a=>n=e?n:a,r=a=>s=i?s:a;n===s&&(n<=0?(o(1),r(10)):(o(gi(n,-1)),r(gi(s,1)))),n<=0&&o(gi(s,-1)),s<=0&&r(gi(n,1)),this.min=n,this.max=s}buildTicks(){const e=this.options,i={min:this._userMin,max:this._userMax},n=p3(i,this);return e.bounds==="ticks"&&jd(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":ns(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ge(e),this._valueRange=Ge(this.max)-Ge(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ge(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}}function Fr(t){const e=t.ticks;if(e.display&&t.display){const i=Et(e.backdropPadding);return D(e.font&&e.font.size,nt.font.size)+i.height}return 0}function b3(t,e,i){return i=it(i)?i:[i],{w:u1(t,e.string,i),h:i.length*e.lineHeight}}function Fh(t,e,i,n,s){return t===n||t===s?{start:e-i/2,end:e+i/2}:t<n||t>s?{start:e-i,end:e}:{start:e,end:e+i}}function _3(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],s=[],o=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?j/o:0;for(let l=0;l<o;l++){const c=r.setContext(t.getPointLabelContext(l));s[l]=c.padding;const h=t.getPointPosition(l,t.drawingArea+s[l],a),u=yt(c.font),d=b3(t.ctx,u,t._pointLabels[l]);n[l]=d;const f=At(t.getIndexAngle(l)+a),g=Math.round(Ua(f)),p=Fh(g,h.x,d.w,0,180),m=Fh(g,h.y,d.h,90,270);y3(i,e,f,p,m)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=w3(t,n,s)}function y3(t,e,i,n,s){const o=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/r,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function x3(t,e,i){const n=t.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=i,l=t.getPointPosition(e,n+s+r,o),c=Math.round(Ua(At(l.angle+dt))),h=M3(l.y,a.h,c),u=k3(c),d=S3(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function v3(t,e){if(!e)return!0;const{left:i,top:n,right:s,bottom:o}=t;return!(Re({x:i,y:n},e)||Re({x:i,y:o},e)||Re({x:s,y:n},e)||Re({x:s,y:o},e))}function w3(t,e,i){const n=[],s=t._pointLabels.length,o=t.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:Fr(o)/2,additionalAngle:r?j/s:0};let c;for(let h=0;h<s;h++){l.padding=i[h],l.size=e[h];const u=x3(t,h,l);n.push(u),a==="auto"&&(u.visible=v3(u,c),u.visible&&(c=u))}return n}function k3(t){return t===0||t===180?"center":t<180?"left":"right"}function S3(t,e,i){return i==="right"?t-=e:i==="center"&&(t-=e/2),t}function M3(t,e,i){return i===90||i===270?t-=e/2:(i>270||i<90)&&(t-=e),t}function A3(t,e,i){const{left:n,top:s,right:o,bottom:r}=i,{backdropColor:a}=e;if(!F(a)){const l=vi(e.borderRadius),c=Et(e.backdropPadding);t.fillStyle=a;const h=n-c.left,u=s-c.top,d=o-n+c.width,f=r-s+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Kn(t,{x:h,y:u,w:d,h:f,radius:l}),t.fill()):t.fillRect(h,u,d,f)}}function T3(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let s=e-1;s>=0;s--){const o=t._pointLabelItems[s];if(!o.visible)continue;const r=n.setContext(t.getPointLabelContext(s));A3(i,r,o);const a=yt(r.font),{x:l,y:c,textAlign:h}=o;Ti(i,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:r.color,textAlign:h,textBaseline:"middle"})}}function Ff(t,e,i,n){const{ctx:s}=t;if(i)s.arc(t.xCenter,t.yCenter,e,0,J);else{let o=t.getPointPosition(0,e);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=t.getPointPosition(r,e),s.lineTo(o.x,o.y)}}function E3(t,e,i,n,s){const o=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!n||!a||!l||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),Ff(t,i,r,n),o.closePath(),o.stroke(),o.restore())}function P3(t,e,i){return ri(t,{label:i,index:e,type:"pointLabel"})}class C3 extends Xs{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ko.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Et(Fr(this.options)/2),i=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!1);this.min=ct(e)&&!isNaN(e)?e:0,this.max=ct(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Fr(this.options))}generateTickLabels(e){Xs.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,n)=>{const s=$(this.options.pointLabels.callback,[i,n],this);return s||s===0?s:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?_3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,n,s){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,n,s))}getIndexAngle(e){const i=J/(this._pointLabels.length||1),n=this.options.startAngle||0;return At(e*i+le(n))}getDistanceFromCenterForValue(e){if(F(e))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(F(e))return NaN;const i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){const i=this._pointLabels||[];if(e>=0&&e<i.length){const n=i[e];return P3(this.getContext(),e,n)}}getPointPosition(e,i,n=0){const s=this.getIndexAngle(e)-dt+n;return{x:Math.cos(s)*i+this.xCenter,y:Math.sin(s)*i+this.yCenter,angle:s}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:i,top:n,right:s,bottom:o}=this._pointLabelItems[e];return{left:i,top:n,right:s,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:i}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Ff(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,i=this.options,{angleLines:n,grid:s,border:o}=i,r=this._pointLabels.length;let a,l,c;if(i.pointLabels.display&&T3(this,r),s.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=s.setContext(d),g=o.setContext(d);E3(this,f,l,r,g)}}),n.display){for(e.save(),a=r-1;a>=0;a--){const h=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;const c=n.setContext(this.getContext(l)),h=yt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,r=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const u=Et(c.backdropPadding);e.fillRect(-r/2-u.left,-o-h.size/2-u.top,r+u.width,h.size+u.height)}Ti(e,a.label,0,-o,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const Co={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(Co);function Ih(t,e){return t-e}function Bh(t,e){if(F(e))return null;const i=t._adapter,{parser:n,round:s,isoWeekday:o}=t._parseOpts;let r=e;return typeof n=="function"&&(r=n(r)),ct(r)||(r=typeof n=="string"?i.parse(r,n):i.parse(r)),r===null?null:(s&&(r=s==="week"&&(Zi(o)||o===!0)?i.startOf(r,"isoWeek",o):i.startOf(r,s)),+r)}function Nh(t,e,i,n){const s=Bt.length;for(let o=Bt.indexOf(t);o<s-1;++o){const r=Co[Bt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((i-e)/(a*r.size))<=n)return Bt[o]}return Bt[s-1]}function L3(t,e,i,n,s){for(let o=Bt.length-1;o>=Bt.indexOf(i);o--){const r=Bt[o];if(Co[r].common&&t._adapter.diff(s,n,r)>=e-1)return r}return Bt[i?Bt.indexOf(i):0]}function D3(t){for(let e=Bt.indexOf(t)+1,i=Bt.length;e<i;++e)if(Co[Bt[e]].common)return Bt[e]}function zh(t,e,i){if(!i)t[e]=!0;else if(i.length){const{lo:n,hi:s}=ja(i,e),o=i[n]>=e?i[n]:i[s];t[o]=!0}}function O3(t,e,i,n){const s=t._adapter,o=+s.startOf(e[0].value,n),r=e[e.length-1].value;let a,l;for(a=o;a<=r;a=+s.add(a,1,n))l=i[a],l>=0&&(e[l].major=!0);return e}function Vh(t,e,i){const n=[],s={},o=e.length;let r,a;for(r=0;r<o;++r)a=e[r],s[a]=r,n.push({value:a,major:!1});return o===0||!i?n:O3(t,n,s,i)}class Ir extends Pi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const n=e.time||(e.time={}),s=this._adapter=new R2._date(e.adapters.date);s.init(i),Rn(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:Bh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,n=e.time.unit||"day";let{min:s,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ct(s)&&!isNaN(s)?s:+i.startOf(Date.now(),n),o=ct(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){const e=this.options,i=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,r=this.max,a=Zp(s,o,r);return this._unit=i.unit||(n.autoSkip?Nh(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):L3(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:D3(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Vh(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?i=1-s:i=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;i=vt(i,0,r),n=vt(n,0,r),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const e=this._adapter,i=this.min,n=this.max,s=this.options,o=s.time,r=o.unit||Nh(o.minUnit,i,n,this._getLabelCapacity(i)),a=D(s.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Zi(l)||l===!0,h={};let u=i,d,f;if(c&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,c?"day":r),e.diff(n,i,r)>1e5*a)throw new Error(i+" and "+n+" are too far apart with stepSize of "+a+" "+r);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<n;d=+e.add(d,a,r),f++)zh(h,d,g);return(d===n||s.bounds==="ticks"||f===1)&&zh(h,d,g),Object.keys(h).sort(Ih).map(p=>+p)}getLabelForValue(e){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){const s=this.options.time.displayFormats,o=this._unit,r=i||s[o];return this._adapter.format(e,r)}_tickFormatFunction(e,i,n,s){const o=this.options,r=o.ticks.callback;if(r)return $(r,[e,i,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=n[i],f=c&&u&&d&&d.major;return this._adapter.format(e,s||(f?u:h))}generateTickLabels(e){let i,n,s;for(i=0,n=e.length;i<n;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){const i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,n=this.ctx.measureText(e).width,s=le(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(e){const i=this.options.time,n=i.displayFormats,s=n[i.unit]||n.millisecond,o=this._tickFormatFunction(e,0,Vh(this,[e],this._majorUnit),s),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,n=s.length;i<n;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,n;if(e.length)return e;const s=this.getLabels();for(i=0,n=s.length;i<n;++i)e.push(Bh(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Gd(e.sort(Ih))}}function ks(t,e,i){let n=0,s=t.length-1,o,r,a,l;i?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=Oe(t,"pos",e)),{pos:o,time:a}=t[n],{pos:r,time:l}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=Oe(t,"time",e)),{time:o,pos:a}=t[n],{time:r,pos:l}=t[s]);const c=r-o;return c?a+(l-a)*(e-o)/c:a}class R3 extends Ir{static id="timeseries";static defaults=Ir.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=ks(i,this.min),this._tableRange=ks(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:n}=this,s=[],o=[];let r,a,l,c,h;for(r=0,a=e.length;r<a;++r)c=e[r],c>=i&&c<=n&&s.push(c);if(s.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(r=0,a=s.length;r<a;++r)h=s[r+1],l=s[r-1],c=s[r],Math.round((h+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const e=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?e=this.normalize(i.concat(n)):e=i.length?i:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ks(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return ks(this._table,n*this._tableRange+this._minPos,!0)}}var F3=Object.freeze({__proto__:null,CategoryScale:u3,LinearScale:f3,LogarithmicScale:m3,RadialLinearScale:C3,TimeScale:Ir,TimeSeriesScale:R3});const I3=[O2,dm,a3,F3];Qa.register(...I3);const If=20,Br=50,Ds=[],Bf=[];for(let t=0;t<If;t++)Bf.push({label:` ${t+1}`,data:Array(Br).fill(0),borderColor:B3(t),fill:!1,tension:.1});function B3(t){const e=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(201, 203, 207)","rgb(255, 205, 86)","rgb(100, 100, 100)","rgb(200, 0, 0)","rgb(0, 200, 0)","rgb(0, 0, 200)","rgb(200, 200, 0)","rgb(0, 200, 200)","rgb(200, 0, 200)","rgb(128, 128, 0)","rgb(0, 128, 128)","rgb(128, 0, 128)","rgb(128, 0, 0)","rgb(0, 128, 0)","rgb(0, 0, 128)"];return e[t%e.length]}const N3=document.getElementById("graph");let Uh=new Qa(N3,{type:"line",data:{labels:Ds,datasets:Bf},options:{animation:!1,scales:{y:{beginAtZero:!1,min:-.15,max:.15}},plugins:{legend:{display:!1}}}}),z3=0;function V3(t){Ds.push(z3++),Ds.length>Br&&Ds.shift();for(let e=0;e<If;e++){const i=Uh.data.datasets[e].data;i.push(t[e]),i.length>Br&&i.shift()}Uh.update()}const Ce=document.getElementById("webcam"),Cn=document.getElementById("output_canvas"),Ss=Cn.getContext("2d");let el,Gt=Array(4).fill(null).map(()=>Array(10).fill(0)),kn=Array(2).fill(null).map(()=>Array(10).fill(0));const U3=async()=>{const t=await pi.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/wasm");el=await Ct.createFromOptions(t,{baseOptions:{modelAssetPath:"./hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:2}),console.log("HandLandmarker is ready."),j3()},j3=async()=>{if(!el){console.log("Wait! handLandmarker not loaded yet.");return}const t={video:!0};try{const e=await navigator.mediaDevices.getUserMedia(t);Ce.srcObject=e,Ce.addEventListener("playing",Nf),Ce.addEventListener("loadeddata",()=>{Ce.play()})}catch(e){console.error("getUserMedia error: ",e)}},Nf=()=>{Ce.removeEventListener("playing",Nf),Cn.width=Ce.videoWidth,Cn.height=Ce.videoHeight;const t=()=>{Ce.currentTime;const e=performance.now(),i=el.detectForVideo(Ce,e);if(Ss.save(),Ss.clearRect(0,0,Cn.width,Cn.height),i.landmarks){const o=new Pt(Ss);Gt[3]=[...Gt[2]],Gt[2]=[...Gt[1]],Gt[1]=[...Gt[0]];for(let r=0;r<i.landmarks.length;r++){const a=i.landmarks[r];o.drawConnectors(a,Ct.HAND_CONNECTIONS,{color:"#00FF00",lineWidth:2}),a.forEach((h,u)=>{u===4||u===8||u===12||u===16||u===20?o.drawLandmarks([h],{color:"#FF0000",lineWidth:2,radius:5}):u===2||u===5||u===9||u===13||u===17?o.drawLandmarks([h],{color:"#00FF00",lineWidth:2,radius:5}):u===0&&o.drawLandmarks([h],{color:"#0000ff",lineWidth:2,radius:5})});const c=i.handedness[r][0].categoryName==="Left"?0:5;Gt[0][0+c]=bn(a[4],a[0],a[2]),Gt[0][1+c]=bn(a[8],a[0],a[5]),Gt[0][2+c]=bn(a[12],a[0],a[9]),Gt[0][3+c]=bn(a[16],a[0],a[13]),Gt[0][4+c]=bn(a[20],a[0],a[17])}}const n=(()=>{const o=Gt[0].length;let r=Array(o).fill(0);for(const a of Gt)for(let l=0;l<o;l++)r[l]+=a[l];return r.map(a=>a/4)})();kn[1]=[...kn[0]],kn[0]=[...n];const s=kn[0].map((o,r)=>o-kn[1][r]);V3(s),Ss.restore(),requestAnimationFrame(t)};try{t()}catch(e){alert(e)}};U3();
